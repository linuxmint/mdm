<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "/usr/share/sgml/docbook/dtd/xml/4.1.2/docbookx.dtd" [
<!ENTITY legal SYSTEM "legal.xml">
<!ENTITY version "2.20.4">
<!ENTITY date "03/10/2008">
<!ENTITY mdash "&#8212;">
<!ENTITY percnt "&#x0025;">
]>
<article id="index" lang="es">
  <articleinfo>
    <title>Manual de referencia del Gestor de entrada de GNOME</title>

    <revhistory>
      <revision>
        <revnumber>0.0</revnumber>
        <date>2007-01</date>
      </revision>
    </revhistory>

    <abstract role="description">
      <para>MDM es el Gestor de entrada de GNOME, un programa gráfico de entrada.</para>
    </abstract>

    <authorgroup>
      <author>
        <firstname>Martin</firstname><othername>K.</othername>
           <surname>Petersen</surname>
        <affiliation>
          <address><email>mkp@mkp.net</email></address>
        </affiliation>
      </author>
      <author>
        <firstname>George</firstname><surname>Lebl</surname>
        <affiliation>
          <address><email>jirka@5z.com</email></address>
        </affiliation>
      </author>
      <author role="maintainer">
        <firstname>Brian</firstname><surname>Cameron</surname>
        <affiliation>
          <address><email>Brian.Cameron@Sun.COM</email></address>
        </affiliation>
      </author>
      <author>
        <firstname>Bill</firstname><surname>Haneman</surname>
        <affiliation>
          <address><email>Bill.Haneman@Sun.COM</email></address>
        </affiliation>
      </author>
    </authorgroup>
    <copyright>
      <year>1998</year><year>1999</year><holder>Martin K. Petersen</holder>
    </copyright>
    <copyright>
      <year>2001</year><year>2003</year><year>2004</year>
        <holder>George Lebl</holder>
    </copyright>
    <copyright>
      <year>2003</year> <holder>Red Hat, Inc.</holder>
    </copyright>
    <copyright>
      <year>2003</year><year>2004</year><holder>Sun Microsystems, Inc.</holder>
    </copyright><copyright><year>2007-2008</year><holder>Jorge González (jorgegonz@svn.gnome.org)</holder></copyright><copyright><year>2007</year><holder>Lucas Vieites (lucas@asixinformatica.com)</holder></copyright><copyright><year>2003, 2006</year><holder>Francisco Javier F. Serrador (serrador@openshine.com)</holder></copyright>

      <legalnotice id="legalnotice">
	<para>Se concede permiso para copiar, distribuir o modificar este documento según las condiciones de la GNU Free Documentation License (GFDL), Versión 1.1 o cualquier versión posterior publicada por la Free Software Foundation sin Secciones invariantes, Textos de portada y Textos de contraportada. Encontrará una copia de la GFDL en este <ulink type="help" url="ghelp:fdl">enlace</ulink> o en el archivo COPYING-DOCS distribuido con este manual.</para>
         <para>Este manual forma parte de una colección de documentos de GNOME distribuidos según la GFDL. Si desea distribuir este manual de forma independiente de la colección, puede hacerlo agregando una copia de la licencia al documento, según se describe en la sección 6 de la misma.</para>

	<para>Muchos de los nombres utilizados por las empresas para distinguir sus productos y servicios se consideran marcas comerciales. Cuando estos nombres aparezcan en la documentación de GNOME, y siempre que se haya informado a los miembros del Proyecto de documentación de GNOME de dichas marcas comerciales, los nombres aparecerán en mayúsculas o con las iniciales en mayúsculas.</para>

	<para>ESTE DOCUMENTO Y LAS VERSIONES MODIFICADAS DEL MISMO SE OFRECEN SEGÚN LAS CONDICIONES ESTABLECIDAS EN LA LICENCIA DE DOCUMENTACIÓN LIBRE DE GNU (GFDL) Y TENIENDO EN CUENTA QUE: <orderedlist>
		<listitem>
		  <para>EL DOCUMENTO SE ENTREGA "TAL CUAL", SIN GARANTÍA DE NINGÚN TIPO, NI EXPLÍCITA NI IMPLÍCITA INCLUYENDO, SIN LIMITACIÓN, GARANTÍA DE QUE EL DOCUMENTO O VERSIÓN MODIFICADA DE ÉSTE CAREZCA DE DEFECTOS EN EL MOMENTO DE SU VENTA, SEA ADECUADO A UN FIN CONCRETO O INCUMPLA ALGUNA NORMATIVA. TODO EL RIESGO RELATIVO A LA CALIDAD, PRECISIÓN Y UTILIDAD DEL DOCUMENTO O SU VERSIÓN MODIFICADA RECAE EN USTED. SI CUALQUIER DOCUMENTO O VERSIÓN MODIFICADA DE AQUÉL RESULTARA DEFECTUOSO EN CUALQUIER ASPECTO, USTED (Y NO EL REDACTOR INICIAL, AUTOR O AUTOR DE APORTACIONES) ASUMIRÁ LOS COSTES DE TODA REPARACIÓN, MANTENIMIENTO O CORRECCIÓN NECESARIOS. ESTA EXENCIÓN DE RESPONSABILIDAD SOBRE LA GARANTÍA ES UNA PARTE ESENCIAL DE ESTA LICENCIA. NO SE AUTORIZA EL USO DE NINGÚN DOCUMENTO NI VERSIÓN MODIFICADA DE ÉSTE POR EL PRESENTE, SALVO DENTRO DEL CUMPLIMIENTO DE LA EXENCIÓN DE RESPONSABILIDAD;Y</para>
		</listitem>
		<listitem>
		  <para>EN NINGUNA CIRCUNSTANCIA NI BAJO NINGUNA TEORÍA LEGAL, SEA POR ERROR (INCLUYENDO NEGLIGENCIA) CONTRATO O DOCUMENTO DE OTRO TIPO, EL AUTOR, EL ESCRITOR INICIAL, EL AUTOR DE APORTACIONES NI NINGÚN DISTRIBUIDOR DEL DOCUMENTO O VERSIÓN MODIFICADA DEL DOCUMENTO, NI NINGÚN PROVEEDOR DE NINGUNA DE ESAS PARTES, SERÁ RESPONSABLE ANTE NINGUNA PERSONA POR NINGÚN DAÑO DIRECTO, INDIRECTO, ESPECIAL, INCIDENTAL O DERIVADO DE NINGÚN TIPO, INCLUYENDO, SIN LIMITACIÓN DAÑOS POR PÉRDIDA DE FONDO DE COMERCIO, PARO TÉCNICO, FALLO INFORMÁTICO O AVERÍA O CUALQUIER OTRO POSIBLE DAÑO O AVERÍA DERIVADO O RELACIONADO CON EL USO DEL DOCUMENTO O SUS VERSIONES MODIFICADAS, AUNQUE DICHA PARTE HAYA SIDO INFORMADA DE LA POSIBILIDAD DE QUE SE PRODUJESEN ESOS DAÑOS.</para>
		</listitem>
	  </orderedlist></para>
  </legalnotice>



    <releaseinfo>Este manual describe la versión 2.20.4 del Gestor de entrada de GNOME. Se actualizó por última vez el 10 de marzo de 2008.</releaseinfo>  
  </articleinfo>

  <sect1 id="preface">
    <title>Términos y convenciones usados en este manual</title>

    <para>Este manual describe la versión 2.20.4 del Gestor de entrada de GNOME. Se actualizó por última vez el 10 de marzo de 2008.</para>  

    <para>Selector: Un programa que se usa para seleccionar un equipo remoto para gestionar una pantalla remotamente en la pantalla local (<command>mdmchooser</command>).</para>

    <para>Configurador: La aplicación de configuración (<command>mdmsetup</command>).</para>

    <para>MDM: El gestor de entrada de GNOME. Se usa para describir el paquete de software como un todo. Algunas veces también se refiere a él como MDM2.</para>

    <para>mdm: El demonio del gestor de entrada (<command>mdm</command>).</para>

    <para>Interfaz de entrada: La ventana de entrada gráfica (<command>mdmlogin</command> o <command>mdmgreeter</command>).</para>

    <para>Interfaz de entrada GTK+: La ventana de entrada estándar (<command>mdmlogin</command>).</para>

    <para>PAM: Mecanismo de complementos de autenticación (Pluggable Authentication Mechanism)</para>

    <para>Interfaz de entrada con temas: La ventana de entrada con temas intercambiables (<command>mdmgreeter</command>).</para>

    <para>XDMCP: Protocolo de gestión de pantallas X (X Display Manage Protocol)</para>

    <para>Las rutas que comienzan con una palabra entre los símbolos paréntesis angulosos son relativas al prefijo de instalación. Ej: <filename>&lt;share&gt;/pixmaps/</filename> se refiere a <filename>/usr/share/pixmaps</filename> si MDM se ha configurado con <command>--prefix=/usr</command>. Normalmente también denota que MDM está instalado con <command>--sysconfigdir=/etc/X11</command>, que quiere decir que cualquier ruta a la que se refiera como <filename>&lt;etc&gt;/mdm/PreSession</filename> usualmente significa <filename>&lt;etc/X11&gt;/mdm/PreSession</filename>. Note que para interoperatibilidad se recomienda que use un prefijo de <filename>/usr</filename> y un directorio de configuración del sistema (--sysconfdir) <filename>/etc/X11</filename>.</para>
  </sect1>

  <sect1 id="overview">
    <title>Vista general</title>

    <sect2 id="introduction">
      <title>Introducción</title>

      <para>El Gestor de entrada de GNOME (MDM) es un gestor de entrada que implementa todas las características significativas requeridas para gestionar pantallas remotas y locales. MDM se ha escrito desde cero y no contiene nada de código de XDM / X Consortium.</para>

      <para>Note que el MDM es altamente configurable y muchos ajustes de configuración pueden afectar a la seguridad. Los temas sobre los que debe prestar atención están resaltados en este documento y en los archivos de configuración del MDM.</para> 

      <para>Para más información acerca de MDM, vea <ulink type="http" url="http://www.gnome.org/projects/mdm/"> el sitio web del proyecto MDM</ulink>. Por favor envíe cualquier informe de fallos o peticiones de mejoras a la categoría «mdm» en <ulink type="http" url="http://bugzilla.gnome.org/">bugzilla.gnome.org</ulink>. También puede enviar un mensaje a la lista de correo <address><email>mdm-list@gnome.org</email></address> para tratar sobre cualquier problema o cuestión con el programa MDM.</para>
    </sect2>

    <sect2 id="stability">
      <title>Estabilidad de interfaces</title>

      <para>Los valores de pares de clave/valor definidos en los archivos de configuración de MDM y la ubicación de estos archivos se consideran interfaces «estables» y deberían cambiar sólo de formas compatibles hacia atrás. Note que esto incluye las funcionalidades como los scripts de MDM (Init, PreSession, PostSession, PostLogin, XKeepsCrashing, etc), las ubicaciones de directorios (ServAuthDir, etc), las aplicaciones del sistema (SoundProgram), etc. Algunos valores de configuración dependen de interfaces del SO y quizá necesiten modificarse para que funcionen en un determinado SO. Los ejemplos típicos son HaltCommand, RebootCommand, CustomCommands, SuspendCommand, StandardXServer, Xnest, SoundProgram, y el valor del valor "command" para cada <filename>server-tal</filename>.</para>

      <para>Los interfaces de línea de comandos para los programas MDM instalados en <filename>&lt;bin&gt;</filename> y <filename>&lt;sbin&gt;</filename> se consideran estables. Refiérase a su documentación de la distribución para ver si hay cualquier cambio específico de la distribución a estos interfaces de MDM y qué soporte existe para ellos.</para>

      <para>En las series de desarrollo 2.15 los argumentos de un solo guión no están soportados más. Esto incluye los argumentos "-xdmaddress", "-clientaddress", y "-connectionType" usados por <command>mdmchooser</command>. Estos argumentos se han cambiado para que ahora usen dos guiones.</para>

      <para>Si se descubrieran problemas que rompiesen la compatibilidad, por favor envíe un error con una prioridad «urgente».</para>
    </sect2>

    <sect2 id="daemonov">
      <title>El demonio MDM</title>
      
      <para>El demonio MDM es responsable de gestionar pantallas en el sistema. Esto incluye la autenticación de usuarios, iniciar la sesión del usuario y terminar la sesión del usuario. MDM es configurable y las formas en que puede configurarse se describen en la sección «Configurar MDM» de este documento. Los scripts <filename>Init</filename>, <filename>PostLogin</filename>, <filename>PreSession</filename>, y <filename>PostSession</filename> de los que se habla más abajo se tratan en esta sección «Configurar MDM».</para>

      <para>El demonio de MDM soporta un protocolo de sockets de dominio UNIX que puede usarse para controlar aspectos de su comportamiento y para solicitarle información. Este protocolo se describe en la sección «Controlar MDM» de este documento.</para>

      <para>A MDM se le puede pedir que gestione una pantalla de varias formas. Las pantallas locales las gestiona siempre MDM cuando se inicia y serán reiniciadas cuando la sesión de un usuario termine. Las pantallas pueden pedirse además a través de XDMCP, se pueden pedir pantallas flexibles ejecutando el comando <command>mdmflexiserver</command>. y pantallas bajo demanda a través del comando <command>mdmdynamic</command>. Las pantallas que se inician bajo demanda no se reinician al salir de la sesión.</para>
        
      <para>Cuando se le pide al demonio MDM que gestione una pantalla, bifurcará un proceso servidor de X, después ejecutará el script <filename>Init</filename> como el usuario root, e iniciará el diálogo de entrada como un proceso esclavo en la pantalla. MDM puede configurarse para usar o bien <command>mdmgreeter</command> (predeterminado) o <command>mdmlogin</command> como programa de IGU para la entrada. El programa <command>mdmlogin</command> soporta accesibilidad mientras que el programa <command>mdmgreeter</command> soporta mayor temabilidad. El diálogo de la IGU se ejecuta como el usuario/grupo no privilegiado «mdm» que se describe en la sección «Seguridad» abajo. El diálogo de la IGU se comunica con el demonio por medio de un protocolo de sockets y por medio de la entrada/salida estándar. El esclavo, por ejemplo pasa el nombre del usuario y la contraseña al demonio MDM por medio de la entrada/salida estándar así que el demonio puede manipular la autenticación actual.</para>

      <para>La pantalla de la IGU de la entrada permite al usuario seleccionar qué sesión quiere iniciar y qué idioma quiere usar. Las sesiones se definen por archivos que terminan con la extensión .desktop y puede encontrar más información sobre estos archivos en la sección de «Configuración». El usuario introduce su nombre y contraseña y si éstos le autentican con éxito, MDM iniciará la sesión solicitada para el usuario. Es posible configurar MDM para evitar el proceso de autenticación activando las características de Entrada automática o Entrada temporizada en la configuración de MDM. El IGU de entrada puede configurarse además para para proporcionar características adicionales al usuario, como un visor de rostros, la capacidad de detener, reiniciar o suspender el sistema; y o editar la configuración de entrada (tras introducir la contraseña de root).</para>

      <para>MDM, por omisión, usará Pluggable Authentication Modules (PAM) para autenticar, pero puede usar además contraseñas crypt y shadow en sistemas legados. Tras autenticar al usuario, el demonio ejecuta el script <filename>PostLogin</filename> como root, y bifurca un proceso esclavo para iniciar la sesión solicitada. Este proceso esclavo ejecuta el script de <filename>PreSession</filename> como root, establece el entorno del usuario e inicia la sesión solicitada. MDM conserva la sesión predeterminada del usuario y el idioma en el archivo <filename>~/.dmrc</filename> del usuario y usará estos predeterminados si el usuario no seleccionó una sesión o idioma en la IGU de entrada. En Solaris, MDM (desde la versión 2.8.0.3) usa el interfaz SDTLOGIN después de autenticar al usuario para decir al servidor X que se reinicie como el usuario en vez de como root para mayor seguridad. Cuando la sesión del usuario sale, el demonio de MDM ejecutará el script <filename>PostSession</filename> como root.</para>

      <para>Tenga en cuenta que, de modo predeterminado, MDM utiliza «mdm» como nombre de servicio para un inicio de sesión normal y el nombre «mdm-autologin» para el inicio de sesión automático. Puede utilizar la opción de configuración <filename>PamStack</filename> para indicar un nombre distinto. Por ejemplo, si indica «foo», MDM utilizará el nombre «foo» para el servicio de inicio de sesión normal y «foo-autologin» para el inicio de sesión automático.</para>

      <para>Para aquellos que estén viendo el código, la función mdm_verify_user en <filename>daemon/verify-pam.c</filename> se utiliza para el inicio de sesión normal y la función mdm_verify_setup_user para el inicio de sesión automático.</para>
    </sect2>

    <sect2 id="displaytypes">
      <title>Tipos de pantalla diferentes</title>

      <para>MDM soporta tres tipos de pantalla diferentes: pantallas locales, pantallas flexibles (bajo demanda), y pantallas remotas XDMCP. Las subsección "X Server Definitions" de la sección «Configuración» explica cómo se configura el servidor X para las diferentes pantallas.</para>

      <para>Las pantallas locales (también conocidas como estáticas) siempre se inician por el demonio, y cuando mueren o se las mata, se reinician. MDM puede ejecutar tantas como se necesiten. MDM también puede gestionar pantallas en las cuales no gestiona la entrada de la IGU él mismo, permitiendo usar MDM para soportar terminales X. La subsección «Configuración de la pantalla local» de la sección «Configuración» describe cómo se definen las pantallas locales.</para>

      <para>Las pantallas flexibles (también conocidas como bajo demanda) sólo están disponibles para usuarios que hayan iniciado sesión en la consola. Iniciar una pantalla flexible bloqueara la sesión actual del usuario y mostrará una nueva pantalla de inicio de sesión sobre la sesión actualmente en ejecución. Si ya se está ejecutando, al menos, una pantalla flexible y el usuario pide otra, entonces se mostrará un diálogo con las pantallas flexibles existentes. El usuario puede cambiar a una pantalla anterior o iniciar una nueva pantalla flexible. Si el usuario cambia a una pantalla anterior, deberá introducir la contraseña en el programa de bloqueo de pantalla para volver a su sesión. El archivo de configuración de MDM especifica el máximo número de pantallas flexibles permitidas en el sistema.</para>

      <para>Las pantallas flexibles se puede iniciar ejecutando el comando <command>mdmflexiserver</command> o a llamando al protocolo de socket MDM directamente. Algunos programas de bloqueo de pantalla proporcionan un botón para iniciar una nueva sesión flexible. Esto permite al usuario iniciar una nueva sesión incluso si la pantalla se dejó bloqueada. La miniaplicación de GNOME Cambio rápido de usuario también usa el protocolo de socket para proporcionar una interfaz de miniaplicación en el panel de GNOME para gestionar las pantallas de usuario rápidamente. Las pantallas flexibles no se reiniciar cuando la sesión del usuario termina. Las pantallas flexibles requieren soporte para terminal virtual (VT) en el núcleo y no estarán disponibles si no están soportadas (como pasa en Solaris).</para>

       <para>Los ajustes de configuración <filename>FlexibleXServers</filename>, <filename>FirstVT=7</filename>, <filename>VTAllocation</filename>, y <filename>FlexiReapDelayMinutes</filename> se usan para configurar cómo operan las pantallas flexibles.</para>

       <para>Las pantallas anidadas están disponibles para los usuarios incluso si no han iniciado sesión en la consola. Las pantallas anidadas lanzan una pantalla de inicio de sesión en una ventana dentro de la sesión actual del usuario. Esto puede ser útil si el usuario tiene más de una cuenta en una máquina y desea iniciar sesión en la otra cuenta sin dejar su sesión actual. Las pantallas anidadas se puede iniciar ejecutando el comando <command>mdmflexiserver -n</command> o llamando al protocolo de socket MDM directamente. Las pantallas anidadas requieren que el servidor X soporte un comando de servidor X anidado como Xnest o Xephyr. Se usa la opción de configuración <filename>Xnest</filename> para configurar cómo se inician las pantallas anidadas.</para>

      <para>El comando <command>mdmdynamic</command> es similar a <command>mdmflexiserver</command>en el sentido que permite al usuario gestionar las pantallas dinámicamente. No obstante las pantallas que se inician con <command>mdmdynamic</command> se tratan como pantallas locales, de tal forma que se reinician automáticamente cuando la se sale de la sesión. Este comando está previsto para usarse en entornos de servidor multiusuario (muchas pantallas conectadas a un solo servidor). En otras palabras, este comando permite que las pantallas se gestionen sin incrustar la información de la pantalla en el código, en la sección «Configuración de la pantalla local» del archivo de configuración. Ésto es útil, por ejemplo, para soportar la capacidad de añadir nuevas pantallas al servidor sin necesidad de reiniciar MDM.</para>

      <para>El último tipo es la pantalla remota XDMCP que se describe en la siguiente sección. Los equipos remotos pueden conectarse a MDM y presentar la pantalla de entrada si esto está activado. Algunas cosas son diferentes para las sesiones remotas. Por ejemplo, el menú Acciones que permite apagar, reiniciar o configurar MDM no se mostrará.</para>

    </sect2>

    <sect2 id="xdmcp">
      <title>XDMCP</title>

      <para>El demonio MDM puede configurase para escuchar y gestionar las solicitudes del protocolo X Display Manage Protocol (XDMCP) de las pantallas remotas. Por omisión el soporte para XDMCP está desactivado, pero puede activarse si se desea. Si MDM está construido con soporte TCP Wrapper, entonces el demonio sólo permitirá acceder a equipos remotos especificados en la sección de servicio MDM en el archivo de configuración de TCP Wrappers.</para>

      <para>MDM incluye varias medidas para hacerlo más resistente a ataques de denegación de servicio en el servicio XDMCP. Muchos de los parámetros del protocolo, tiempos de espera negociación, etc pueden ajustarse finamente. Sin embargo la configuración de fábrica debería funcionar en la mayoría de sistemas. No la cambie a menos que sepa lo que está haciendo.</para>

      <para>MDM escucha en el puerto UDP 177 y responderá a las peticiones QUERY y BROADCAST_QUERY enviando un paquete WILLING al originador.</para>

      <para>MDM también puede configurarse para confiar en solicitudes INDIRECT y presentar un selector de equipos al display remoto. MDM recordará la selección del usuario y reenviará las peticiones subsiguiente al gestor seleccionado. MDM también soporta una extensión al protocolo que hará que se olvide de la redirección una vez que la conexión del usuario tiene éxito. Esta extensión está soportada sólo si ambos demonios son MDM. Es transparente y será ignorada por XDM u otros demonios que implementan XDMCP.</para>

      <para>Si parece que XDMCP no funciona, asegúrese de que todas las máquinas están especificadas en <filename>/etc/hosts</filename>.</para>

      <para>Refiérase a la sección «Seguridad» para información acerca de las preocupaciones de seguridad al usar XDMCP.</para>
    </sect2>

    <sect2 id="secureremote">
      <title>Securización de la conexión remota a través de SSH</title>
      <para>Tal como se explica en la sección «Seguridad», XDMCP no usa ninguna clase de encriptación y debido a esto es inherentemente inseguro. Como XDMCP usa UDP como capa de transporte de red, no es posible simplemente securizarla por medio de un túnel SSH.</para>

      <para>Para remediar este problema, MDM puede configurarse durante la compilación con la opción --enable-secureremote, con la cual MDM propone como una sesión integrada una sesión llamada «Conexión remota segura». Iniciar dicha sesión permite al usuario introducir el nombre o la dirección del equipo en el que quiere conectarse, siempre que dicho equipo remoto ejecute un servidor SSH, el usuario entonces obtiene una conexión al servidor en la cual la sesión X predeterminada se inicia y muestra en el equipo remoto local.</para>
      
      <para>Usar esta sesión permite una conexión de red mucho más segura y sólo necesita tener un servidor SSH ejecutándose en el equipo remoto remoto.</para>
    </sect2>

    <sect2 id="gtkgreeter">
      <title>El interfaz GTK+</title>

      <para>El interfaz GTK+ es el interfaz gráfico de usuario predeterminado que se presenta al usuario. El interfaz contiene un menú en la parte superior, un visor de rostros opcional, un logo opcional y un widget para entrada de texto. Este interfaz tiene soporte de accesibilidad completo, y debería usarse por los usuarios con necesidades de accesibilidad.</para>

      <para>El campo de entrada de texto se usa para introducir nombres de usuario, contraseñas, etc. <command>mdmlogin</command> está controlado por un demonio por debajo que es básicamente sin estado. El demonio controla el interfaz a través de un protocolo simple donde puede pedir al interfaz una cadena de texto con eco activado o desactivado. Similarmente, el demonio puede cambiar la etiqueta sobre la entrada de texto para corresponder con el valor que el sistema de autenticación quiere que el usuario introduzca.</para>

      <para>La barra del menú en la parte superior del interfaz de entrada permite al usuario seleccionar el tipo sesión/entorno de escritorio solicitado, seleccionar un idioma/configuración regional apropiada y opcionalmente apagar/reiniciar/suspender el equipo, configurar MDM (siempre que el usuario conozca la contraseña de administrador), cambiar el tema GTK+ o iniciar un selector XDMCP.</para>

      <para>El interfaz de entrada puede mostrar opcionalmente un logotipo en la ventana de entrada. La imagen debe estar en un formato legible por la biblioteca gdk-pixbuf (GIF, JPG, PNG, TIFF, XPM y posiblemente otros), y debe tener permiso de lectura para el usuario de MDM. Vea la opción <filename>Logo</filename> en la sección de referencia inferior para los detalles.</para>
    </sect2>

    <sect2 id="themedgreeter">
      <title>El interfaz con temas</title>

      <para>El interfaz con temas es un interfaz que ocupa la pantalla completa y es muy "temable". Los temas pueden seleccionarse e instalarse por medio de la aplicación de configuración o estableciendo la clave de configuración <filename>GraphicalTheme</filename>. El interfaz con temas se parece al interfaz GTK+ en que está controlado por un demonio por debajo, no tiene estados, y el demonio lo controla usando el mismo protocolo sencillo.</para>

      <para>La apariencia de este interfaz está controlada realmente por el tema y así los elementos del interfaz de usuario que están presentes pueden ser diferentes. La única cosa que debe estar presente siempre es el campo de entrada de texto tal como se describe arriba en el interfaz GTK+. El tema puede incluir botones que permitan al usuario seleccionar la configuración regional o idioma adecuado, detener/reiniciar/suspender el equipo, configurar MDM (siempre que el usuario conozca la contraseña de root), o iniciar un selector XDMCP.</para>

      <para>Puede obtener siempre un menú de las acciones disponibles pulsando la tecla F10. Esto puede ser útil si el tema no proporciona ciertos botones cuando realmente quiere hacer alguna acción permitida por la configuración de MDM.</para>
    </sect2>

    <sect2 id="facebrowser">
      <title>El visor de rostros de MDM</title>

      <para>MDM soporta un visor de rostros que mostrará una lista de usuarios que pueden entrar y un icono para cada usuario. Disponible desde la versión 2.18.1, la opción de configuración <filename>Examinador</filename> debe estar establecida a «true» para que pueda usarse. En versiones anteriores sólo se requería al usar el tema GTK+ Greeter. Al usar el tema Greeter, el visor de rostros sólo está disponible si el tema de MDM incluye un elemento de tipo "userlist".</para>

      <para>Por omisión, el visor de rostros está desactivado debido a que revelar nombres de usuario en la pantalla de entrada no es apropiado en muchos sistemas por razones de seguridad. Además MDM requiere alguna configuración para especificar qué usuarios deberían ser visibles. La configuración puede hacerse en la solapa «Usuarios» en <command>mdmsetup</command>. Esta característica es más práctica de usar en un sistema con un número pequeño de usuarios.</para>

      <para>Los iconos usados por MDM pueden instalarse globalmente por el administrador del sistema o pueden colocarse en los directorios personales de los usuarios. Si se instalan globalmente deberían estar en el directorio <filename>&lt;share&gt;/pixmaps/faces/</filename> (aunque esto puede configurarse con la opción <filename>GlobalFaceDir</filename>) y el nombre del archivo debería ser el nombre del usuario, opcionalmente con un <filename>.png</filename> agregado. Los iconos de caras colocados en el directorio global de caras deben ser legibles por el usuario de MDM. Sin embargo, el demonio, proximiza las imágenes de los usuarios al interfaz y debido a esto no tienen que ser legibles por el usuario «mdm» sino por el root.</para>

      <para>Los usuarios pueden ejecutar el comando <command>mdmphotosetup</command> para configurar la imagen a usar para su id de usuario. Este programa escala apropiadamente el archivo si es más grande que las opciones de configuración <filename>MaxIconWidth</filename> o <filename>MaxIconHeight</filename> y coloca al icono en un archivo llamado <filename>~/.face</filename>. Aunque <command>mdmphotosetup</command> escala las imágenes del usuario automáticamente, esto no garantiza que esas imágenes de usuario estén escaladas de forma adecuada así que un usuario puede crear su archivo <filename>~/.face</filename> a mano.</para>
        
      <para>MDM primero buscará la imagen de la cara del usuario en <filename>~/.face</filename>. Si no la encuentra, intentará con <filename>~/.face.icon</filename>. Si aún no la encuentra, usará el valor definido para "face/picture=" en el archivo <filename>~/.gnome2/mdm</filename>. Por último intentará con <filename>~/.gnome2/photo</filename> y <filename>~/.gnome/photo</filename> los cuales están obsoletos y se soportan por compatibilidad hacia atrás.</para>

      <para>Si un usuario no tiene una imagen de rostro definida, MDM usará el icono "stock_person" definido en el tema GTK+ actual. Si dicha imagen no está definida, entonces usará la imagen especificada en la opción de configuración <filename>DefaultFace</filename> como resguardo, normalmente <filename>&lt;/share&gt;/pixmaps/nobody.png</filename>.</para>
      
      <para>Note que cargar y escalar los iconos de rostros situados en los directorios personales de los usuarios puede ser una tarea que consuma mucho tiempo. Debido a que no es práctico cargar imágenes sobre NIS o NFS, MDM no intenta cargar imágenes de rostros desde directorios personales remotos. Además, MDM parará de cargar imágenes de rostros después de 5 segundos de actividad y sólo mostrará los usuarios cuyas imágenes haya obtenido hasta entonces. La opción <filename>Include</filename> de <filename>mdm.conf</filename> puede usarse para especificar un conjunto de usuarios que deberían aparecer en el visor de rostros. Mientras los usuarios a incluir tengan un tamaño razonable, no debería haber ningún problema con MDM siendo incapaz de acceder a las imágenes de rostros. Para evitar estos problemas, se recomienda situar las imágenes de rostros en el directorio especificado por la opción de configuración <filename>GlobalFaceDir</filename>.</para>

      <para>Para controlar qué usuarios se muestran en el examinador de rostros, hay varias opciones de configuración que pueden usarse. Si se establece a true la opción <filename>IncludeAll</filename>, entonces se analizará el archivo de contraseñas y se mostrarán todos los usuarios. Si la opción <filename>IncludeAll</filename> se establece a falso, entonces la opción <filename>Include</filename> debería contener una lista de usuarios separada por comas. Sólo se mostrarán los usuarios especificados. Cualquier usuario listado en la opción <filename>Exclude</filename> y los usuarios cuyo UID sea inferior a <filename>MinimalUID</filename> se filtrarán con independencia de lo que esté establecido en <filename>IncludeAll</filename>. <filename>IncludeAll</filename> no está recomendado para sistemas donde las contraseñas se carguen por medio de una red (como cuando se usa NIS), debido a que puede ser muy lento cargar más de un pequeño número de usuarios sobre la red.</para>

      <para>Cuando el examinador está activado, los nombres de usuario válidos en el equipo están expuestos inherentemente a un intruso potencial. Esto puede ser una mala idea si no sabe quién puede acceder a una pantalla de entrada. Esto es especialmente cierto si ejecuta XDMCP (desactivado por omisión).</para>
    </sect2>

    <sect2 id="logging">
      <title>Registro de actividad</title>

      <para>MDM por sí mismo usará syslog para registrar los errores o el estado. También puede registrar información de depuración, que puede ser útil para encontrar problemas si MDM no funciona apropiadamente. Esto puede activarse en el archivo de configuración.</para>

      <para>La salida de varios servidores X está almacenada en el directorio de registros de MDM, el cual es configurable, pero normalmente es <filename>/var/log/mdm/</filename>. La salida desde la sesión puede encontrarse en un archivo llamado <filename>&lt;display&gt;.log</filename>. Cuatro archivos más antiguos se almacenan también con <filename>.1</filename> a <filename>.4</filename> anexado. Éstos se rotarán a medida que se inicien nuevas sesiones en esa pantalla. Puede usar estos registros para ver que decía el servidor X cuando arrancaba.</para>

      <para>La salida de la sesión de usuario está redirigida a <filename>~/.xsession-errors</filename> incluso antes de se inicie el script <filename>PreSession</filename>. Así que no es realmente necesario redirigir esto otra vez en el script de configuración de la sesión. Tal como se hace normalmente, si la sesión del usuario duró menos de 10 segundos, MDM asume que la sesión reventó y permite al usuario ver este archivo en un diálogo antes de volver a la pantalla de entrada. De esta manera el usuario puede ver los errores de la última sesión y corregir el problema.</para>

      <para>Puede suprimir la advertencia de los 10 segundos devolviendo un código 66 desde el script <filename>Xsession</filename> desde el binario de la sesión (el script <filename>Xsession</filename> predeterminado propaga esos códigos hacia atrás). Esto es útil si tiene alguna clase de inicios de sesión especiales para los que no es un error retornar menos de esos 10 segundos después, o si configura la sesión para mostrar algún mensaje de error y el mensaje de MDM podría ser confuso y redundante.</para>

      <para>La salida de la sesión se encauza a través del demonio MDM y así el archivo <filename>~/.xsession-errors</filename> está capado a cerca de 200 Kbytes por MDM para prevenir una posible denegación de servicio en la sesión. Una aplicación podría quizás leer algunos datos erróneos, imprimir advertencias o errores en stderr o stdout. Esto podría quizás llenar el directorio personal del usuario quien tendría que cerrar sesión e iniciar sesión de nuevo para limpiar esto. Esto podría ser especialmente desagradable si hay cuotas habilitadas. MDM además atrapa correctamente la señal XFSZ y para de escribir el archivo, lo que podría conducir a sesiones matadas si el archivo fue redirigido en la forma antigua desde el script.</para>

      <para>Note que algunos distribuidores parecen ignorar la redirección de <filename>~/.xsession-errors</filename> y la hacen ellos mismos en su propio script Xsession (establecido por la clave de configuración <filename>BaseXsession</filename>) que significa que MDM no será capaz de atrapar la salida y cubrir este archivo. Puede también perder datos de salida del script <filename>PreSession</filename> lo que puede hacer la depuración mucho más complicada ya que quizás la salida de lo que está equivocado no se imprimirá. Vea la descripción de la clave de configuración <filename>BaseXsession</filename> para más información, especialmente acerca de cómo manejar múltiples gestores de entrada usando el mismo script.</para>

      <para>Note que si la sesión es una sesión a prueba de fallos, o si MDM no puede abrir este archivo por alguna razón, entonces se creará un archivo de apoyo en el directorio <filename>/tmp</filename> llamado <filename>/tmp/xses-&lt;user&gt;.XXXXXX</filename> donde <filename>XXXXXX</filename> son caracteres aleatorios.</para>

      <para>Si ejecuta un sistema sin cuotas activadas, será bueno borrar el archivo <filename>~/.xsession-errors</filename> en el script <filename>PostSession</filename>. Así este archivo de registro no está por medio innecesariamente.</para>
    </sect2>

    <sect2 id="fileaccess">
      <title>Acceder a archivos</title>

      <para>En general MDM es muy reluctante respecto a leer/escribir archivos del usuario (como <filename>~/.dmrc</filename>, <filename>~/.face</filename>, <filename>~/.xsession-errors</filename>, y <filename>~/.Xauthority</filename>). Por ejemplo, se niega a acceder a cualquier cosa que no sean archivos regulares. Los enlaces, sockets y dispositivos se ignoran. El valor del parámetro <filename>RelaxPermissions</filename> determina si MDM debe aceptar archivos escribibles por el grupo del usuario u otros. Éstos se ignoran por omisión.</para>

      <para>Todas las operaciones en los archivos de usuario se realizan con el id efectivo del usuario. Si el control de sanidad falla en el archivo <filename>.Xauthority</filename> del usuario, se crea una cookie de resguardo en el directorio especificado por la opción de configuración <filename>UserAuthFBDir</filename> (<filename>/tmp</filename> por omisión).</para>

      <para>Finalmente, el administrador del sistema puede especificar el tamaño máximo del archivo que MDM debería aceptar y, en el caso de que el visor de rostros esté activado, se fuerza un tamaño máximo del icono. En sistemas grandes se avisa además que desactive el visor de rostros por razones de rendimiento. Mirar iconos en directorios personales, escalarlos y renderizarlos puede llevar mucho tiempo.</para>
    </sect2>

    <sect2 id="performance">
      <title>Rendimiento de MDM</title>

      <para>Para acelerar el rendimiento es posible construir MDM para que precargue las bibliotecas cuando el MDM muestre un programa de entrada por primera vez. Esto se ha mostrado para acelerar el primer inicio de sesión debido a que estas bibliotecas pueden cargarse en memoria mientras el usuario teclea su nombre y contraseña.</para>

      <para>Para usar esta característica, configure MDM con la opción <command>--with-prefetch</command>. Esto causará que MDM instale el programa <command>mdmprefetch</command> en el directorio <filename>libexecdir</filename>, instale el <filename>mdmprefetchlist</filename> en el directorio <filename>&lt;etc&gt;/mdm</filename>, y establezca la variable de configuración <filename>PreFetchProgram</filename> para que se llame al programa <command>mdmprefetch</command> con el archivo predeterminado <filename>mdmprefetchlist</filename>. El archivo predeterminado <filename>mdmprefetchlist</filename> se optimizó para un escritorio GNOME ejecutándose en Solaris, así que quizá necesite algo de ajuste fino en otros sistemas. Pueden contribuirse archivos alternativos de prefetchlist en la categoría «mdm» en <ulink type="http" url="http://bugzilla.gnome.org/">bugzilla.gnome.org</ulink>, para que puedan ser incluidos en lanzamientos futuros de MDM.</para>
    </sect2>
  </sect1>

  <sect1 id="security">
    <title>Seguridad</title>

    <sect2 id="PAM">
      <title>PAM</title>

      <para>MDM usa PAM para autenticación del usuario, aunque si su máquina no soporta PAM puede compilar MDM para que funcione con la base de datos de contraseñas y la biblioteca de funciones crypt.</para>

      <para>PAM significa Pluggable Authentication Module, y se usa por la mayoría de los programas que piden autenticación en su equipo. Permite al usuario configurar diferentes comportamientos de autenticación para distintos programas.</para>

      <para>Algunas características de MDM (como activar la entrada automática) quizá requieran que actualice su configuración PAM. PAM tiene interfaces distintos, pero similares, en diferentes sistemas operativos, así que compruebe su página man de pam.d o pam.conf para los detalles acerca de cómo configurarlo. Asegúrese de leer la documentación de PAM (eg: página man de pam.d/pam.conf) y tenga cuidado con las implicaciones de seguridad de cualquier cambio que intente hacer a su configuración.</para>

      <para>Si no hay ninguna entrada para MDM en su archivo de configuración de PAM, entonces las características como la entrada automática quizá no funcionen. No tener una entrada hará que MDM use el comportamiento predeterminado, se recomiendan configuraciones conservadoras y probablemente sean los que se entreguen con su distribución.</para>

      <para>Si desea que MDM funciona con otros tipos de mecanismos de autenticación (como una SmartCard), entonces debe implementar esto escribiendo un módulo PAM en vez de intentando modificar el código de MDM directamente. Refiérase a la documentación de PAM de su sistema. Esta cuestión se ha discutido en la lista de correo <address><email>mdm-list@gnome.org</email></address>, así que puede referirse a los archivadores de la lista para más información.</para>

      <para>Por ejemplo, una forma efectiva de implementar tal exótico mecanismo de autenticación podría ser tener un demonio ejecutándose en el servidor que escucha al dispositivo de autenticación (ej. una llave USB, un lector de huellas digitales, etc.). Cuando el dispositivo anuncia que ha recibido la entrada, entonces el demonio puede establecer el valor de configuración <filename>PamStack</filename> usando una configuración por cada pantalla y reiniciar la interfaz gráfica de entrada con la pila PAM que funciona junto con el dispositivo. Esto previene la necesidad de programar el código del gestor de pantalla directamente para soportar la característica.</para>
    </sect2>

    <sect2 id="utmpwtmp">
      <title>utmp/wtmp</title>

      <para>MDM genera entradas utmp y wtmp en la base de datos de usuarios sobre el inicio y salida de sesión. La base de datos utmp contiene información del acceso del usuario y de la cuenta y se accede a través de comandos como <command>finger</command>, <command>last</command>, <command>login</command> y <command>who</command>. La base de datos wtmp contiene el histórico de acceso del usuario e información de la cuenta para la base de datos utmp.</para>

      <para>Las versiones de MDM 2.18 y anteriores ejecutaban el programa <command>sessreg</command> del servidor X desde los scripts predeterminados <command>PreSession</command> y <command>PostSession</command>. Desde la versión 2.20 de MDM, éste interactúa con las bases de datos UTMP y WTMP directamente y soporta las siguientes opciones de configuración.</para>
        
      <para>Al realizar el procesado utmp, MDM soporta configuración sobre cómo se establece el valor ut_line. Los programas que acceden a la base de datos asumen que este valor es un dispositivo actual, de tal forma que MDM establecerá el dispositivo como sigue. Si el dispositivo es local y tiene un dispositivo de terminal virtual (VT) asociado, entonces el dispositivo se usa. De otra forma, si una pantalla local en <command>[servers]</command> especifica el nombre de un dispositivo, entonces éste valor se usa. De otra forma las pantallas locales tomarán los valores predeterminados de <filename>UtmpLineAttached</filename> en la configuración de MDM. Las pantallas remotas tomarán los valores predeterminados de <filename>UtmpLineRemote</filename> en la configuración de MDM. Los valores de los dispositivos deben comenzar con "/dev".</para>

      <para>MDM también soporta la opción de configuración <filename>UtmpPseudoDevice</filename>. si éste ajuste de configuración está activado, entonces MDM se asegurará de que los dispositivos especificados existen y creará un pseudo dispositivo si el dispositivo no existe. Un pseudo dispositivo es un enlace simbólico hacia <filename>/dev/null</filename>. Si <filename>UtmpPseudoDevice</filename> es «true» y el dispositivo ya existe, MDM comprueba si el dispositivo es un enlace simbólico hacia <filename>/dev/null</filename>. Si lo es, entonces MDM actualizará el tiempo de acceso del enlace simbólico. Esto asegura que programas que comprueban el tiempo de acceso del dispositivo obtendrán un valor razonable para la última vez que se accedió al dispositivo. Si la opción de configuración <filename>UtmpPseudoDevice</filename> es «false», entonces MDM sólo establecerá el valor ut_line como se especifica independientemente de si el dispositivo existe o no.</para>
    </sect2>

    <sect2 id="mdmuser">
      <title>El usuario MDM</title>

      <para>Por razones de seguridad se requieren un usuario y grupo dedicado para un funcionamiento correcto. La necesidad de ser capaz de escribir archivos Xauth es el porqué el usuario «nobody» no es apropiado para mdm.</para>

      <para>El demonio MDM normalmente se ejecuta como root, y hace de esclavo. Sin embargo MDM debería también tener un id de usuario y un id de grupo dedicado que se usa para sus interfaces gráficas <command>mdmgreeter</command> y <command>mdmlogin</command>. Éstos se configuran por medio de las opciones de configuración <filename>User</filename> y <filename>Group</filename> en los archivos de configuración de MDM. El usuario y grupo debería ser creado antes de ejecutar «make install». Por omisión MDM asume que el usuario y el grupo se llaman «mdm».</para>

      <para>Este id de usuario se usa para ejecutar los programas de la IGU de MDM requeridos para la entrada. Toda la funcionalidad que requiere la autorización de root la realiza el proceso del demonio MDM. Este diseño asegura que si los programas de la IGU son comprometidos, sólo los privilegios del usuario dedicado están disponibles.</para>

      <para>Debería notarse sin embargo que el usuario y el grupo de MDM tienen algunos privilegios que los hacen de alguna manera peligrosos. Por una parte tienen acceso al directorio de autorización del servidor X. Debe ser capaz de leer y escribir claves Xauth en <filename>&lt;var&gt;/lib/mdm</filename>. Este directorio debería tener como propietario root:mdm y permisos 1770. Ejecutar «make install» establecerá este directorio a estos valores. El proceso del demonio de MDM restablecerá este directorio a los permisos/propietario adecuados si por cualquier circunstancia, no estuvieran establecidos de forma correcta.</para>

      <para>El peligro es que alguien que gane privilegios del usuario/grupo MDM puede entonces conectarse a cualquier sesión. Así que no debería bajo ninguna circunstancia, hacer esto a algún usuario/grupo que pueda ser fácil obtener acceso, como el usuario <filename>nobody</filename>. Los usuarios que ganan acceso al usuario «mdm» podrían también modificar las claves Xauth y provocar ataques de denegación de servicio. También si una persona gana la capacidad de ejecutar programas como el usuario «mdm», podría ser posible espiar los procesos MDM en ejecución, incluyendo usuarios y contraseñas a medida que se teclean.</para>

      <para>Se espera que las distribuciones y los administradores de sistemas que usen MDM configuren el usuario dedicado de forma apropiada. Se recomienda que este id de usuario se configure para no permitirle iniciar sesión y no tener un intérprete de comandos predeterminado. Las distribuciones y los administradores del sistema deberían configurar el sistema de archivos para asegurarse de que el usuario MDM no tenga permiso de lectura o escritura a los archivos sensibles.</para>
    </sect2>

    <sect2 id="xauth">
      <title>Esquema de autenticación del servidor X</title>
 
      <para>El directorio de autorización del servidor (el <filename>ServAuthDir</filename>) se usa para albergar un conjunto de datos aleatorios internos además de los archivos de autorización del servidor X, y el nombre es realmente una reliquia de la historia. El demonio MDM fuerza que este directorio tenga el propietario <filename>root.mdm</filename> con los permisos 1770. De esta manera sólo root y el grupo de MDM tienen acceso de escritura a este directorio, pero el grupo MDM no puede eliminar los archivos que sean propiedad de root de este directorio, tales como los archivos de autorización del servidor X.</para>

      <para>MDM por omisión no confía en el directorio de autorización del servidor y lo trata de la misma manera que el directorio temporal respecto a crear archivos. De esta manera, alguien que rompa al usuario de MDM no puede montar ataques creando enlaces en este directorio. Similarmente el directorio de registros del servidor X se trata de forma segura, pero ese directorio debería ser propiedad y escribible sólo por el usuario root.</para>

      <para>MDM sólo soporta el sistema de autenticación MIT-MAGIC-COOKIE-1. Normalmente se gana poco de otros esquemas, no se ha hecho ningún esfuerzo en implementarlos hasta ahora. Sea especialmente cuidadoso acerca de usar XDMCP porque las cookies de autenticación van sobre el cable como texto en claro.Obviamente si el espionaje es posible, entonces el atacante podría tan sólo espiar su contraseña de autenticación mientras usted inicia una sesion, con independencia del esquema de autenticación que se esté usando. Si el espionaje es posible y poco deseable, entonces tendrá que crear un túnel a través de ssh para la conexión X en vez de usar XDMCP. Podría pensar en XDMCP como una clase de telnet gráfico que tiene los mismos problemas de seguridad.</para>

      <para>En el lado superior, la generación de números aleatorios de MDM es muy conservadora y MDM toma medidas extraordinarias para obtener un verdadero número aleatorio de 128 bits, usando generadores de números aleatorios por hardware si es posible, además de la hora actual (con precisión de microsegundos), un array de 20 bytes de números pseudoaleatorios, pids de procesos, además de otra información aleatoria (posiblemente usando <filename>/dev/audio</filename> o <filename>/dev/mem</filename> si los generadores aleatorios hardware no están disponibles) para crear un búfer grande y después ejecutar un digest MD5 en él. Obviamente, todo este trabajo se desperdicia si envía la cookie a través de una red abierta o la almacena en un directorio NFS (vea la clave de configuración de <filename>UserAuthDir</filename>). Así que sea cuidadoso acerca de dónde usa su display X remoto.</para>
    </sect2>

    <sect2 id="firewall">
      <title>Seguridad con cortafuegos</title>

      <para>Incluso aunque MDM intenta diferenciar inteligentemente a los atacantes potenciales, se recomienda que bloquee el puerto XDMCP (normalmente el puerto UDP 177) en su cortafuegos a no ser que realmente lo necesite. MDM se protege contra ataques DoS, (Denial of Service) pero el protocolo X aún es inherentemente inseguro y sólo debería usarse en entornos controlados. Además cada conexión remota toma muchos recursos, así que es más fácil hacer un DoS a un servidor XDMCP que a un servidor web.</para>

      <para>También es sabio bloquear todos los puertos del servidor X (puertos TCP 6000 + número de pantalla) en el cortafuegos. Note que MDM usará los números de pantalla 20 y superiores para los servidores flexibles bajo demanda.</para>

      <para>X no es un protocolo muy seguro para dejarlo en la red, y XDMCP es incluso menos seguro.</para>
    </sect2>

    <sect2 id="nfssecurity">
      <title>Seguridad de MDM con NFS</title>

      <para>Note que el tráfico NFS realmente va "sobre el cable" y puede verse. Cuando se acceda al archivo de autorización X del usuario (<filename>~/.Xauthority</filename>), MDM intentará abrir el archivo para leerlo como root. Si falla, MDM concluirá que se ha montado por NFS y usará automáticamente <filename>UserAuthFBDir</filename>, que usualmente está en <filename>/tmp</filename>. Este comportamiento puede cambiarse poniendo a «false» <filename>NeverPlaceCookiesOnNFS</filename> en la sección <filename>[security]</filename>.</para>
    </sect2>

    <sect2 id="xdmcpsecurity">
      <title>Seguridad XDMCP</title>

      <para>Incluso aunque su pantalla esté protegida por cookies, XEvents y las pulsaciones de teclas que se introducen al escribir las contraseñas aún irán sobre el cable en texto claro. Es trivial capturarlas.</para>

      <para>XDMCP es útil principalmente para ejecutar clientes ligeros como en terminales de laboratorio. Dichos clientes ligeros sólo necesitarán la red alguna vez para acceder al servidor, y así parece que la mejor política para la seguridad es tener a esos clientes ligeros en una red separada que no pueda accederse desde el mundo exterior, y sólo pueda conectarse al servidor. El único punto desde el que necesita acceder desde fuera es el servidor.</para>

      <para>Las secciones de arriba «Esquema de autenticación del servidor X» y «Seguridad con cortafuegos» también contienen información importante acerca de usuario XDMCP de forma segura. La siguiente sección también discute cómo configurar el control de acceso de XDMCP.</para>

      <para>Para solucionar la seguridad inherente de XDMCP, mdm propone una sesión predeterminada integrada que usa ssh para encriptar la conexión remota. Vea la sección «Securizar una conexión remota con ssh» arriba.</para>
    </sect2>

    <sect2 id="xdmcpaccess">
      <title>Control de acceso XDMCP</title>

      <para>El control de acceso XDMCP se realiza usando TCP wrappers. Es posible compilar MDM sin TCP wrappers sin embargo, así que debería comprobar su configuración y verificar que funciona.</para>

      <para>Debería usar el nombre del demonio <command>mdm</command> en el archivo <filename>&lt;etc&gt;/hosts.allow</filename> y en el archivo <filename>&lt;etc&gt;hosts.deny</filename>. Por ejemplo para denegar la entrada a equipos de <filename>.evil.domain</filename> , añada</para>
<screen>
mdm: .dominio.maligno
</screen>
      <para>a <filename>&lt;etc&gt;/hosts.deny</filename>. También necesitará añadir </para>
<screen>
mdm: .su.dominio
</screen>
      <para>a su <filename>&lt;etc&gt;/hosts.allow</filename> si normalmente no permite todos los servicios desde todos los equipos. Vea la página del manual <ulink type="help" url="man:hosts.allow">hosts.allow(5)</ulink> para más detalles.</para>
    </sect2>

    <sect2 id="rbac">
      <title>RBAC (Control de acceso basado en rol)</title>

      <para>Si MDM está compilado con soporte RBAC, entonces se puede usar la opción de configuración <filename>RBACSystemCommandKeys</filename> para especificar la clave RBAC que usar para determinar si el usuario tiene autoridad para usar comandos. Esto está soportado para Apagar, Reiniciar, Suspender y Comandos personalizados que aparecen en la interfaz de entrada de MDM y a traes de los comandos <command>mdmflexiserver</command> QUERY_LOGOUT_ACTION, SET_LOGOUT_ACTION, y SET_SAFE_LOGOUT_ACTION. La interfaz de entrada sólo mostrará la opción si el usuario de mdm (especificado por la opción de configuración <filename>User</filename>) tiene permisos a través de RBAC. Los usuarios sólo podrán usar los comandos de <command>mdmflexiserver</command> si el usuario tiene permiso a través de RBAC.</para>
    </sect2>
  </sect1>

  <sect1 id="consolekit">
    <title>Soporte para ConsoleKit</title>

    <para>MDM incluye soporte para publicar la información de entrada del usuario con el framework de contabilidad de usuarios y sesiones conocido como COnsoleKit. ConsoleKit es capaz de hacer un seguimiento de todos los usuarios actualmente reconocidos. En este respecto, puede usarse como un reemplazo de los archivos utmp y utmpx que están disponibles en la mayoría de los sistemas Unix.</para>

    <para>Cuando MDM va a crear un proceso de entrada nuevo para un usuario llamará al método privilegiado de ConsoleKit para abrir una sesión nueva para dicho usuario. En este momento MDM también proporciona a ConsoleKit la información acerca de esta sesión de usuario como: el ID de usuario, el nombre de la pantalla X11 que se asociará con la sesión, el nombre de equipo desde el cual se origina la sesión (útil en caso de una sesión XDMCP), si esta sesión es o no es local, etc. Como la entidad que inicia el proceso de usuario, MDM está en una posición única para conocer y confiar en proporcionar estos bits de información acerca de la sesión de usuario. El uso de este método privilegiado está restringido por el uso de una norma de seguridad del sistema de bus de mensajes D-Bus.</para>

    <para>En caso donde un usuario con una sesión existente y que se haya autenticado en MDM y pida continuar una sesión existente, MDM llama un proceso privilegiado de ConsoleKit para desbloquear esa sesión. Los detalles exactos de qué ocurre cuando la sesión recibe esta señal de desbloqueo están indefinidos y son específicos de la sesión. Sin embargo la mayoría de las sesiones desbloquearán un salvapantallas en respuesta.</para>

    <para>Cuando el usuario elige salir, o si MDM o la sesión terminan de forma inesperada, la sesión de usuario se desregistra de ConsoleKit.</para>

    <para>Si no se desea el soporte para ConsoleKit se puede deshabilitar en tiempo de compilación usando la opción "--with-console-kit=no" al ejecutar configure.</para>

  </sect1>

  <sect1 id="mdmsetupusage">
    <title>Uso de mdmsetup para configurar MDM</title>

    <para>La aplicación <command>mdmsetup</command> se puede usar para configurar MDM. Si cree que ejecutar un IGU como root causa un riesgo de seguridad, entonces quizá quiera editar siempre los archivos a mano y no usar <command>mdmsetup</command>. Editar los archivos a mano se explica en la sección «Configuración» de este documento. Note que <command>mdmsetup</command> no soporta cambiar todas las variables de configuración, así que quizás sea necesario editar los archivos a mano para algunas configuraciones.</para>

    <para>El programa <command>mdmsetup</command> tiene cinco solapas. Local, Remoto, Accesibilidad, Seguridad y Usuarios, descritas abajo. Entre paréntesis está la información acerca de qué clave de configuración de MDM está afectada por cada selección de la IGU. Vea la sección «Configuración» de este manual y los comentarios en el archivo de configuración predeterminada del sistema de MDM para obtener detalles adicionales acerca de cada clave.</para>

    <sect2 id="mdmsetuplocaltab">
      <title>Solapa Local</title>
     
      <para>La solapa Local se usa para controlar la apariencia de MDM para las pantallas locales (también conocidas como estáticas). Las pantallas locales no son, por ejemplo, las conexiones remotas por XDMCP. Las opciones disponibles en esta solapa dependen de lo que esté seleccionado en la caja de combinación «Estilo». Esta caja de combinación se usa para determinar si se usa la interfaz «Plano» o «Con tema». Las diferencias entre estos programas de interfaz se explican en la sección «Vista general» de este documento.</para>

      <para>Si la selección de «Estilo» es «Plano», entonces MDM usará el programa <command>mdmlogin</command> como la IGU (daemon/Greeter). Cuando esta opción está seleccionada, <command>mdmsetup</command> permite al usuario seleccionar si el fondo es una imagen o color sólido (greeter/BackGroundType). Si está seleccionado imagen, hay un botón de selección de archivos para escoger el archivo de imagen (greeter/BackgroundImage) y una casilla para escalar la imagen para que quepa en la pantalla (greeter/BackgroundImageScaleToFit). Si se selecciona color sólido, hay un botón disponible para permitir la selección del color (greeter/BackgroundColor). Además, el usuario puede seleccionar la imagen del logo que aparece en mdmlogin (greeter/Logo).</para>

      <para>Si la elección de «Estilo» es «Plano con visor de rostros», entonces el programa <command>mdmlogin</command> se usa como la IGU (daemon/Greeter) y el visor de rostros se activa (greeter/Browser). El visor de rostros se explica en la sección «Vista general». De todas formas, las elecciones son las mismas que cuando la elección de «Estilo» es «Plana». Puede ser necesaria la configuración adicional en la solapa Usuarios para elegir qué usuarios aparecen en el Visor de rostros.</para>

      <para>Si la opción de «Estilo» es «Con temas», entonces se usa el programa <command>mdmgreeter</command> como la IGU (daemon/Greeter). Cuando ésta opción está seleccionada, <command>mdmsetup</command> permite al usuario seleccionar el tema para que se use (greeter/GraphicalTheme). Note que la casilla en la izquierda del nombre del tema debe marcarse para que ese tema se pueda seleccionar. Se muestra información acerca del autor del tema y el copyright para el tema seleccionado. Se puede usar el botón «Quitar» para borrar el tema seleccionado. Se puede usar el botón «Añador» para añadir nuevos temas al sistema. Para añadir un nuevo tema debe estar comprimido en formato tar. El «Color de fondo» mostrado cuando se inicia MDM (y si el tema tiene elementos transparentes) también se puede seleccionar (greeter/GraphicalThemedColor). La caja combo «Tema» se puede establecer a «Aleatorio de los seleccionados» para usar un tema aleatorio para cada entrada (greeter/GraphicalThemeRand y greeter/GraphicalThemes). Para usar temas aleatorios, seleccione cada tema que quiera usar. De forma predeterminada esta caja de combinación está establecida a «Sólo seleccionados», para que sólo un único tema pueda seleccionarse y ser usado.</para>

      <para>Si la elección de «Estilo» es «Plano con visor de rostros», entonces el programa <command>mdmlogin</command> se usa como la IGU (daemon/Greeter) y el visor de rostros se activa (greeter/Browser) si está soportado por el tema. El visor de rostros se explica en la sección Vista general. De otra forma, las elecciones son las mismas que cuando la elección de «Estilo» es «Con tema». Puede ser necesaria la configuración adicional en la solapa Usuarios para elegir qué usuarios aparecen en el Visor de rostros.</para>

      <para>Independientemente de la elección de «Estilo», el usuario podría seleccionar si el menú de acciones es visible (greeter/SystemMenu), o si el menú Acciones incluye la elección para iniciar <command>mdmsetup</command> (greeter/ConfigAvailable), y si el menú de Acciones incluye la opción para hacer que <command>mdmchooser</command> ejecute una sesión de entrada remota XDMCP (greeter/ChooseButton). El mensaje de bienvenida mostrado para las sesiones locales se puede seleccionar (greeter/DefaultWelcome y greeter/Welcome). El mensaje de Bienvenida puede contener las secuencias de caracteres descritas en la subsección «Nodos de texto» de la sección de «Interfaz de temas» de este manual. Estas secuencias de caracteres permiten que los mensajes de bienvenida contengan elementos como el nombre del equipo.</para>
    </sect2>

    <sect2 id="mdmsetupremotetab">
      <title>Solapa Remoto</title>

      <para>La solapa Remoto controla la apariencia de MDM para los usuarios que accedan a través de XDMCP. De forma predeterminada, XDMCP está desactivado y los usuarios deberían entender las secciones relacionadas con XDMCP de la sección de Seguridad de este documento antes de activarlo. Esta solapa incluye una caja combinada «Estilo» que se puede usar para activar XDMCP y controlar la apariencia de MDM para usuarios remotos (gui/RemoteGreeter y xdmcp/Enable). El usuario puede especificar si quiere usar la misma apariencia que e usa en la solapa Local, o el otro programa. Si en la solapa Local está activado el Visor de rostros, entonces también estará activada para la solapa Remoto. Si el Visor de rostros no está activado en la solapa Local, entonces tampoco estará activado en la solapa Remoto. Se recomienda que se use la IGU «Plano» para las conexiones remotas ya que es más ligero y tiende a tener mejor rendimiento a través de la red.</para>

      <para>Si la entrada remota está activada, entonces el usuario puede especificar el mensaje de bienvenida remoto que se mostrará (greeter/DefaultRemoteWelcome y greeter/RemoteWelcome). Este mensaje de bienvenida está separado del mensaje de bienvenida local definido en la solapa Local y puede tener un valor diferente. El mensaje de bienvenida puede contener las secuencias de caracteres descritas en la subección «Nodo de texto» de la sección «Interfaz con temas» de este manual. Estas secuencias de caracteres permiten que los mensajes de bienvenida contengan elementos como el nombre del equipo.</para>

      <para>Si la selección de «Estilo» es «La misma que local» y la selección local es «Plano» o «Plano sin visor de rostros», entonces el usuario puede seleccionar si las imágenes del fondo debe mostrarse para las entradas remotas (greeter/BackgroundRemoteOnlyColor).</para>

      <para>Si la selección «Estilo» está activada y establecida a un valor diferente que la solapa «Local», entonces el usuario tiene las mismas selecciones de configuración que las encontradas en la solapa Local, excepto que las del Menú de Sistema, debido a que nunca están disponibles para las entradas remotas por razones de seguridad.</para>

      <para>Si está activada la entrada remota, hay un botón «Configurar XDMCP» que muestra un diálogo permitiendo al usuario establecer la configuración XDMCP, incluyendo si se confían las peticiones indirectas (xdmcp/MaxPending), las peticiones indirectas pendientes máximas (xmdcp/MaxPendingIndirect), las sesiones remotas máximas (xdmcp/MaxSessions), tiempo máximo de espera (xdmcp/MaxWait), tiempo máximo de espera para peticiones indirectas (xdmcp/MaxWaitIndirect), pantallas por equipo remoto (xdmcp/DisplaysPerHost), e intervalo de ping (xdmcp/PingIntervalSeconds). Los ajustes predeterminados son ajustes estándar y sólo deberían cambiarse por alguien que entienda las ramificaciones del cambio.</para>
    </sect2>

    <sect2 id="mdmsetupaccessibilitytab">
      <title>Solapa Accesibilidad</title>

      <para>La solapa de Accesibilidad se usa para activar las características de Accesibilidad en MDM. «Activar entrada accesible» (daemon/AddGtkModules y daemon/GtkModulesList) activa los oyentes de gestos de MDM que se explican en la sección «Accesibilidad» de este documento. Hay además una casilla para permitir a los usuarios cambiar el tema al usar el interfaz «Plano» (gui/AllowGtkThemeChange). Esta característica permite a los usuarios de MDM cambiar el tema a temas de Alto Contraste o Bajo Contraste si fuera necesario. El usuario podría seleccionar además si MDM debería reproducir un sonido cuando la pantalla de entrada esté preparara, cuando la entrada tiene éxito y cuando la entrada ha fallado. Los botones del selector de archivos se usan para seleccionar el archivo de sonido a reproducir, y el botón «Reproducir» se puede usar para obtener una muestra del sonido.</para>
    </sect2>

    <sect2 id="mdmsetupsecuritytab">
      <title>Solapa Seguridad</title>

      <para>La solapa Seguridad permite al usuario activar la entrada automática y la entrada temporizada, qué usuario entra por medio de una entrada automática o temporizada, y el retardo de la entrada temporizada (daemon/AutomaticLoginEnable, daemon/AutomaticLogin, daemon/TimedLoginEnable, daemon/TimedLogin, y daemon/TimedLoginDelay). Si se activa la entrada automática, entonces el usuario especificado entrará automáticamente al reiniciar sin que MDM pida usuario y contraseña. Si el usuario sale de su sesión, MDM se iniciará y pedirá un usuario y contraseña para volver a entrar. Si TimedLogin está activado, entonces MDM iniciará sesión con el usuario especificado tras un número especificado de segundos. El usuario podría activar la entrada temporizada para las conexiones remotas (XDMCP) marcando la casilla «Permitir entradas remotas temporizadas».</para>

      <para>En esta solapa, el usuario puede seleccionar si el usuario administrador del sistema puede entrar, y si el usuario administrador del sistema puede entrar por medio de conexiones remotas (XDMCP) (security/AllowRoot y security/AllowRemoteRoot). El usuario puede activar la depuración de MDM (debug/Enable) lo cual causa que los mensajes de depuración se envíen al registro del sistema. La depuración sólo debería usarse para diagnosticar un problema y no debería dejarse activada cuando no se necesita. Si se selecciona la opción «Denegar conexiones TCP al servidor X» desactivará el reenvío de X (security/DisallowTCP). Se puede establecer un retardo de entrada (security/RetryDelay) para hacer que MDM espere un número de segundos después de una entrada fallida.</para>  

      <para>El botón «Configurar servidor X» se puede usar para especificar como MDM gestiona cada pantalla. La caja combo «Servidores» muestra qué definiciones de servidor están disponibles (Estándar, Terminal, y Selector por omisión). Vea la sección «Definiciones de servidor X» de la sección de «Configuración» para más información acerca de cómo crear nuevas definiciones de servidores.</para>

      <para>Para cualquier tipo de servidor, el usuario podría modificar el «Nombre del servidor» (server/name), el «Comando» (server/command) que se usa para lanzar el servidor X, si el tipo de servidor lanzará la interfaz de entrada o el de selección de equipo remoto (server/chooser) tras iniciar el servidor X, si MDM manipulará este tipo (normalmente sólo se establece a «false» cuando se entra en una sesión de tipo terminal), y si el tipo de sesión soporta sesiones «Flexibles» (server/flexible).</para>

      <para>La sección «Servidores que iniciar» muestra qué tipo de servidor se muestra para cada pantalla en la máquina. Los usuarios podrían pulsar en el botón «Añadir/Modificar) para añadir una pantalla nueva a la lista o para modificar una pantalla seleccionada, Esto simplemente hace corresponder a cada pantalla física con la definición del servidor que se usará para gestionar esa pantalla. El botón «Quitar» se puede usar para quitar una pantalla de la lista.</para>
    </sect2>

    <sect2 id="mdmsetupuserstab">
      <title>Solapa Usuarios</title>

      <para>La solapa Usuarios controla qué usuarios aparecen en el Visor de Rostros. Si la casilla «Incluir todos los usuarios de /etc/password» está seleccionada, entonces todos los usuarios (con un id de usuario por encime de greeter/MinimalUID y que no estén en la lista Excluir) se muestran. Si esta casilla no está seleccionada, entonces los usuarios se deben añadir a la lista «Incluir». Los usuarios en la lista «Excluir» nunca se muestran. Los botones «Añadir» y «Quitar» se usan para añadir un usuario nuevo a la lista o quitar un usuario seleccionado de la lista. El botón «Aplicar cambios de usuarios» se debe pulsar tras modificar las listas «Incluir» y «Excluir». Los botones de flechas de la izquierda y derecha se pueden usar para mover un usuario seleccionado de una lista a otra.</para>
    </sect2>
  </sect1>

  <sect1 id="configuration">
    <title>Configuración</title>

    <para>MDM tiene una potente gestión de la configuración. La configuración predeterminada del sistema se almacena en el archivo de configuración predeterminada del sistema de MDM y los cambios del usuario en el archivo de configuración personalizada de MDM Esto permite a los administradores del sistema almacenar el archivo de configuración predeterminada del sistema de MDM en un sistema de archivos compartido, de tal forma que se puede usar un solo archivo para controlar la configuración de múltiples máquinas. MDM también soporta configuración para cada pantalla para las teclas relacionadas con el IGU.</para>

    <para>El comando <command>mdmsetup</command> es un programa IGU que puede usar para editar la configuración de MDM. Este programa puede lanzarse directamente desde la pantalla de entrada si la clave greeter/ConfigAvailable está establecida a «true». El GUI no soporta todas las claves de configuración de MDM, así que quizá tenga que editar los archivos de configuración a mano para editar esas claves. Si crees que ejecutar un GUI perteneciente al root es un riesgo de seguridad, entonces podría querer editar siempre estos archivos a mano. Este programa no soporta establecer la configuración por cada pantalla, así que los archivos de configuración por cada pantalla deben configurarse a mano.</para>

    <para>Además del archivo de configuración predeterminada del sistema de MDM, los otros archivos de configuración de MDM, de forma predeterminada, están ubicados en la carpeta <filename>&lt;etc&gt;/mdm/</filename> o alguno de sus subdirectorios. Note que la ubicación de muchos archivos de configuración está definida en los archivos de configuración de MDM, así que compruebe el archivo de configuración predeterminada del sistema de MDM y el archivo de configuración personalizada de MDM si los archivos no se encuentran en las ubicaciones especificadas en este documento.</para>

    <para>Esta es una lista del contenido del directorio de configuración:</para>

<screen>
custom.conf
locale.alias
Xsession
XKeepsCrashing
modules/
Init/
PostLogin/
PreSession/
PostSession/
</screen>

    <para><filename>locale.alias</filename> es un archivo que se parece mucho al archivo de alias regionales del sistema pero no es el mismo. Éstos son los idiomas que están disponibles en su sistema. Todos los idiomas además se prueban para ver si actualmente existen antes de presentárselos al usuario en el diálogo de selección de idioma, en la IGU de entrada. Sólo se muestran aquellos que existen.</para>

    <para><filename>Xsession</filename> es un script que configura una sesión de usuario y después ejecuta la selección de sesión del usuario. Note que el script de sesión se inicia típicamente por el archivo <filename>desktop</filename> asociado con la sesión que el usuario a escogido. Algunas sesiones quizá inicien la sesión del usuario por medio de un mecanismo diferente que el script <filename>Xsession</filename> así que marque el <filename>desktop</filename> apropiado antes de asumir que el problema de inicio está causado por este archivo.</para>

    <para><filename>XKeepsCrashing</filename> es un script que se ejecuta cuando el servidor X continúa colgándose y no se puede recuperar. El script predeterminado incluido funcionará con la mayoría de las distribuciones de Linux y puede ejecutar la aplicación de configuración de X siempre que la persona en la consola conozca la contraseña de root.</para>

    <para>Los módulos de accesibilidad se configuran en el subdirectorio <filename>modules/</filename>, y son un tema aparte. Lea los archivos predeterminados provistos, tienen documentación adecuada. De nuevo normalmente la instalación predeterminada se da en archivos con <filename>factory</filename> en su nombre, y dichos archivos no se leen, están solo ahí para que usted pueda volver siempre a la configuración predeterminada.</para>

    <para>Los archivos que describen las sesiones MDM disponibles siguen la especificación de archivos <filename>.desktop</filename> de freedesktop.org y se instalan en <filename>&lt;etc&gt;/X11/sessions/</filename>. Este directorio también lo lee el gestor de entrada de KDE (KDM) para una configuración común. El siguiente directorio <filename>&lt;share&gt;/mdm/BuiltInSessions/</filename> se lee para las sesiones integradas específicas de MDM (KDM las lleva en el propio código cuando se escribió este manual). Por último la configuración predeterminada también lee <filename>&lt;share&gt;/xsessions/</filename> (que debería ser <filename>/usr/share/xsessions/</filename> si realmente quiere cooperar con KDM) donde los paquetes del escritorio pueden instalar sus propios archivos de sesión. Los directorios bajo <filename>&lt;etc&gt;</filename> deberían reservarse para la configuración. La aproximación de la especificación de archivos de escritorio facilita la instalación de gestores de ventanas y diferentes tipos de sesiones a los sistemas de gestión de paquetes, sin requerir que el administrador del sistema edite los archivos. Vea la clave de configuración <filename>SessionDesktopDir</filename> para cambiar las rutas. Solía ocurrir que MDM almacenaba sus sesiones integradas en <filename>&lt;etc&gt;/dm/Sessions/</filename> pero esto está obsoleto desde2.5.90.0. Note que antes de la versión 2.4.4.2 sólo se leía <filename>&lt;etc&gt;/dm/Sessions/</filename>.</para>

    <para>Puede desactivarse una sesión (si fue instalada en <filename>&lt;share&gt;xsessions/</filename>) añadiendo un <filename>.desktop</filename> nombrado idénticamente a uno de los directorios anteriores en la ruta (como <filename>&lt;etc&gt;/X11/sessions</filename>) y usando <filename>Hidden=true</filename> en ese archivo.</para>

    <para>MDM usa la clave opcional <filename>X-Mdm-XserverArgs</filename> en los archivos de sesión para especificar argumentos adicionales que pasar al servidor X. Por ejemplo, la entrada <filename>X-Mdm-XserverArgs=-depth 16</filename> iniciará el servidor X con una profundidad de color de 16 bits. Cualquier argumento adicional se ignorará cuando se use una pantalla anidada (cuando MDM se lanza en una ventana).</para>

    <sect2 id="scriptdirs">
      <title>Los directorio de scripts</title>
      
      <para>En esta sección explicaremos los directorios <filename>Init</filename>, <filename>PostLogin</filename>, <filename>PreSession</filename> y <filename>PostSession</filename> ya que son muy similares.</para>

      <para>Cuando el servidor X se haya iniciado con éxito, MDM intentará ejecutar el script llamado <filename>Init/&lt;displayname&gt;</filename>. Ej: <filename>Init/:0</filename> para la primera pantalla local. Si este archivo no se encuentra, MDM intentará ejecutar <filename>Init/&lt;hostname&gt;</filename>. Ej: <filename>Init/somehost</filename>. Si esto aún no se encuentra, MDM intentará <filename>Init/XDMCP</filename> para todas las entradas XDMCP o <filename>Init/Flexi</filename> para todas las pantallas bajo demanda. Si no se encuentra ninguno de los anteriores, MDM ejecutará <filename>Init/Default</filename>. El script se ejecutará como root y MDM se bloquea hasta que termina. Use el script <filename>Init/*</filename> para las aplicaciones que se suponen que se ejecutan junto con la ventana de entrada de MDM. xconsole por ejemplo. Los comandos para establecer el fondo de pantalla, etc. también van en este archivo.</para>

      <para>Es responsabilidad del administrador de sistemas decidir si los clientes iniciados por el script Init deben matarse antes de iniciar la sesión del usuario. Esto se controla con la opción de configuración <filename>KillInitClients</filename>.</para>

      <para>Cuando el usuario ha sido autenticado con éxito MDM intenta los scripts en el directorio <filename>PostLogin</filename> de la misma manera que para el directorio <filename>Init</filename>. Esto se hace antes de que cualquier configuración de la sesión se realice, y así que este debería ser el script donde quizá usted desee configurar el directorio personal si necesita hacerlo (aunque debería usar el módulo <filename>pam_mount</filename> si puede para esto). Tiene las variables de entorno <filename>$USER</filename> y <filename>$DISPLAY</filename> establecidas para este script, y de nuevo se ejecuta como root. El script debería devolver 0 si tiene éxito y de otra manera el usuario no iniciará sesión. Sin embargo esto no es cierto para la sesión a prueba de fallos.</para>

      <para>Después de que la sesión del usuario haya sido configurada desde el lado de las cosas de MDM, MDM ejecutará los scripts en el directorio de <filename>PreSession</filename>, de nuevo de la misma manera que el directorio <filename>Init</filename>. Use este script para la gestión de sesión local o las cuentas de usuario. La variable de entorno <filename>$USER</filename> contiene el nombre de inicio de sesión del usuario autenticado y <filename>$DISPLAY</filename> está establecido a la pantalla actual. El script debería devolver 0 si tiene éxito. Cualquier otro valor hará que MDM termine el proceso actual de inicio de sesión. Esto sin embargo no ocurre para la sesión a prueba de fallos. Además la variable de entorno <filename>$X_SERVERS</filename> está establecida y ésta apunta a un archivo falso de servidores X generados para usarla con la aplicación de gestión de cuentas sessreg.</para>

      <para>Después de esto se ejecuta el script <filename>Xsession</filename> base con el ejecutable de la sesión seleccionada como primer argumento. Esto se ejecuta como el usuario, y realmente esta es la sesión del usuario. Los ejecutables de sesiones disponibles se toman de la línea <filename>Exec=</filename> en los archivos <filename>.desktop</filename> de la ruta especificada en <filename>SessionDesktopDir</filename>. Usualmente esta ruta es <filename>&lt;etc&gt;/X11/sessions/:&lt;etc&gt;/dm/Sessions:/usr/share/xsessions/</filename>. Se usa el primer archivo encontrado. El usuario o escoge de estas sesiones o MDM buscará dentro del archivo <filename>~/.dmrc</filename> la preferencia almacenada.</para>

      <para>Este script debería cargar realmente el perfil de los usuarios y generalmente hacer todo el vudú que se necesita para lanzar una sesión. Debido a que muchos sistemas restablecen las selecciones de idioma realizadas por MDM, MDM también establece la variable <filename>$MDM_LANG</filename> al idioma seleccionado. Puede usar esto para restaurar las variables de entorno de idiomas tras ejecutar el perfil del usuario. Si el usuario eligió el idioma del sistema, entonces <filename>$MDM_LANG</filename> no se establece.</para>

      <para>Cuando el usuario termina su sesión, se ejecuta el script <filename>PostSession</filename>. De nuevo la operación es similar a <filename>Init</filename>, <filename>PostLogin</filename> y <filename>PreSession</filename>. De nuevo el script se ejecuta con privilegios de root, el demonio esclavo se bloqueará y la variable de entorno <filename>$USER</filename> contendrá el nombre del usuario que acaba de cerrar sesión y <filename>$DISPLAY</filename> se establecerá al visualizador que el usuario usó, sin embargo note que el servidor X para este visualizador quizá ya esté muerto y así que no debería intentar acceder a él. Además la variable de entorno <filename>$X_SERVERS</filename> está establecida y ésta apunta a un archivo generado falsificado de servidores X para usar con la aplicación de contabilidad sessreg.</para>

      <para>Note que el script de <filename>PostSession</filename> se ejecutará incluso cuando el visualizador falle al responder debido a un error de E/S o similar. Así que, no hay garantía de que funcionen las aplicaciones X durante la ejecución del script.</para>

      <para>Excepto para el script <filename>Xsession</filename> todos estos scripts también tendrán la variable de entorno <filename>$RUNNING_UNDER_MDM</filename> establecida a <filename>yes</filename>, así que podría quizás usar scripts similares para distintos gestores de entrada. <filename>Xsession</filename> siempre tendrá <filename>$MDMSESSION</filename> establecido al nombre base de la sesión que el usuario eligió ejecutar sin la extensión <filename>.desktop</filename>. Además <filename>$DESKTOP_SESSION</filename> también está establecida al mismo valor y de hecho esto también lo establecerá KDM en versiones futuras.</para>

      <para>Ninguno de scripts <filename>Init</filename>, <filename>PostLogin</filename>, <filename>PreSession</filename> o <filename>PostSession</filename> son necesarios y se pueden dejar vacíos. El script <filename>Xsession</filename> sin embargo es necesario así como al menos un archivo de sesión <filename>.desktop</filename>.</para>
    </sect2>

    <sect2 id="configfile">
      <title>Loas archivos de configuración; el archivo de configuración predeterminada del sistema de MDM y el archivo de configuración personalizada de MDM</title>
      
      <para>MDM usa dos archivos de configuración: el archivo de configuración predeterminada del sistema de MDM<filename>&lt;share&gt;/mdm/defaults.conf</filename> y el archivo de configuración personalizada de MDM <filename>&lt;etc&gt;/mdm/custom.conf</filename>. El archivo de configuración predeterminada del sistema de MDM contiene las elecciones de configuración predeterminadas para MDM, y no debería modificarse por el usuario. El archivo de configuración personalizada de MDM es donde los usuarios pueden especificar sus elecciones de configuración personales. Si una opción de configuración no está definida en cualquier archivo, MDM usará el valor predeterminado descrito en los comentarios en el archivo de configuración predeterminada del sistema de MDM.</para>

      <para>Ambos archivos de configuración están divididos en secciones cada una conteniendo variables que definen el comportamiento para una parte específica de la suite MDM. Refiérase a los comentarios en el archivo de configuración predeterminada del sistema de MDM para obtener información adicional acerca de cada ajuste de configuración.</para>

      <para>MDM también soporta configuración de parámetros para cada pantalla en el «IGU», las secciones «greeter» en el archivo de configuración así como la clave <filename>security/PamStack</filename> y <filename>daemon/LockScreen</filename> se pueden personalizar para cada pantalla. La configuración para cada pantalla se especifica creando un archivo llamado <filename>&lt;etc&gt;/mdm/custom.conf&lt;display num&gt;</filename>. En este archivo se pueden especificar la sección y las claves que usar en esta pantalla. Por ejemplo, una configuración que prevalezca sobre la pantalla ":103" se almacenará en el archivo <filename>&lt;etc&gt;/mdm/custom.conf:0</filename>. La configuración para cada pantalla está soportada desde MDM 2.14.6 y posteriores.</para>

      <para>Para cambiar la configuración a mano, edite el archivo de configuración personalizada de MDM o el archivo de configuración de cada pantalla y asegúrese de que el par clave=valor que quiere está incluido en la sección apropiada. Por ejemplo, para cambiar la clave "Greeter" en la sección "daemon" asegúrese de que la sección daemon del archivo de configuración personalizada de MDM o el archivo de configuración de cada pantalla incluye la sección "[daemon]" seguida por la clave y el cambio de valor deseado. Como en este ejemplo:</para>

<screen>
[daemon]
Greeter=/usr/lib/mdmgreeter
</screen>

      <para>El comando <command>mdmsetup</command> se puede usar para modificar el archivo de configuración personalizada de MDM. Note que <command>mdmsetup</command> está pensado para ejecutarse como «root», de tal forma que los usuarios que se sientan inseguros ejecutando programas con IGU como «root» deberían editar los archivos de configuración a mano.</para>

      <para>El argumento <command>--config</command> del demonio de MDM se puede usar para especificar una ubicación diferente para el archivo de configuración. Se debe reiniciar el demonio de MDM para cambiar el archivo de configuración que usar. También al construir MDM, se puede especificar la ubicación de los archivos de configuración a través de las opciones de configuración <command>--with-defaults-conf</command> y <command>--with-custom-conf</command>.</para>

      <para>Anterior a MDM 2.13.0.4 sólo existía el archivo <filename>&lt;etc&gt;/mdm/mdm.conf</filename>. Para una mejor compatibilidad hacia atrás, se usará este archivo en lugar del archivo de configuración personalizado de MDM, si es que existe en su sistema. Si actualiza a una versión nueva de MDM, la instalación comprobará para ver si su archivo <filename>&lt;etc&gt;/mdm/mdm.conf</filename> es diferente del archivo <filename>&lt;etc&gt;/mdm/factory-mdm.conf</filename> . Si lo es, se copiará automáticamente el archivo <filename>&lt;etc&gt;/mdm/mdm.conf</filename> a <filename>&lt;etc&gt;/mdm/custom.conf</filename> para preservar cualquier cambio de configuración.</para>
        
      <para>Las distribuciones deberían editar el archivo de configuración predeterminada del sistema de MDM para establecer las variables de configuración predeterminadas, de tal forma que se preservan como predeterminadas y no se modifican por los usuarios que modifiquen el archivo de configuración personalizada de MDM. Note que las distribuciones pueden modificar el archivo de configuración predeterminada del sistema de MDM en las actualizaciones para mejorar la usabilidad, seguridad, etc. De tal forma que se perderá cualquier cambio realizado sobre este archivo.</para>

      <para>Los archivos de configuración predeterminada del sistema de MDM y el archivo de configuración personalizada de MDM siguien el estilo de sintaxis estándar del archivo de configuración <filename>.ini</filename>. Las palabras clave entre corchetes definen secciones, las cadenas antes del signo igual (=) son variables y los datos tras el signo igual representan su valor. Las líneas en blanco o las líneas que empiezan con la almohadilla (#) se ignoran. El configurador gráfico intentará preservar tanto los comentarios (líneas con una almohadilla) como la estructura completa del archivo, así que puede intercambiar usando el IGU o editando a mano el archivo de configuración.</para>

      <para>Se soportan las siguientes claves de configuración en MDM:</para>

      <sect3 id="daemonsection">
        <title>Configuración del demonio</title>

        <variablelist>
          <title>[daemon]</title>

          <varlistentry>
            <term>AddGtkModules</term>
            <listitem>
              <synopsis>AddGtkModules=false</synopsis>
              <para>Si es true, entonces activa <command>mdmgreeter</command> o <command>mdmlogin</command> para que se lancen con módulos GTK+ adicionales. esto es útil cuando se requieren características extra como un inicio sesión accesible. Note que sólo deberían usarse los módulos «confiables» para minimizar las cuestiones de seguridad.</para>
              <para>Si es true, entonces el demonio de registro <command>at-spi-registryd</command> se lanzará por <command>mdmgreeter</command> o <command>mdmlogin</command> iniciando con la versión MDM 2.17.</para>
              <para>Usualmente esto se usa para los módulos de accesibilidad. Los módulos que se cargan se especifican con la clave <filename>GtkModulesList</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>AllowLogoutActions</term>
            <listitem>
              <synopsis>AllowLogoutActions=HALT;REBOOT;SHUTDOWN;SUSPEND;CUSTOM_CMD</synopsis>
              <para>Especifique qué acciones están soportadas por los comandos QUERY_LOGOUT_ACTION, SET_LOGOUT_ACTION, y SET_SAFE_LOGOUT_ACTION <command>mdmflexiserver</command>. Los valores válidos son HALT, REBOOT, SHUTDOWN, SUSPEND, and CUSTOM_CMD y estos deberían estar separados por punto y coma. Esto permite que se deshabiliten ciertas opciones si se desea. Consulte las opciones de configuración relacionadas <filename>SystemCommandsInMenu</filename> y <filename>RBACSystemCommandKeys</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>AlwaysLoginCurrentSession</term>
            <listitem>
              <synopsis>AlwaysLoginCurrentSession=true</synopsis>
              <para>Si es «true», cuando el usuario entra y ya tiene una sesión existente, entonces se concecta a esa sesión en lugar de iniciar una sesión nueva. Esto sólo funciona en sesiones que se ejecutan en VTs (Virtual Terminals) iniciados con mdmflexiserver, y no con XDMCP. Note que los VTs no están soportados en todos los sistemas operativos.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>AutomaticLoginEnable</term>
            <listitem>
              <synopsis>AutomaticLoginEnable=false</synopsis>
              <para>Si el usuario dado en AutomaticLogin debería entrar al primer arranque. No se pedirá ninguna contraseña. Esto es útil para estaciones de trabajo de un sólo usuario donde la seguridad de la consola local no es un problema y, además, podría ser útil para terminales públicos. Referente también sobre <filename>TimedLogin</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>AutomaticLogin</term>
            <listitem>
              <synopsis>AutomaticLogin=</synopsis>
              <para>Este usuario debería iniciar sesión automáticamente al primer arranque. AutomaticLoginEnable debe ser true y esto debe ser un usuario válido para que esto ocurra. Sin embargo "root" nunca puede iniciar una sesión automáticamente y mdm se negará a hacerlo incluso si lo configura.</para>

              <para>Se reconocen los siguientes caracteres de control dentro del nombre especificado:</para>

              <para>%% — Un carácter literal «%»</para>

              <para>%d — nombre de la pantalla</para>

              <para>%h — nombre de equipo de la pantalla</para>

              <para>Alternativamente, el nombre podría terminar con una barra vertical |, el símbolo de cauce. El nombre se usa entonces como una aplicación a ejecutar que revuelve el nombre de usuario deseado en la salida estándar. Si se devuelve un nombre de usuario vacío o inválido, no se realiza el inicio de sesión automático. Esta característica se usa típicamente cuando se usan varios visores remotos como kioscos de Internet, con un usuario específico para iniciar sesión automáticamente en cada visualizador.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>BaseXsession</term>
            <listitem>
              <synopsis>BaseXsession=&lt;etc&gt;/mdm/Xsession</synopsis>
              <para>Este es el archivo base X session. Cuando un usuario entra, este script se ejecuta con la sesión seleccionada como primer argumento. La sesión seleccionada será la indicada por <filename>Exec=</filename> en el archivo de sesión <filename>.desktop</filename>.</para>

              <para>Si quiere usar el mismo script para varios gestores de entrada diferentes, y quiere tener algunos de los scripts para que sólo se ejecuten por MDM, entonces puede comprobar por la presencia de la variable de entorno <filename>MDMSESSION</filename>. Esto siempre será establecido al nombre base del archivo <filename>.desktop</filename> (sin la extensión) que se está usando en esta sesión, y sólo estará establecido para las sesiones MDM. Anteriormente algunos scripts estaban comprobando <filename>MDM_LANG</filename>, pero eso sólo se establece cuando el usuario escoge un idioma no predeterminado del sistema.</para>

              <para>Este script debería encargarse de hacer el login para el usuario y por lo tanto debería incluir <filename>&lt;etc&gt;/profile</filename> y demás. El script estándar entregado con MDM incluye los archivos en este orden: <filename>&lt;etc&gt;/profile</filename> después <filename>~/.profile</filename> después <filename>&lt;etc&gt;/xprofile</filename> y finalmente<filename>~/.xprofile</filename>. Note que las diferentes distribuciones podrían cambiar esto. Algunas veces la configuración personal del usuario estará en <filename>~/.bash_profile</filename>, por muy defectuoso que esto sea.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>Selector</term>
            <listitem>
              <synopsis>Chooser=&lt;bin&gt;/mdmchooser</synopsis>
              <para>Ruta completa y nombre del ejecutable del selector seguido de argumentos opcionales.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Configurator</term>
            <listitem>
              <synopsis>Configurator=&lt;bin&gt;/mdmsetup --disable-sound --disable-crash-dialog</synopsis>
              <para>La ruta hacia el binario del configurador. Si la opción del interfaz <filename>ConfigAvailable</filename> está puesta a «true» entonces se ejecuta este binario cuando alguien elije Configuración desde el menú de Acciones. Desde luego MDM pedirá primero la contraseña de root. Y nunca permitirá que esto ocurra desde una pantalla remota.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>ConsoleCannotHandle</term>
            <listitem>
              <synopsis>ConsoleCannotHandle=am,ar,az,bn,el,fa,gu,hi,ja,ko,ml,mr,pa,ta,zh</synopsis>
              <para>Éstos son los idiomas que la consola no puede manipular debido a cuestiones de tipografía. Aquí queremos decir la consola de texto, no X. Esto sólo se usa cuando hay errores que informar y no podemos iniciar X.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>ConsoleNotify</term>
            <listitem>
              <synopsis>ConsoleNotify=true</synopsis>
              <para>Si es false, mdm no mostrará un diálogo de mensaje en la consola cuando ocurra un error.</para>
            </listitem>
          </varlistentry>
                             
          <varlistentry>
            <term>DefaultPath</term>
            <listitem>
              <synopsis>DefaultPath=defaultpath (valor establecido por la configuración)</synopsis>
              <para>Especifica la ruta que debe establecerse en la sesión del usuario. Este valor será sobreescrito por el valor de <filename>/etc/default/login</filename> si contiene "ROOT=&lt;pathname&gt;". Si el archivo <filename>/etc/default/login</filename> existe, pero no contiene ningún valor para ROOT, se usará el el valor tal como esté definido en la configuración de MDM.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>DefaultSession</term>
            <listitem>
              <synopsis>DefaultSession=gnome.desktop</synopsis>
              <para>La sesión que se usará por omisión si el usuario no tiene una preferencia guardada y ha escogido «Última» desde la lista de sesiones. Note que «Última» no necesita mostrarse, vea la clave <filename>ShowLastSession</filename>.</para>
            </listitem>
          </varlistentry>
          
          
          <varlistentry>
            <term>DisplayInitDir</term>
            <listitem>
              <synopsis>DisplayInitDir=&lt;etc&gt;/mdm/Init</synopsis>
              <para>Directorio que contiene los script de inicio de la pantalla. Vea la sección «Los directorios de scripts» para más información.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>DisplayLastLogin</term>
            <listitem>
              <synopsis>DisplayLastLogin=true</synopsis>
              <para>Si es «true» entonces la última información de entrada se imprime para el usuario antes de pedirle una contraseña. Mientras que esto revela algo de información acerca de qué usuarios están en un sistema, por otra parte debería dar al usuario una idea de cuando entró y si no parece cierta, pueden entonces abortar la entrada y contactar con el administrador del equipo (evitando ejecutar scripts de inicio maliciosos). Esto se añadió en la versión 2.5.90.0.</para>
              <para>Esto es para que MDM sea conforme a CSC-STD-002-85, aunque es puramente teórico ahora. Alguien debería leer esa especificación y asegurarse de que esto actualmente es conforme (en conjunto con otros lugares en MDM). Vea <filename>http://www.radium.ncsc.mil/tpep/library/rainbow/CSC-STD-002-85.html</filename> para más información.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>DoubleLoginWarning</term>
            <listitem>
              <synopsis>DoubleLoginWarning=true</synopsis>
              <para>si es «true», MDM avisará al usuario si ya ha entrado en otro terminal virtual. En sistemas donde MDM soporte comprobar los terminales virtuales X, MDM permitirá al usuario cambiar al terminal de entrada anterior en lugar de entrar.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>DynamicXServers</term>
            <listitem>
              <synopsis>DynamicXServers=false</synopsis>
              <para>Si es «true», el demonio MDM confiará en las peticiones para gestionar pantallas por medio de una conexión socket en <filename>/tmp/.mdm_socket</filename>. Las pantallas se pueden crear, iniciar y borrar con los comandos apropiados. El comando <filename>mdmdynamic</filename> es un método conveniente para enviar estos mensajes.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>FailsafeXServer</term>
            <listitem>
              <synopsis>FailsafeXServer=</synopsis>
              <para>Una línea de comandos X en caso de que no podamos iniciar el servidor X normal. Debería ser probablemente alguna clase de script que ejecute un servidor X apropiado a baja resolución que funcione siempre. Esto se intenta antes de que se ejecute el script <filename>XKeepsCrashing</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>FirstVT</term>
            <listitem>
              <synopsis>FirstVT=7</synopsis>
              <para>En sistemas donde MDM soporta la reserva automática de TV (Terminales virtuales), este es el primer tv que probar. Usualmente los inicios de sesión en entrada de texto se ejecutan en los tvs más bajos. Vea además <filename>VTAllocation</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>FlexibleXServers</term>
            <listitem>
              <synopsis>FlexibleXServers=5</synopsis>
              <para>El número máximo de pantallas flexibles permitidas. Estas son pantallas que pueden ejecutarse usando la conexión socket <filename>/tmp/.mdm_socket</filename>. Esto se usa tanto para pantallas flexibles como para pantallas anidadas (referente a la opción de configuración de <filename>Xnest</filename>).</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>FlexiReapDelayMinutes</term>
            <listitem>
              <synopsis>FlexiReapDelayMinutes=5</synopsis>
              <para>Después de cuantos minutos de inactividad en la pantalla de entrada debería desconectarse la pantalla flexible. Esto sólo tiene efecto antes de que un usuario inicie sesión. Tampoco afecta a los servidores anidados (referente a la opción de configuración de <filename>Xnest</filename>). Para desactivar este comportamiento establezca este valor a 0. Esto se añadió en la versión 2.5.90.0.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Greeter</term>
            <listitem>
              <synopsis>Greeter=&lt;bin&gt;/mdmlogin</synopsis>
              <para>Ruta completa al nombre del ejecutable del interfaz de entrada seguido de los argumentos opcionales. Este es el interfaz de entrada usado para todas las pantallas excepto para las pantallas XDMCP remotas. Vea además <filename>RemoteGreeter</filename></para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>Group</term>
            <listitem>
              <synopsis>Group=mdm</synopsis>
              <para>El nombre del grupo bajo el cual <command>mdmlogin</command>, <command>mdmgreeter</command>, <command>mdmchooser</command> y los diálogos GTK+ internos en caso de fallo se ejecutan. Vea ademas <filename>User</filename>. Este usuario tendrá acceso a todos los archivos de autorización X, y quizás a otros datos internos de MDM y por lo tanto no debería usarlo nadie. El <filename>ServAuthDir</filename> es propiedad de este grupo. La propiedad y permisos de <filename>ServAuthDir</filename> deberia ser <filename>root.mdm</filename> y 1770.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>GtkModulesList</term>
            <listitem>
              <synopsis>GtkModulesList=module-1:module-2:…</synopsis>
              <para>Una lista separada por dos puntos de módulos GTK+ que <command>mdmgreeter</command> o <command>mdmlogin</command> invocar´an si <filename>AddGtkModules</filename> está a true. El formato es el mismo que el interfaz Gtk+ estándar.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>HaltCommand</term>
            <listitem>
              <synopsis>HaltCommand=&lt;sbin&gt;/shutdown -h now</synopsis>
              <para>ruta completa y argumentos al comando que ejecutar cuando el usuario selecciona «Apagar» desde el menú Acciones. Esto puede ser una lista separada por ";" de comandos a intentar. Si falta un valor, el comando de apagado no estará disponible. Note que lo predeterminado para este valor no está vacío, así que para desactivar «Apagar» debe establecerse a un valor vacío.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>KillInitClients</term>
            <listitem>
              <synopsis>KillInitClients=true</synopsis>
              <para>Determina si MDM sebe matar los clientes X iniciados por los scripts de inicio cuando el usuario inicia sesión.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>Directorio de registro</term>
            <listitem>
              <synopsis>LogDir=&lt;var&gt;/log/mdm</synopsis>
              <para>Directorio conteniendo los archivos de sucesos para las pantallas individuales. Por omisión éste es el mismo que el de ServAuthDir.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>PreFetchProgram</term>
            <listitem>
              <synopsis>PreFetchProgram=command</synopsis>
              <para>Programa que se ejecutará por el programa de entrada/interfaz de MDM cuando se muestre la pantalla inicial. El propósito es proporcionar un gancho donde los archivos que se usarán tras la entrada puedan precargarse para mejorar la velocidad para el usuario. El programa se llamará sólo una vez, la primera vez que se muestre la interfaz de entrada. El comando mdmprefetch será usado. Esta utilidad cargará cualquier biblioteca pasada en la línea de comandos, o si el argumento empieza por un carácter «@», procesará el archivo asumiendo que es un archivo ASCII conteniendo una lista de bibliotecas, una por línea, y cargará cada biblioteca en el archivo.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>PamStack</term>
            <listitem>
              <synopsis>PamStack=mdm</synopsis>
              <para>Si está usando PAM, esto especifica el nombre del servicio PAM que usar al llamar a pam_start. Esta opción se puede configurar para cada pantalla de tal forma que MDM se puede configurar para tener una pila PAM diferente en una pantalla dada. Note que las sesiones con auto inicio de sesión añaden «-autologin» a este valor, así que de forma predeterminada las sesiones automáticas usan el nombre del servicio «mdm-autologin».</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>PostLoginScriptDir</term>
            <listitem>
              <synopsis>PostLoginScriptDir=&lt;etc&gt;/mdm/PostLogin</synopsis>
              <para>Directorio que contiene los scripts ejecutados justo después de que el usuario inicie sesión, pero antes de que se realice ninguna configuración de sesión. Vea la sección ``Los directorios de Scripts'' para más información.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>PostSessionScriptDir</term>
            <listitem>
              <synopsis>PostSessionScriptDir=&lt;etc&gt;/mdm/PostSession</synopsis>
              <para>Directorio conteniendo los scripts ejecutados después de que el usuario cierre la sesión. Vea la sección ``Los directorios de Scripts'' para más información.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>PreSessionScriptDir</term>
            <listitem>
              <synopsis>PreSessionScriptDir=&lt;etc&gt;/mdm/PreSession</synopsis>
              <para>Directorio que contiene los scripts ejecutados antes de que el usuario inicie sesión. Vea la sección ``Los directorios de Scripts'' para más información.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>RBACSystemCommandKeys</term>
            <listitem>
              <synopsis>RBACSystemCommandKeys</synopsis>
              <para>El soporte para RBAC (Control de acceso basado en rol) para los comandos del sistema (apagar, reiniciar, suspender, etc.). Esta característica sólo funciona si MDM está compilado con soporte RBAC. Especifique la clave RBAC que se usa para determinar si el usuario tiene permiso para usar la acción a través de los comandos QUERY_LOGOUT_ACTION, SET_LOGOUT_ACTION y SET_SAFE_LOGOUT_ACTION <command>mdmflexiserver</command>. Las acciones válidas son HALT, REBOOT, SUSPEND y CUSTOM_CMD. La interfaz de entrada sólo mostrará los comandos si el usuario mdm (clave de configuración <filename>User</filename>) tiene permisos RBAC para usar la acción. Las claves RBAC para acciones múltiples se pueden especificar separándolas por punto y coma. El formato de cada una es "Action:RBAC key", si una acción no se especifica, entonces se asume que todos los usuarios tienen permiso para usar esta acción. Por ejemplo, un valor válido para esta opción de configuración sería "HALT:key.for.halt;REBOOT:key.for.reboot". Consulte las opciones de configuración <filename>AllowLogoutActions</filename> y <filename>SystemCommandsInMenu</filename> relacionadas.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>RebootCommand</term>
            <listitem>
              <synopsis>RebootCommand=&lt;sbin&gt;/shutdown -r now</synopsis>
              <para>Ruta completa y argumentos opcionales para el comando que ejecutar cuando el usuario selecciona Reiniciar desde el menú de Acciones. Esto puede ser una lista separada por «;» de comandos que probar. Si falta, el comandos de reinicio no está disponible. Note que lo predeterminado para este valor es no vacío así que para desactivar el reinicio debe establecerlo explícitamente a un valor vacío.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>RemoteGreeter</term>
            <listitem>
              <synopsis>RemoteGreeter=&lt;bin&gt;/mdmlogin</synopsis>
              <para>La ruta completa y el nombre del ejecutable del interfaz de entrada seguida de argumentos opcionales. Esto se usa para todas las sesiones remotas XDMCP. Es útil tener el interfaz de entrada que menos recursos gráficos demande si usa el Interfaz con temas para su interfaz principal. Vea además la clave <filename>Greeter</filename>.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>RootPath</term>
            <listitem>
              <synopsis>RootPath=defaultpath (valor establecido por configure)</synopsis>
              <para>Especifica la ruta que se establecerá en la sesión del root y los scripts {Init,PostLogin,PreSession,PostSession} ejecutados por MDM. Este valor podrá ser sobrepasado con el valor de <filename>/etc/default/login</filename> si contiene "SUROOT=&lt;pathname&gt;". Si el archivo <filename>/etc/default/login</filename> existe, pero no contiene ningún valor para SUROOT, el valor tal como se define en la configuración de MDM será el que se use.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>ServAuthDir</term>
            <listitem>
              <synopsis>ServAuthDir=&lt;var&gt;/mdm</synopsis>
              <para>Directorio que contiene los archivos de autenticación X para las pantallas individuales. Debería ser propiedad de <filename>root.mdm</filename> con los permisos 1770, donde <filename>mdm</filename> es el grupo MDM tal como se define por la opción <filename>Group</filename> Esto es que debería ser propiedad de root, con el grupo <filename>mdm</filename> teniendo permisos de escritura completos y el directorio debería estar con el bit de persistencia activado y otros no deberían tener permiso para el directorio. De esta manera el usuario de MDM no puede borrar archivos que pertenezcan a root en ese directorio, mientras que aún puede escribir sus propios archivos allí. MDM intentará cambiar los permisos por el usuario cuando se ejecute por primera vez si los permisos no son los de arriba. Este directorio también se usa para otros archivos privados que el demonio necesite almacenar Otros usuario no deberían tener ninguna forma de entrar a este directorio y leer o cambiar su contenido. Cualquiera que pueda leer este directorio puede conectarse a cualquier pantalla de este equipo.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>SessionDesktopDir</term>
            <listitem>
              <synopsis>SessionDesktopDir=&lt;etc&gt;/X11/sessions/:&lt;etc&gt;/dm/Sessions/:&lt;share&gt;/xsessions/</synopsis>
              <para>Directorio que contiene los archivos <filename>.desktop</filename> que son las sesiones disponibles en el sistema. Desde 2.4.4.2 esto se trata como una variable tipo PATH y se usa el primar archivo encontrado.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>SoundProgram</term>
            <listitem>
              <synopsis>SoundProgram=<filename>&lt;bin&gt;/play</filename> (o <filename>&lt;bin&gt;/audioplay</filename> en Solaris)</synopsis>
              <para>La aplicación que se usará al reproducir un sonido. Actualmente se usa para reproducir el sonido de inicio de sesión, vea la clave <filename>SoundOnLoginFile</filename>. Soportado desde 2.5.90.0.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>StandardXServer</term>
            <listitem>
              <synopsis>StandardXServer=/dir/to/X (valor asignado por el archivo de configuración)</synopsis>
              <para>Ruta completa y argumentos al comando del servidor X estándar. Esto de usa cuando mdm no puede encontrar ninguna otra definición, y se usa como valor predeterminado y valor para usar en caso de fallo en varios lugares. Esto debería ser capaz de ejecutar alguna clase de servidor X.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>SuspendCommand</term>
            <listitem>
              <synopsis>SuspendCommand=</synopsis>
              <para>Ruta completa y argumentos al comando que se ejecutará cuando el usuario seleccione Suspender desde el menú Acciones. Si estuviera vacío no habrá ese elemento del menú. Note que lo predeterminado para este valor es no vacío, así que para desactivar la suspensión debe establecer esto explícitamente a un valor vacío.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>SystemCommandsInMenu</term>
            <listitem>
              <synopsis>SuspendCommand=HALT;REBOOT;SHUTDOWN;SUSPEND;CUSTOM_CMD</synopsis>
              <para>Especifique qué comandos del sistema estarán disponibles en el menú de la interfaz de entrada. Los valores válidos son HALT, REBOOT, SHUTDOWN, SUSPEND y CUSTOM_CMD, y éstos deberían estar separados por punto y coma. Ésto puede ser útil si quiere deshabilitar algunas opciones en el menú, pero tenerlas disponibles para usuarios autenticados a través de los comandos SET_LOGOUT_ACTION o SET_SAFE_LOGOUT_ACTION <command>mdmflexiserver</command>. Por ejemplo, el panel de GNOME usa estos comandos para proporcionar las acciones Apagar, Reiniciar y Suspender en el menú Sistema. Por ello si desactiva esas opciones en la interfaz de entrada, estas opciones aún pueden estar disponibles para usuarios que se han autenticado a través del panel de GNOME. Consulte las opciones de configuración relacionadas <filename>AllowLogoutActions</filename> y <filename>RBACSystemCommandKeys</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>TimedLoginEnable</term>
            <listitem>
              <synopsis>TimedLoginEnable=false</synopsis>
              <para>Si el usuario dado en <filename>TimedLogin</filename> debería abrir una sesión después del número de segundos (establecidos en <filename>TimedLoginDelay</filename>) de inactividad en la pantalla de entrada. Esto es útil para terminales de acceso público o quizás incluso para uso doméstico. Si el usuario usa el teclado o abre los menús, el temporizador se restablecerá al valor <filename>TimedLoginDelay</filename> o 30 segundos, lo que sea mayor. si el usuario no introduce un nombre de usuario sino que tan sólo pulsa la tecla INTRO mientras que el programa de entrada está pidiendo el nombre del usuario, entonces MDM asume que el usuario quiere entrar inmediatamente como el usuario temporizado. Note que si no se pedirá ninguna contraseña para este usuario así que debería ser cuidadoso, aunque si usa PAM puede configurarlo para que requiera que introduzca una contraseña antes de permitir la entrada.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>TimedLogin</term>
            <listitem>
              <synopsis>TimedLogin=</synopsis>
              <para>Este es el usuario que debería iniciar sesión tras un número de segundos de inactividad. Éste nunca puede ser «root» y mdm rechazará iniciar como root de esta manera. Se soportan las mismas características que para <filename>AutomaticLogin</filename>. Se soportan los mismos caracteres de control y redirección a una aplicación.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>TimedLoginDelay</term>
            <listitem>
              <synopsis>TimedLoginDelay=30</synopsis>
              <para>Retardo en segundos antes de que el usuario <filename>TimedLogin</filename> entre en la sesión. Debe ser mayor o igual a 10.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>User</term>
            <listitem>
              <synopsis>User=mdm</synopsis>
              <para>El usuario bajo el cual <command>mdmlogin</command>, <command>mdmgreeter</command>, <command>mdmchooser</command> y los diálos GTK+ internos a prueba de fallos se ejecutan. Vea además <filename>Group</filename>. Este usuario tendrá acceso a todos los archivos de autorización X, y quizás a otros datos internos de MDM y por lo tanto no debería ser un usuario como nobody, sino un usuario dedicado.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>UserAuthDir</term>
            <listitem>
              <synopsis>UserAuthDir=</synopsis>
              <para>El directorio donde el archivo <filename>.Xauthority</filename> debería guardarse. Cuando no se especifique nada se usará el directorio personal del usuario. Éste es a lo que se expande la virgulilla así que puede establecerlo a cosas como: <filename>~/authdir/</filename>.</para>

              <para>Si no usa la expansión de la virgulilla, entonces el nombre de archivo creado será aleatorio, como en <filename>UserAuthFBDir</filename>. De esta manera muchos usuarios pueden tener el mismo directorio de autenticación. Por ejemplo quizá quiera establecer esto a <filename>/tmp</filename> cuando tenga el directorio de personal en NFS, debido a que no desea que los archivos de cookies vayan por el cable. Los usuarios deberían tener privilegios de escritura en este directorio, y este directorio debería tener el bit de persistencia activado y todo lo demás, igual que el directorio <filename>/tmp</filename>.</para>

              <para>Normalmente si este es el directorio personal del usuario MDM aún se negará a poner cookies allí si piensa que es NFS (probando root-squashing). Esto puede cambiarse estableciendo <filename>NeverPlaceCookiesOnNFS</filename> a «false» en la sección <filename>[security]</filename>.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>UserAuthFBDir</term>
            <listitem>
              <synopsis>UserAuthFBDir=/tmp</synopsis>
              <para>Si MDM falla al actualizar el archivo <filename>.Xauthority</filename> del usuario se crea una cookie para casos de fallo en este directorio.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>UserAuthFile</term>
            <listitem>
              <synopsis>UserAuthFile=.Xauthority</synopsis>
              <para>Nombre del archivo usado para almacenar cookies del usuario.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>VTAllocation</term>
            <listitem>
              <synopsis>VTAllocation=true</synopsis>
              <para>En sistemas donde MDM soporta reserva de TV (terminales virtuales) automáticos (actualmente Linux y FreeBSD sólo), puede hacer que MDM agregue automáticamente el argumento del tv al ejecutable del servidor X. De esta manera las carreras que surjan de cada servidor X gestionando su propia reserva de tv se pueden evitar. Vea además <filename>FirstVT</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>XKeepsCrashing</term>
            <listitem>
              <synopsis>XKeepsCrashing=&lt;etc&gt;/mdm/XKeepsCrashing</synopsis>
              <para>Un script para ejecutar en caso de que X no logre iniciarse. Esto es para ejecutar una configuración de X o cualquier otra cosa para hacer que la configuración de X funcione. Vea el script que vino con la distribución para un ejemplo. El script <filename>XKeepsCrashing</filename> se prueba en Red Hat, pero podría funcionar en cualquier otro lugar. Su integrador del sistema debería asegurarse de que este script está actualizado para su sistema particular.</para>
              <para>En caso de que se configure <filename>FailsafeXServer</filename>, ése se intentará primero, y éste sólo se usará como respaldo si incluso ese servidor X sigue colgándose.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Xnest</term>
            <listitem>
              <synopsis>Xnest=&lt;bin&gt;/X11/Xephyr -audit 0</synopsis>
              <para>La ruta completa y argumentos para el comando del servidor X anidado, que puede ser Xephyr, Xnest o algún programa similar. Éste comando se usa para iniciar pantallas anidadas permitiendo al usuario iniciar nuevas pantallas de inicio de sesión en una ventana anidada. Se recomienda Xephyr ya que trabaja mejor y tiene mejor soporte para las extensiones modernas del servidor X. Por ello MDM establecerá la configuración predeterminada para usar Xephry, si está disponible. Si Xephyr no está disponible, entonces se usará Xnest, si está disponible.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>XnestUnscaledFontPath</term>
            <listitem>
              <synopsis>XnestUnscaledFontPath=true</synopsis>
              <para>Establézcalo a «true» si el comando para el programa del servidor X anidado soporta el sufijo ":unscaled" en FontPath (comando que se pasa al servidor X anidado a traes del argumento -fp). Algunos programas Xnest (ej. Xsun Xnest) no lo soportan y es necesario establecer esto a «false» para que funcionen con MDM dichos comandos del servidor X anidado. Consulte la opción de configuración <filename>Xnest</filename>.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="securitysection">
        <title>Opciones de seguridad</title>
        
        <variablelist>
          <title>[security]</title>
          
          <varlistentry>
            <term>AllowRoot</term>
            <listitem>
              <synopsis>AllowRoot=true</synopsis>
              <para>Permitir a root (usuario privilegiado) entrar a través de MDM. Establezca esto a falso si no quiere permitir dichas entradas.</para>
              <para>En sistemas que soportan PAM, este parámetro no es tan útil ya que puede usar PAM para hacer lo mismo, y de hecho para hacer más. Sin embargo todavía se sigue, así que probablemente debería dejarlo a TRUE para los sistemas PAM.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>AllowRemoteRoot</term>
            <listitem>
              <synopsis>AllowRemoteRoot=false</synopsis>
              <para>Permitir al root (usuario privilegiado) entrar remotamente a través de MDM. Este valor debería establecerse a true para permitir dichas entradas. Las entradas remotas son cualquier entrada que provengan a través de XDMCP.</para>
              <para>En sistemas que soporten PAM, este parámetro no es tan útil debido a que puede usar PAM para hacer lo mismo, e incluso más.</para>
              <para>Este valor será sobrepasado y establecido a false si existe el archivo <filename>/etc/default/login</filename> y contiene "CONSOLE=/dev/login", y será establecido a true si el archivo <filename>/etc/default/login</filename> existe y contine cualquier otro valor o ningún valor para CONSOLE.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>AllowRemoteAutoLogin</term>
            <listitem>
              <synopsis>AllowRemoteAutoLogin=false</synopsis>
              <para>Permitir que la entrada temporizada funcione de forma remota. Esto es, que a las conexiones remotas a través de XDMCP se les permita entrar con el usuario «TimedLogin» después del retardo definido en <filename>TimedLoginDelay</filename>.</para>
              <para>Note que esto puede hacer un sistema muy inseguro, y por eso está desactivado por omisión.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>CheckDirOwner</term>
            <listitem>
              <synopsis>CheckDirOwner=true</synopsis>
              <para>Por omisión MDM comprueba el propietario de los directorios personales antes de escribir en ellos, esto previene problemas de seguridad en caso de una configuración inadecuada. Sin embargo en algunos lugares los directorios personales serán propiedad de un usuario diferente y en este caso es necesario activar esta opción. Además tendrá que activar la clave <filename>RelaxPermissions</filename> a almenos el valor 1 debido a que en este escenario los directorios personales serán escribibles por el grupo. Soportado desde 2.6.0.4.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>SupportAutomount</term>
            <listitem>
              <synopsis>SupportAutomount=false</synopsis>
              <para>Por omisión MDM comprueba la propiedad de los directorios personales antes de escribir en ellos, esto previene problemas de seguridad en caso de una configuración inadecuada. Sin embargo cuando los directorios personales están gestionados por automounter, a menudo no están montados antes de acceder a ellos. Esta opción soluciona algunas peculiaridades del automontador de Linux.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>DisallowTCP</term>
            <listitem>
              <synopsis>DisallowTCP=true</synopsis>
              <para>Si es «true», entonces añadir siempre <filename>-nolisten tcp</filename> a la línea de comandos de los servidores X locales, para de esta forma deshabilitar las conexiones TCP. Esta configuración es más segura si no se van a usar conexiones remotas.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>NeverPlaceCookiesOnNFS</term>
            <listitem>
              <synopsis>NeverPlaceCookiesOnNFS=true</synopsis>
              <para>Normalmente si esto es <literal>true</literal> (lo cual es por omisión), MDM no colocará cookies en los directorios personales de los usuarios si estos directorios se encuentran en un volumen remoto NFS. Bien, MDM considerará cualquier sistema con root-squashing un sistema NFS. Algunas veces sin embargo el sistema de archivos remoto puede tener root squashing y ser seguro (quizás usando encriptado). En este caso establezca esto a <literal>false</literal>. Note que esta opción apareció en la versión 2.4.4.4 y se ignora en las versiones anteriores.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>PasswordRequired</term>
            <listitem>
              <synopsis>PasswordRequired=false</synopsis>
              <para>Si es <literal>true</literal>, esto hará que se pase PAM_DISALLOW_NULL_AUTHTOK como una opción a pam_authenticate y pam_acct_mgmt, no permitiendo una contraseña vacía. Este ajuste sólo tendrá efecto si MDM está usando PAM. Este valor no se tendrá en cuanta si <filename>/etc/default/login</filename> contiene "PASSREQ=[YES|NO]". Si existe el archivo <filename>/etc/default/login</filename> pero no contiene ningún valor para PASSREQ, se usará el valor tal como se defina en la configuración de MDM.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>RelaxPermissions</term>
            <listitem>
              <synopsis>RelaxPermissions=0</synopsis>
              <para>Por omisión MDM ignora los archivos y directorios escribibles para otros usuarios que no sean el propietario.</para> 
              
              <para>Cambiar el valor de RelaxPermissions hace posible alterar este comportamiento:</para>
              
              <para>0: Opción paranoia. Sólo acepta archivos y directorios que pertenezcan al usuario.</para>
              <para>1: Permitir archivos y directorios escribibles por el grupo.</para>
              <para>2: Permitir archivos y directorios escribibles por todo el mundo.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>RetryDelay</term>
            <listitem>
              <synopsis>RetryDelay=1</synopsis>
              <para>El número de segundos que MDM debería esperar antes de reactivar el campo de la entrada después de una entrada fallida.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>UserMaxFile</term>
            <listitem>
              <synopsis>UserMaxFile=65536</synopsis>
              <para>MDM rehusará a leer/escribir archivos más grandes que este número (especificado en bytes).</para>
              
              <para>Además de la comprobación del tamaño del archivo MDM es extremadamente quisquilloso respecto a acceder a archivos en directorios de usuario. No seguirá enlaces simbólicos y puede rehusar opcionalmente a leer archivos y directorios escribibles por otros usuarios distintos del propietario. Vea la opción <filename>RelaxPermissions</filename> para más información.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>UtmpLineAttached</term>
            <listitem>
              <synopsis>UtmpLineAttached=/dev/console (o /dev/dtlocal en Solaris)</synopsis>
              <para>Al realizar el procesado Utmp para pantallas locales, MDM establece ut_line a l dispositivo asociado con la terminal virtual (VT) si se está usando. De otra forma, usará el valor especificado con la pantalla en la sección <filename>[servers]</filename> si se proporcionó un valor. De no ser así, entonces se usa el valor predeterminado especificado en UtmpLineAttached para las pantallas locales. El valor puede contener "%d" que se traduce como el valor de DISPLAY o "%h" que se traduce como el nombre del equipo. Este valor debe comenzar con <filename>/dev/</filename>.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>UtmpLineRemote</term>
            <listitem>
              <synopsis>UtmpLineRemote= (o /dev/dtremote en Solaris)</synopsis>
              <para>Al realizar el procesado Utmp, MDM establece ut_line a este valor para las pantallas remotas. El valor puede contener "%d" que se traduce como el valor de DISPLAY o "%h" que se traduce como el nombre del equipo. Este valor debe comenzar con <filename>/dev/</filename>.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>UtmpPseudoDevice</term>
            <listitem>
              <synopsis>PseudoDevice=false (o «true» en Solaris)</synopsis>
              <para>Si el dispositivo asociado con una pantalla no existe, entonces MDM creará un enlace simbólico hacia <filename>/dev/null</filename> o lo actualizará («touch») si es un enlace simbólico hacia <filename>/dev/null</filename>. Algunos programas tales como <command>last</command>, <command>finger</command>, o <command>who</command> acceden a la base de datos utmp y puede que asuman que el dispositivo apunta a un archivo actual. Crear esos enlaces simbólicos asegura que esos programas funcionarán adecuadamente.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="xdmcpsection">
        <title>Soporte XDMCP</title>

        <variablelist>
          <title>[xdmcp]</title>
          
          <varlistentry>
            <term>DisplaysPerHost</term>
            <listitem>
              <synopsis>DisplaysPerHost=1</synopsis>
              <para>Para impedir que los atacantes llenen la cola de pendientes, MDM sólo permite una conexión para cada equipo remoto. Si quiere proporcionar servicios de pantalla a equipos con más de un monitor, debería incrementar el valor <filename>DisplaysPerHost</filename>.</para>

              <para>Note que el número de pantallas locales permitidas no está limitado. Sólolas conexiones remotas a través de XDMCP están limitadas por esta opción de la configuración.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Enable</term>
            <listitem>
              <synopsis>Enable=false</synopsis>
              <para>Establecer esto a true activa el soporte XDMCP permitiento que las pantallas X remotas o los terminales X se gestiones por medio de MDM.</para>
              
              <para><filename>mdm</filename> escucha peticiones en el puerto UDP 177. Vea la opción Puerto para más información.</para>
              
              <para>Si MDM está compilado para soportarlo, el acceso desde las pantallas remotas se puede controlar usando la biblioteca TCPWrappers. El nombre del servicio es <filename>mdm</filename></para>
              
              <para>Debería añadir <screen>mdm:.mi.dominio</screen> a su <filename>&lt;etc&gt;/hosts.allow</filename>, dependiendo de su configuración de TCP Wrappers. Vea la página del manual <ulink type="help" url="man:hosts.allow">hosts.allow(5)</ulink> para más detalles.</para>
              
              <para>Note que XDMCP no es un protocolo particularmente seguro y que es una buena idea bloquear el puerto UDP 177 en su cortafuegos a no ser que realmente lo necesite.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>EnableProxy</term>
            <listitem>
              <synopsis>EnableProxy=false</synopsis>
              <para>Estableciendo esto a true se activa el soporte para ejecutar sesiones XDMCP en un servidor proxy local de X. De esta forma se puede mejorar el rendimiento de las sesiones XDMCP, especialmente en redes de alta latencia, debido a que muchas opraciones del protocolo X se pueden completar sin ir por la red.</para>
              <para>Note, sin embargo que este modo incrementará significativamente la carga en la máquina que hospede las sesiones XDMCP</para>
              <para>Vea las opciones <filename>FlexiProxy</filename> y <filename>FlexiProxyDisconnect</filename> para más detalles acerca de cómo configurar el soporte para esta característica.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>HonorIndirect</term>
            <listitem>
              <synopsis>HonorIndirect=true</synopsis>
              <para>Activa la selección XDMCP INDIRECT (ejecución remota de <filename>mdmchooser</filename>) para terminales X que no suministran su proprio explorador de pantallas.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>MaxPending</term>
            <listitem>
              <synopsis>MaxPending=4</synopsis>
              <para>Para evitar ataques por denegación de servicio, MDM tiene una cola de tamaño fijo de conexiones pendientes. Sólo pueden iniciarse a la vez MaxPending pantallas.</para>
              
              <para>Note que este parámetro *no* liminta el número de pantallas remotas que se puedan gestionar. Sólo limita el número de pantallas iniciando una conexión simultáneamente.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>MaxPendingIndirect</term>
            <listitem>
              <synopsis>MaxPendingIndirect=4</synopsis>
              <para>MDM sólo proporciona <filename>MaxPendingIndirect</filename> pantallas con selectores de host simultáneamente. Si entran más peticiones de diferentes hosts, las más antiguas se descartarán.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>MaxSessions</term>
            <listitem>
              <synopsis>MaxSessions=16</synopsis>
              <para>Determina el número máximo de conexiones de pantallas remotas que serán gestionadas simultáneamente. Ej: el número total de pantallas remotas que puede usar su host.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>MaxWait</term>
            <listitem>
              <synopsis>MaxWait=30</synopsis>
              <para>Cuando MDM esté preparado para gestionar una pantalla se envía un paquete ACCEPT a ella conteniendo un id único de sesión que será usado en las conversaciones XDMCP futuras.</para>
              
              <para>MDM entonces colocará el id de sesión en la cola de pendientes esperando a que la pantalla responda con una petición MANAGE.</para>
              
              <para>Si no se recibe ninguna respuesta dentro de MaxWait segundos, MDM declarará la pantalla muerta y la borrará de la cola pendiente liberando el espacio para otras pantallas.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>MaxWaitIndirect</term>
            <listitem>
              <synopsis>MaxWaitIndirect=30</synopsis>
              <para>El parámetro MaxWaitIndirect determina el número máximo de segundos entre el tiempo donde un usuario elije un host y la subsiguiente petición indirecta donde el usuario se conecta al host. Cuando se excede el tiempo establecido, la información acerca del host elegido se olvida y el slot indirecto se libera para otras pantallas. La información se puede olvidar antes si hay más hosts intentando enviar solicitudes que <filename>MaxPendingIndirect</filename>.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>Port</term>
            <listitem>
              <synopsis>Port=177</synopsis>
              <para>El número de puerto UDP en el que <filename>mdm</filename> debería escuchar las peticiones XDMCP. No cambie esto a no ser que sepa lo que está haciendo.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>PingIntervalSeconds</term>
            <listitem>
              <synopsis>PingIntervalSeconds=15</synopsis>
              <para>Intervalo en el que hacer ping al servidor X en segundos. Si el servidor X no responde antes de la siguiente vez que lanzamos un ping a él, la conexión se detiene y la sesión termina. Esta es una combinación de las opciones de XDM PingInterval y PingTimeout, pero en segundos.</para>

              <para>Note que MDM en el pasado usaba una clave de configuración <filename>PingInterval</filename> estaba en minutos. Para la mayoría de los propósitos querría que este ajuste fuera menor que un minuto, sin embargo en la mayoría de casos donde se usaría XDMCP (como terminales de laboratorio), un retraso de más de 15 segundos realmente significaría que el terminal se ha apagado o reiniciado y usted querría terminar la sesión.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>ProxyReconnect</term>
            <listitem>
              <synopsis>FlexiProxyReconnect=</synopsis>
              <para>Establecer esta opción activa el soporte experimental para la migración de sesión con sesiones XDMCP. Esto permite a los usuarios desconectarse de su sesión y reconectarse más tarde a esa misma sesión, posiblemente desde un terminal diferente.</para>
              <para>Para usar esta característica, debe tener un servidor X anidado disponible que soporte desconectar de su servidor X padre y reconectar a otro servidor X. Actualmente el servidor Distributed Multihead X (DMX) soporta esta característica hasta cierto punto y otros proyectos como NoMachine NX lo están implementándolo.</para>
              <para>Esta opción debería enviarse a la ruta de un comando que manejará la reconexión del proxy XDMCD a otra pantalla de backend. Se suministra una implementación de ejemplo para usar con DMX.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>ProxyXServer</term>
            <listitem>
              <synopsis>ProxyXServer=</synopsis>
              <para>La línea de comandos del servidor X para un proxy XDMCP. Cualquier servidor X anidado como Xnest, Xephyr o Xdmx debería funcionar bien.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Willing</term>
            <listitem>
              <synopsis>Willing=&lt;etc&gt;/mdm/Xwilling</synopsis>
              <para>Cuando la máquina devuelve un paquete WILLING tras un QUERY envía una cadena que da el estado actual del servidor. El mensaje predeterminado es el ID de sistema, pero es posible crear un script que muestre un mensaje personalizado. Si este script no existe o esta clave está vacía se envía el mensaje predeterminado. Si el script tiene éxito y produce alguna salida, se envía la primera línea de la salida (y sólo la primera línea). Se ejecuta como mucho una vez cada 3 segundos para impedir una posible denegación de servicio inundando la máquina de paquetes QUERY.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="commonguioptions">
        <title>Opciones comunes de configuración a través de la IGU</title>

        <variablelist>
          <title>[gui]</title>

          <varlistentry>
            <term>AllowGtkThemeChange</term>
            <listitem>
              <synopsis>AllowGtkThemeChange=true</synopsis>
              <para>Si se quiere permitir cambiar el tema GTK+ (los widgets) desde el interfaz. Actualmente esto sólo afecta al interfaz estándar debido a que el interfaz gráfico no tiene esta capacidad. El tema tendrá efecto en esta pantalla hasta que se cambie y afectará a todas las demás ventanas que sean gestionadas por MDM. Soportado desde 2.5.90.2.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>GtkRC</term>
            <listitem>
              <synopsis>GtkRC=</synopsis>
              <para>Ruta al <filename>gtkrc</filename> para leer cuando MDM ponga una ventana. Debería usar realmente la clave <filename>GtkTheme</filename> para establecer un tema.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>GtkTheme</term>
            <listitem>
              <synopsis>GtkTheme=Default</synopsis>
              <para>Un nombre de un tema instalado para usarlo por omisión. Se usará en la interfaz, selector y toda ventana del GUI que salga de MDM. Soportado desde 2.5.90.2.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>GtkThemesToAllow</term>
            <listitem>
              <synopsis>GtkThemesToAllow=all</synopsis>
              <para>Lista separada por comas de temas permitidos. Éstos deben ser los nombres de los temas instalados en los lugares estándar para temas GTK+. Puede además especificar «all» para permitir todos los temas instalados. Esto está relacionado con la clave <filename>AllowGtkThemeChange</filename>. Soportada desde 2.5.90.2.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>MaxIconWidth</term>
            <listitem>
              <synopsis>MaxIconWidth=128</synopsis>
              <para>Especifica la anchura máxima del icono (en píxeles) que mostrará el visor de rostros. Los iconos más grandes se escalarán. Esto también afecta a los iconos en el selector XDMCP.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>MaxIconHeight</term>
            <listitem>
              <synopsis>MaxIconHeight=128</synopsis>
              <para>Especifica la altura máxima del icono (en píxeles) que mostrará el visor de rostros. Los iconos más grandes se escalarán. Esto también afecta a los iconos en el selector XDMCP.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
        
      <sect3 id="greetersection">
        <title>Configuración del interfaz</title>

        <variablelist>
          <title>[greeter]</title>

          <varlistentry>
            <term>BackgroundColor</term>
            <listitem>
              <synopsis>BackgroundColor=#000000</synopsis>
              <para>Si BackgroundType es 2, use este color en el fondo del interfaz. Además se usará como el fondo de las imágenes transparentes y si BackgroundRemoteOnlyColor está establecido y es una pantalla remota. Esto sólo afecta al interfaz GTK+.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>BackgroundProgramInitialDelay</term>
            <listitem>
              <synopsis>BackgroundProgramInitialDelay=30</synopsis>
              <para>La aplicación de fondo será iniciada tras al menos estos segundos de inactividad.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>RestartBackgroundProgram</term>
            <listitem>
              <synopsis>RestartBackgroundProgram=true</synopsis>
              <para>Si se establece la aplicación de fondo se reiniciará cuando haya salido, después que el retardo descrito abajo haya pasado. Esta opción puede ser útil cuando desee ejecutar un salvapantallas cuando no haya nadie usando el equipo.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>BackgroundProgramRestartDelay</term>
            <listitem>
              <synopsis>BackgroundProgramRestartDelay=30</synopsis>
              <para>La aplicación de fondo será reiniciada tras al menos estos segundos de inactividad.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>BackgroundImage</term>
            <listitem>
              <synopsis>BackgroundImage=somefile.png</synopsis>
              <para>Si BackgroundType es 1, entonces mostrar este archivo como fondo en el interfaz. Esto sólo afecta al interfaz GTK+.</para>
            </listitem>
          </varlistentry>        

          <varlistentry>
            <term>BackgroundProgram</term>
            <listitem>
              <synopsis>BackgroundProgram=&lt;bin&gt;/xeyes</synopsis>
              <para>Si se establece, este comando se ejecutará en el fondo muentras la pantalla de entrada se muestra. Note que no todas las aplicaciones ejecutarán de esta manera, debido a que MDM no tiene un directorio personal usualmente. Podría configurar el directorio personal del usuario MDM si quiere ejecutar aplicaciones que lo requieren. Esto sólo afecta al interfaz GTK+.</para>
            </listitem>
          </varlistentry>        

          <varlistentry>
            <term>BackgroundRemoteOnlyColor</term>
            <listitem>
              <synopsis>BackgroundRemoteOnlyColor=true</synopsis>
              <para>Establece el color de fondo sólo en las pantallas remotas. Esto es para hacer la carga de red más ligera. El programa <filename>BackgroundProgram</filename> tampoco se ejecuta. Esto sólo afecta al interfaz GTK+.</para>
            </listitem>
          </varlistentry>        

          <varlistentry>
            <term>BackgroundScaleToFit</term>
            <listitem>
              <synopsis>BackgroundScaleToFit=true</synopsis>
              <para>Escalar la imagen del fondo para que quepa en la pantalla. Esto sólo afecta al interfaz GTK+.</para>
            </listitem>
          </varlistentry>        

          <varlistentry>
            <term>BackgroundType</term>
            <listitem>
              <synopsis>BackgroundType=2</synopsis>
              <para>El tipo de fondo a establecer. 0 es ninguno, 1 es imagen y color, 2 es color y 3 es imagen. Esto sólo afecta al interfaz GTK+.</para>
            </listitem>
          </varlistentry>        

          <varlistentry>
            <term>Browser</term>
            <listitem>
              <synopsis>Browser=true</synopsis>
              <para>Establézcalo a true para activar el visor de rostos. vea la sección «El interfaz GTK+» para más información acerca del visor de rostros. Esta opción sólo funciona para el interfaz GTK+. Para el interfaz con temas, el visor de rostros se activa eligiendo un tema que incluya un visor de rostros.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>ChooserButton</term>
            <listitem>
              <synopsis>ChooserButton=true</synopsis>
              <para>Si es true, añadir un botón de selector al menú de Acciones que reiniciará el servidor X actual con un selector. XDMCP no necesita estar activado en el equipo local para que esto funcione.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>ConfigAvailable</term>
            <listitem>
              <synopsis>ConfigAvailable=false</synopsis>
              <para>Si es true, permite al configurador ejecutarse desde el interfaz. Note que el usuario necesitará teclear la contraseña de root antes de que el configurador se inicie. Establezca esto a falso por omisión para seguridad adicional. Vea la opción <filename>Configurator</filename> en la sección del demonio.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>DefaultFace</term>
            <listitem>
              <synopsis>DefaultFace=&lt;share&gt;/pixmaps/nophoto.png</synopsis>
              <para>Si un usuario no tiene una imagen de rostro definida, MDM usará el icono "stock_person" definido en el tema GTK+ actual. Si dicha imagen no está definida, entonces usará la imagen especificada en la opción de configuración <filename>DefaultFace</filename>. La imagen debe estar en un formato soportado por gdk-pixbuf y el archivo debe poderlo leer el usuario de MDM.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>Include</term>
            <listitem>
              <synopsis>Include=</synopsis>
              <para>Lista separada por comas de usuarios que serán incluidos en el visor de rostros y en la lista de selección de <command>mdmsetup</command> para el inicio de sesión automático/temporizado. Vea además <filename>Exclude</filename>, <filename>IncludeAll</filename>, y <filename>MinimalUID</filename>.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>Exclude</term>
            <listitem>
              <synopsis>Exclude=bin,daemon,adm,lp,sync,shutdown,halt,mail,…</synopsis>
              <para>Lista separada por comas de usuarios que serán excluidos en el visor de rostros y en la lista de selección de <command>mdmsetup</command> para el inicio de sesión automático/temporizado. Vea además <filename>Exclude</filename>, <filename>IncludeAll</filename>, y <filename>MinimalUID</filename>.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>IncludeAll</term>
            <listitem>
              <synopsis>IncludeAll=false</synopsis>
              <para>Por omisión, una lista de inclusión vacía significa no mostrar ningún usuario. Estableciendo IncludeAll al valor «true», se inspeccionará el archivo de contraseñas y todos los usuarios se mostrarán excepto los usuarios excluidos por medio del ajuste de exclusión y los IDs de usuario menores que MinimalUID. Examinar el archivo de contraseñas puede ser lento en sistemas con gran número de usuarios y esta característica no se usará en dichos entornos. Vea además <filename>Include</filename>, <filename>Exclude</filename>, y <filename>MinimalUID</filename>.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>GlobalFaceDir</term>
            <listitem>
              <synopsis>GlobalFaceDir=&lt;share&gt;/pixmaps/faces/</synopsis>
              <para>Directorio para todo el sistema para los archivos de rostros. El administrador del sistema puede colocar iconos para los usuarios aquí sin tocar los directorios personales. Los rostros se llaman como los nombres de sus usuarios.</para>
              
              <para>Ej <filename>&lt;GlobalFaceDir&gt;/juansinnombre</filename> debería contener el icono de rostro para el usuario «juansinnombre». No se debe especificar ninguna extensión indicando el formato de la imagen.</para>
              
              <para>Las imágenes de los rostros deben almacenarse en un formato soportado por gdk-pixbuf y deben tener permiso de lectura para el usuario MDM.</para>
              
              <para>Un archivo de icono de un usuario siempre toma precedencia sobre el proporcionado por el administrador del sistema.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>GraphicalTheme</term>
            <listitem>
              <synopsis>GraphicalTheme=circles</synopsis>
              <para>Los temas gráficos que el Interfaz de entrada con temas debería usar. Debería referirse a un directorio en el directorio del tema designado por <filename>GraphicalThemeDir</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>GraphicalThemes</term>
            <listitem>
              <synopsis>GraphicalThemes=circles</synopsis>
              <para>Los temas gráficos que el Interfaz de entrada debería usar si el modo está puesto a Temas aleatorios. Esto es una lista delimitada por "/:" . Debería referirse a un directorio en el directorio del tema designado por <filename>GraphicalThemeDir</filename>. Esto se usa sólo si <filename>GraphicalThemeRand</filename> está establecido a «true».</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>GraphicalThemeRand</term>
            <listitem>
              <synopsis>GraphicalThemeRand=false</synopsis>
              <para>Indica si el interfaz gráfico usará «Sólo un tema» o «Tema aleatorio». Sólo el modo «Un tema» usa los temas listados en <filename>GraphicalTheme</filename>, el modo «Temas aleatorios» usa los temas listados por <filename>GraphicalThemes</filename>. Un valor de false establece el interfaz para que use el modo «Sólo un tema», un valor de true establece al interfaz para usar el modo «Tema aleatorio».</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>GraphicalThemeDir</term>
            <listitem>
              <synopsis>GraphicalThemeDir=&lt;share&gt;/mdm/themes/</synopsis>
              <para>El directorio donde se instalan los temas para el Interfaz de Temas.</para>
            </listitem>
          </varlistentry>

         <varlistentry>
            <term>GraphicalThemedColor</term>
            <listitem>
              <synopsis>GraphicalThemedColor=#000000</synopsis>
              <para>Use este color en el fondo del Interfaz con Temas. Esto sólo afecta al interfaz con temas.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>InfoMsgFile</term>
            <listitem>
              <synopsis>InfoMsgFile=/path/to/infofile</synopsis>
              <para>Si está presente y la /ruta/al/archivo/info especifica un archivo de texto existente y legible (ej: &lt;etc&gt;/infomsg.txt) el contenido del archivo se mostrará en una caja de diálogo modal antes que al usuario se le permita entrar. Esto funciona con los interfaces estándar y con temas.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>InfoMsgFont</term>
            <listitem>
              <synopsis>InfoMsgFont=fontspec</synopsis>
              <para>Si está presente y InfoMsgFile (ver arriba) está en uso, esto especifica la tipografía que usar cuando se muestra el contenido del archivo de texto InfoMsgFile. Por ejemplo fontspec podría ser Sans 24 para obtener un tipo sans serif de 24 puntos de tamaño. Esto funciona tanto para el interfaz estándar como para los de temas.</para>
            </listitem>
          </varlistentry>
          
          
          <varlistentry>
            <term>LocaleFile</term>
            <listitem>
              <synopsis>LocaleFile=&lt;etc&gt;/mdm/locale.alias</synopsis>
              <para>Archivo en formato similar al formato de GNU locale con entradas para todos los idiomas soportados en el sistema. El formato se describe encima o en un comentario dentro de ese archivo.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>LockPosition</term>
            <listitem>
              <synopsis>LockPosition=true</synopsis>
              <para>Si es true, la posición de la ventana de entrada del interfaz de entrada GTK+ no se puede cambiar incluso si la barra de título está activada.</para>
            </listitem>
          </varlistentry>        
          
          <varlistentry>
            <term>Logo</term>
            <listitem>
              <synopsis>Logo=&lt;share&gt;/pixmaps/gnome-logo-large.png</synopsis>
              <para>El archivo de imagen que mostrar en la cada del logotipo. El archivo debe estar en un formato soportado por gdk-pixbuf y debe ser legible por el usuario MDM. Si no se especifica ningún archivo, la característica del logotipo se desactiva. Esto sólo afecta al interfaz de entrada GTK+.</para>
            </listitem>
          </varlistentry>

         <varlistentry>
            <term>ChooserButtonLogo</term>
            <listitem>
              <synopsis>ChooserButtonLogo=&lt;share&gt;/pixmaps/gnome-logo-large.png</synopsis>
              <para>Archivo de imagen para mostrar en el botón del selector de archivos en <command>mdmsetup</command>. Esta clave se modifica por <command>mdmsetup</command> y no debería modificarse manualmente por el usuario. Esto sólo afecta a las preferencias de la pantalla de entrada (<command>mdmsetup</command>).</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>MinimalUID</term>
            <listitem>
              <synopsis>MinimalUID=100</synopsis>
              <para>El UID mínimo que MDM debería considerar un usuario. Todos los usuarios con un UID inferior serán excluidos del visor de rostros. Vea además <filename>Include</filename>, <filename>Exclude</filename>, y <filename>IncludeAll</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>PositionX</term>
            <listitem>
              <synopsis>PositionX=200</synopsis>
              <para>La posición horizontal de la ventana de entrada del interfaz GTK+.</para>
            </listitem>
          </varlistentry>        

          <varlistentry>
            <term>PositionY</term>
            <listitem>
              <synopsis>PositionY=100</synopsis>
              <para>La posición vertical de la ventana de entrada del interfaz GTK+.</para>
            </listitem>
          </varlistentry>        
          
          <varlistentry>
            <term>Quiver</term>
            <listitem>
              <synopsis>Quiver=true</synopsis>
              <para>Controla si <command>mdmlogin</command> debe agitar la pantalla cuando se introduce un usuario/contraseña incorrecto. Esto sólo afecta al interfaz GTK+.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>DefaultRemoteWelcome</term>
            <listitem>
              <synopsis>DefaultRemoteWelcome=true</synopsis>
              <para>Si está establecido a «true» el valor "Welcome to %n" se usa para <filename>RemoteWelcome</filename>. Este valor se traduce al idioma apropiado para el usuario. Si se establece a «false», se usa el ajuste <filename>RemoteWelcome</filename>. Esta cadena puede usar las secuencias de caracteres especiales tal como se explica en la sección "Nodo de texto" del capítulo "Interfaz con temas". Esto explica el significado de "%n".</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>RemoteWelcome</term>
            <listitem>
              <synopsis>RemoteWelcome=Welcome to %n</synopsis>
              <para>Controla qué texto mostrar al lado de la imagen del logo en el interfaz para las sesiones XDMCP remotas. Se realiza la misma expansión aquí como en la cadena <filename>Welcome</filename>. Esta cadena puede usar las mismas secuencias de caracteres especiales tal como se explica en la sección «Nodo de Texto» del capítulo "Interfaz con temas".</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>RunBackgroundProgramAlways</term>
            <listitem>
              <synopsis>RunBackgroundProgramAlways=false</synopsis>
              <para>Si esto es true entonces la aplicación de fondo se ejecuta siempre, en otro caso sólo se ejecuta cuando <filename>BackgroundType</filename> es 0 (Ninguno) Esto sólo afecta al interfaz GTK+.</para>
            </listitem>
          </varlistentry>        

          <varlistentry>
            <term>SetPosition</term>
            <listitem>
              <synopsis>SetPosition=true</synopsis>
              <para>Si es true la posición de la ventana de entrada del interfaz GTK+ se determina por <filename>PositionX</filename> / <filename>PositionY</filename>.</para>
            </listitem>
          </varlistentry>        

          <varlistentry>
            <term>ShowGNOMEFailsafeSession</term>
            <listitem>
              <synopsis>ShowGnomeFailsafeSession=true</synopsis>
              <para>Indica si el interfaz muestra la sesión a prueba de fallos en la lista de sesiones.</para>
            </listitem>
          </varlistentry>        

          <varlistentry>
            <term>ShowLastSession</term>
            <listitem>
              <synopsis>ShowLastSession=true</synopsis>
              <para>Indica si el interfaz debe mostrar la última sesión en la lista de sesiones. Si esto se desactiva, entonces MDM está en modo 'cambio de escritorio' que es por ejemplo lo que usa Red Hat. Esto es, los usuarios no pueden escoger la última sesión y obtienen entonces la sesión predeterminada (ver <filename>DefaultSession</filename>) a no ser que escojan otra cosa distinta para esta sesión únicamente. Así si esto está desactivado, esto realmente evita guardar la última sesión.</para>
            </listitem>
          </varlistentry>        

          <varlistentry>
            <term>ShowXtermFailsafeSession</term>
            <listitem>
              <synopsis>ShowXtermFailsafeSession=true</synopsis>
              <para>Indica si el interfaz debe mostrar la sesión a prueba de fallos Xterm en la lista de sesiones.</para>
            </listitem>
          </varlistentry>        

          <varlistentry>
            <term>SoundOnLogin</term>
            <listitem>
              <synopsis>SoundOnLogin=true</synopsis>
              <para>Si es true, el interfaz reproducirá un sonido o pitará cuando esté listo para una entrada. Vea además la clave <filename>SoundOnLoginFile</filename>. Soportado desde 2.5.90.0.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>SoundOnLoginSuccess</term>
            <listitem>
              <synopsis>SoundOnLoginSuccess=true</synopsis>
              <para>Si es true, el interfaz reproducirá un sonido tras un intento de entrada exitoso. Vea además la clave <filename>SoundOnLoginSuccessFile</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>SoundOnLoginFailure</term>
            <listitem>
              <synopsis>SoundOnLoginFailure=true</synopsis>
              <para>Si es true, el interfaz reproducirá un sonido tras un intento de entrada fallido. Vea además la clave <filename>SoundOnLoginFailureFile</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>SoundOnLoginFile</term>
            <listitem>
              <synopsis>SoundOnLoginFile=/path/to/sound.wav</synopsis>
              <para>El archivo que se reproducirá usando la aplicación de sonido especificada (por omisión esto es <filename>/usr/bin/play</filename>) en lugar de un pitido cuando el interfaz esté preparado para una entrada. Vea además la clave <filename>SoundOnLogin</filename> y la clave <filename>SoundProgram</filename>. Soportado desde 2.5.90.0.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>SoundOnLoginSuccessFile</term>
            <listitem>
              <synopsis>SoundOnLoginSuccessFile=/path/to/sound.wav</synopsis>
              <para>El archivo que se reproducirá usando la aplicación de sonido especificada (por omisión es <filename>/usr/bin/play</filename>) tras una entrada exitosa. Vea además las claves <filename>SoundOnLoginSuccess</filename> y <filename>SoundProgram</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>SoundOnLoginFailureFile</term>
            <listitem>
              <synopsis>SoundOnLoginFailureFile=/path/to/sound.wav</synopsis>
              <para>El archivo que se reproducirá usando la aplicación de sonido especificada (por omisión es <filename>/usr/bin/play</filename>) tras un intento fallido de entrada. Vea además las claves <filename>SoundOnLoginFailure</filename> y <filename>SoundProgram</filename>.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>SystemMenu</term>
            <listitem>
              <synopsis>SystemMenu=true</synopsis>
              <para>Activa o desactiva el menú Acciones (que se llamaba antes menú Sistema). Si esto está apagado entonces una de las acciones estará disponible en cualquier lugar. Estas acciones incluyen Apagar, Reiniciar, Configurar, selector XDMCP y demás. Todas aquellas sin embargo pueden desactivarse individualmente. Apagar, Reiniciar y Suspender se pueden desactivar tan solo estableciendo las claves correspondientes a un valor vacío. Note que el menú de acciones sólo se muestra en pantallas locales. No sería seguro o incluso deseable en las entradas remotoas, así que no tiene que preocuparse por si los usuarios remotos tienen cualquier clase de esos privilegios.</para>

              <para>Note que si esto está desactivado ninguna de las acciones estará disponible incluso si un tema para un interfaz gráfico las muestra por equivocación. Además note que algunas veces un tema gráfico no podría mostrar todas las acciones disponibles como botones y quizá deba pulsar F10 para ver el menú.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>TitleBar</term>
            <listitem>
              <synopsis>TitleBar=true</synopsis>
              <para>Muestra la barra de título en el interfaz. Esto sólo afecta al interfaz GTK+.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Use24Clock</term>
            <listitem>
              <synopsis>Use24Clock=auto</synopsis>
              <para>Seleccione el uso de un reloj de 24 horas. Algunas configuraciones regionales no soportan el formato de 12 horas (como Finlandés, que es <filename>fi_FI</filename>) y en dichas configuraciones regionales este ajuste no tiene ningún efecto.</para>
              <para>Los valores aceptados son: «auto» (predeterminado), «true» y «false». Si se ajusta a «auto» o se deja vacío, el formato de la hora se tomará de los ajuste de locale. Los ajustes de locale están basados en el idioma en uso, por lo tanto se cambia mediante las variables LANGUAGE (extensión GNU), LANG, LC_MESSAGES o LC_ALL en el entorno de ejecución de MDM. Podrá encontrar información acerda de las prioridades entre las variables de entorno indicadas en el manual de las bibliotecas de C de su sistema.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>UseInvisibleInEntry</term>
            <listitem>
              <synopsis>UseInvisibleInEntry=false</synopsis>
              <para>No muestra ningún retorno visual en la entrada de contraseñas. Esto es estándar en la consola y xdm. Ajustar esta opción descarta la opción <filename>UseCirclesInEntry</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>DefaultWelcome</term>
            <listitem>
              <synopsis>DefaultWelcome=true</synopsis>
              <para>Si está establecido a «true» el valor "Welcome" se usa para la <filename>Welcome</filename>. Este valor está traducido en el idioma apropiado para el usuario. Si se establece a «false», se usa el ajuste <filename>Welcome</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Welcome</term>
            <listitem>
              <synopsis>Welcome=Welcome</synopsis>
              <para>Controla qué texto se muestra junto a la imagen del logotipo en el interfaz estándar. Están soportados los siguientes caracteres de control:</para>
              
              <para>%% — Un carácter literal «%»</para>
              
              <para>%d — nombre de equipo de la pantalla</para>
              
              <para>%h — Nombre de equipo completamente cualificado</para>

              <para>%m — máquina (tipo de procesador)</para>

              <para>%n — Nombre de nodo (ej. nombre del host sin .dominio)</para>
              
              <para>%r — lanzamiento (versión del SO)</para>
              
              <para>%s — nombre del sistema (ej. SO)</para>

              <para>Esta cadena se usa sólo para la pantalla local. Para pantallas remotas XDMCP se usa <filename>RemoteWelcome</filename>.</para>

              <para>En el interfaz con temas la ubicación de este texto depende del tema. A no ser que el tema use la cadena de bienvenida predeterminada en algún lugar esta cadena no se verá.</para>
                            
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>XineramaScreen</term>
            <listitem>
              <synopsis>XineramaScreen=0</synopsis>
              <para>Si está activa la extensión Xinerama la ventana de inicio de sesión se centrará en esta pantalla física (use 0 para la primera pantalla, 1 para la segunda…).</para>
            </listitem>
          </varlistentry>        
        </variablelist>
      </sect3>

      <sect3 id="choosersection">
        <title>Opciones del selector XDCMP</title>

        <variablelist>
          <title>[chooser]</title>

          <varlistentry>
            <term>AllowAdd</term>
            <listitem>
              <synopsis>AllowAdd=true</synopsis>
              <para>Si es true, permite al usuario añadir hosts arbitrarios al selector. De esta manera el usuario podría conectarse a cualquier host que responda a peticiones XDMCP desde el selector.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Broadcast</term>
            <listitem>
              <synopsis>Broadcast=true</synopsis>
              <para>Si es «true», el selector emitirá una petición a la red local y recogerá las respuestas. De este modo el selector siempre mostrará todos los gestores disponibles en la red. Si necesita añadir algún servidor que no sea local a esta red, o si no desea utilizar «broadcast», puede añadirlo explícitamente en la clave <filename>Hosts</filename>.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>Multicast</term>
            <listitem>
              <synopsis>Multicast=true</synopsis>
              <para>Si es «true» y está activado IPv6, el selector emitirá una petición multicast a la red local y recogerá las respuestas de los servidores que se hayan unido al grupo multicast. Si no desea emitir un multicast puede indicar una dirección IPv6 en la clave <filename>Hosts</filename>. El servidor responderá si está escuchando a las peticiones XDMCP y tiene activado IPv6.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>MulticastAddr</term>
            <listitem>
              <synopsis>MulticastAddr=ff02::1</synopsis>
              <para>Esta es la dirección de enlace local multicast y está codificada aquí.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>DefaultHostImage</term>
            <listitem>
              <synopsis>DefaultHostImage=&lt;share&gt;/pixmaps/nohost.png</synopsis>
              <para>El nombre del archivo para el icono de host predeterminado. Esta imagen debe mostrarse si no hay ningún icono especificado en un host dado. El archivo debe estar en un formato soportado por gdk-pixbuf y deben tener permiso de lectura para el usuario de MDM.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>HostImageDir</term>
            <listitem>
              <synopsis>HostImageDir=&lt;share&gt;/hosts</synopsis>
              <para>Repositorio para archivos de iconos de host. El administrador del sistema puede colocar iconos para los hosts remotos para que aparezcn en <filename>mdmchooser</filename>.</para>
              
              <para>El nombre del archivo debe coincidir con el nombre completamente cualificado (FQDN) para el host. Los iconos deben almacenarse en un formato soportado por gdk-pixbuf y deben tener permiso de lectura para el usuario de MDM.</para>
              
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Hosts</term>
            <listitem>
              <synopsis>Hosts=host1,host2</synopsis>
              <para>Los equipos que se deberían listar en el selector. El selector sólo los listará si responden. Esto se realiza además de un mensaje de difusión (si <filename>Broadcast</filename> está activado), de tal forma que no necesita listar los equipos de la red local. Esto es útil si la configuración de su red no permite que se llegue a todos los equipos a través de un paquete «broadcast».</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>ScanTime</term>
            <listitem>
              <synopsis>ScanTime=4</synopsis>
              <para>Especifica cuántos segundos debe esperar respuesta el selector a su BROADCAST_QUERY. Realmente ésta es la única vez en la que se espera una respuesta. Se seguirán añadiendo equipos a la lista incluso si responden después de este tiempo.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="debugsection">
        <title>Depurar configuración</title>

        <variablelist>
          <title>[debug]</title>

          <varlistentry>
            <term>Enable</term>
            <listitem>
              <synopsis>Enable=false</synopsis>
              <para>Establecer a verdadero envía la salida de depuración al syslog. Esto puede ser útil para trazar problemas con MDM. Esta salida tiene a ser prolia así que no se debería activar para uso general.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Gestures</term>
            <listitem>
              <synopsis>Gestures=false</synopsis>
              <para>Establecer a verdadero envía la salida de depuración de los listeners de gestos al syslog. Esto puede ser útil para trazar problemas con ellos cuando no funcionan correctamente. Esta salida tiende a ser prolija así que no se debería activar para uso general.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="customcmdsection">
        <title>Comandos personalizados</title>
        
        <para>Puede crear hasta 10 comandos diferentes. Se permiten espacios entre los números del comando, además no es importante su posición relativa en la sección y con respecto a cada uno siempre que se ajusten al rango permitido [0-9].</para>
          
        <variablelist>
          <title>[customcommand]</title>
          
          <varlistentry>
            <term>CustomCommand[0-9]</term>
            <listitem>
              <synopsis>CustomCommand[0-9]=</synopsis>
              <para>Ruta completa y argumentos al comando que ejecutar cuando el usuario selecciona <filename>enésimo</filename> «Comando personalizado» en el menú Acciones. Esto puede ser una lista separada por ";" de comandos a intentar. Si el valor está vacío o falta, entonces el comando personalizado no estará disponible. Note que de forma predeterminada este valor no está activado, así que para activar el «Comando personalizado» debe establecerlo a un valor no vacío. [0-9] representa el sufijo de <filename>CustomCommand</filename> y puede ser un entero entre 0 y 9.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>CustomCommandIsPersistent[0-9]</term>
            <listitem>
              <synopsis>CustomCommandIsPersistent[0-9]=</synopsis>
              <para>Especifica si <filename>enésimo</filename> «Comando personalizado» aparecerá fuera del gestor de entrada, por ejemplo en el escritorio a trabés de los diálogos de Salida/Apagado. Si no se especifica el valor predeterminado es «false». Esta opción sólo es válida si el <filename>CustomCommand</filename> correspondiente está definido. [0-9] representa el sufijo <filename>CustomCommand</filename> y puede ser un entero entre 0 y 9.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>CustomCommandLabel[0-9]</term>
            <listitem>
              <synopsis>CustomCommandLabel[0-9]=</synopsis>
              <para>Especifica la etiqueta de «stock» que se mostrará en los botones y menús del <filename>enésimo</filename> «Comando personalizado». Si no se especifica el valor predeterminado, es "Custom_[0-9]". Esta opción sólo es válida si está definido al correspondiente <filename>CustomCommand</filename>. [0-9] representa el sufijo del <filename>CustomCommand</filename> y puede ser un entero entre 0 y 9. Esta opción no puede contener ningun carácter punto y coma (";").</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>CustomCommandLRLabel[0-9]</term>
            <listitem>
              <synopsis>CustomCommandLRLabel[0-9]=</synopsis>
              <para>Especifica la etiqueta de «stock» que se mostrará en la <filename>enésima</filename> lista de elementos y botones de radio de «Comandos personalizados». Si no se especifica nada el valor predeterminado es «Ejecutar el comando personalizado _[0-9]». Esta opción sólo es válida si el correspondiente <filename>CustomCommand</filename> está definido. [0-9] representa el sufijo de <filename>CustomCommand</filename> y puede ser un entero entre 0 y 9.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>CustomCommandNoRestart[0-9]</term>
            <listitem>
              <synopsis>CustomCommandNoRestart[0-9]=</synopsis>
              <para>Especifica si MDM se parará/reiniciará una vez que el <filename>enésimo</filename> «Comando personalizado» se haya ejecutado. Si no se especifica, el valor predeterminado es «false». Esta opción sólo es válida si el correspondiente <filename>CustomCommand</filename> está definido. [0-9] representaq el sufijo de <filename>CustomCommand</filename> y puede ser un entero entre 0 y 9. Además, cuando el correspondiente <filename>CustomCommandIsPersistent</filename> está establecido a «true», ajustar CustomCommandNoRestart a «false» pondráel correspondiente <filename>CustomCommand</filename> en el conjunto de acciones del diálogo de Apagar , ajustarlo a «true» pondrá el correspondiente <filename>CustomCommand</filename> en el conjunto de acciones del diálogo Salir.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>CustomCommandText[0-9]</term>
            <listitem>
              <synopsis>CustomCommandText[0-9]=</synopsis>
              <para>Especifica el mensaje que se mostrará en la caja de diálogo de advertencia una vez que se active el <filename>enésimo</filename> «Comando personalizado» de botón/elemento del menú/botón de radio/elemento de lista. Si no se especifica, su valor predeterminado es «¿Está seguro?». Esta opción sólo es válida si el correspondiente <filename>CustomCommand</filename> está definido. [0-9] representa el sufijo de <filename>CustomCommand</filename> y puede ser un entero entre 0 y 9.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>CustomCommandTooltip[0-9]</term>
            <listitem>
              <synopsis>CustomCommandTooltip[0-9]=</synopsis>
              <para>Especifica el mensaje que se mostrará en los consejos para las entradas del <filename>enésimo</filename> «Comando personalizado». Si no se especifica, el valor predeterminado es «Ejecutar el comando personalizaco [0-9]». Esta opción sólo es válida si el correspondiente <filename>CustomCommand</filename> está definido. [0-9] representa el sufijo de <filename>CustomCommand</filename> y puede ser un entero entre 0 y 9.</para>
            </listitem>
          </varlistentry>         
        </variablelist>
      </sect3>
          
      <sect3 id="xserverdefs">
        <title>Definiciones del servidor X</title>

        <para>MDM necesita que se le proporcione información acerca de cada servidor X que se usará. Puede tener tantas definiciones como desee, cada una identificada con un nombre único. El nombre <filename>Standard</filename> es necesario. Si no especifica este servidor, MDM asumirá los valores predeterminados para un servidor «estándar» y la ruta proporcionada por <filename>daemon/StandardXServer</filename>. <filename>Standard</filename> se usa como predeterminado cuando no se ha definido ningún otro servidor.</para>

        <para>Los servidores se definen por secciones llamadas <filename>server-</filename> seguidas por el identificador de este servidor. Esto debería ser una simple cadena ASCII sin espacios. El IGU del programa de configuración permite a los usuarios editar los servidores definidos en los archivos de configuración de MDM pero actualmente no permite añadir o borrar entradas. Al igual que las opciones de configuración normales las secciones <filename>server-</filename> en el archivo <filename>&lt;etc&gt;/mdm/custom.conf</filename> tienen precedencia sobre los valores en el archivo <filename>&lt;share&gt;/mdm/defaults.conf</filename>. En otras palabras, si se define una sección <filename>server-Standard</filename> en <filename>&lt;etc&gt;/mdm/custom.conf</filename>, entonces se usará esa sección y se ignorará la sección en el archivo <filename>&lt;share&gt;/mdm/defaults.conf</filename>.</para>

        <variablelist>
          <title>[server-Standard]</title>

          <varlistentry>
            <term>nombre</term>
            <listitem>
              <synopsis>name=Standard server</synopsis>
              <para>El nombre que se mostrará al usuario.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>command</term>
            <listitem>
              <synopsis>command=/path/to/X</synopsis>
              <para>El comando que ejecutar, con una ruta completa al binario del servidor X y cualquier argumento adicionar necesario. Generalmente no es necesario añadir el argumento <filename>-nolisten tcp</filename> ya que la adición de este argumento está controlada por la opción de configuración <filename>DisallowTCP</filename> de MDM.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>flexible</term>
            <listitem>
              <synopsis>flexible=true</synopsis>
              <para>Indica si este servidor está disponible como una selección cuando un usuario desea ejecutar un servidor flexible, bajo demanda.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>handled</term>
            <listitem>
              <synopsis>handled=true</synopsis>
              <para>Indica que MDM debería ejecutar la ventana de entrada en este servidor y permitir al usuario iniciar sesión. Si es «false», entonces MDM simplemente ejecutará este servidor y esperará para finalizar. Esto puede ser útil para ejecutar una termina X usando MDM. Cuando esto termine, generalmente debe añadir <filename>-terminate</filename> al comando del servidor para hacer que el servidor termine después de cada sesión. De otra manera el control del esclavo nunca volverá a MDM y, por ejemplo, no funcionarán los reinicios suaves. Esto es debido a que MDM asume que hay un inicio de sesión en proceso durante todo el tiempo que este servidor esté activo.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>chooser</term>
            <listitem>
              <synopsis>chooser=false</synopsis>
              <para>Indica que MDM debería ejecutar en lugar de una ventana de entrada, un selector en esta ventana y permitir al usuario elegir en qué servidor iniciar sesión.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>priority</term>
            <listitem>
              <synopsis>priority=0</synopsis>
              <para>Indica que el servidor X debería ser iniciado en una prioridad de proceso diferente. los valores pueden ser cualquier valor entero aceptado por la función setpriority de la biblioteca de C. (normalmente entre -20 y 20) con 0 siendo el valor predeterminado. Para aplicaciones altamente interactivas, -5 arroja buenas respuestas. El valor predeterminado es 0 y la función setpriority no se llama si el valor es 0.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="attacheddisplayconfig">
        <title>Configuración de la pantalla local</title>

        <para>Las configuración de las pantallas locales (también conocidas como estáticas) especifica qué dispositivos debería gestionar siempre MDM. MDM reiniciará el servidor X en el dispositivo si éste muere, por ejemplo. Puede haber tantas pantallas locales gestinadas como quiera. Generalmente cada dispositivo está asociado con un dispositivo real. En una típica configuración de una sola pantalla por máquina, ésta sección sólo contendría una clave <filename>0</filename> que corresponde con DISPLAY <filename>:0</filename> (pantalla).</para>

        <para>El IGU del programa de configuración permite que los usuarios editen la configuración de las pantallas locales definida en los archivos de configuración de MDM y también permite que el usuario añada o borre entradas. Al igual que las opciones de configuración normales, la sección <filename>[servers]</filename> en el archivo <filename>&lt;etc&gt;/mdm/custom.conf</filename> tiene precedencia sobre los valores en el archivo <filename>&lt;share&gt;/mdm/defaults.conf</filename>.</para>

        <variablelist>
          <title>[servers]</title>
          
          <varlistentry>
            <term>&lt;display number&gt;</term>
            <listitem>
              <synopsis>0=Standard [device=/dev/foo]</synopsis>

              <para>La clave corresponde con DISPLAY para ser manejada, de tal forma que la clave <filename>0</filename> corresponde con DISPLAY <filename>:0</filename>. En una máquina con múltiples pantallas puede configurar MDM para gestionar un programa de inicio de sesiones en otras pantallas añadiendo claves adicionales. Por ejemplo, añadir la clave <filename>1</filename> haría que MDM gestionase DISPLAY <filename>:1</filename>.</para>

              <para>La primera palabra del valor corresponde con una definición del servidor X en la sección "X Server Definitions" del archivo de configuración. Por ejemplo, la siguiente entrada significa que DISPLAY <filename>:0</filename> iniciará un servidor X tal y como se define en la sección <filename>[server-Standard]</filename>:</para>

<screen>
[servers]
0=Standard
</screen>

              <para>La primera palabra del valor también se puede establecer a la cadena "inactive" para indicar que esta DISPLAY no se debería gestionar. Esto se puede usar en el archivo de configuración personalizada de MDM para apagar una DISPLAY que está definida en el archivo de configuración predeterminada del sistema de MDM.</para>

              <para>El parámetro adicional del dispositivo se usa para especificar el dispositivo que está asociado con DISPLAY. Al usar terminales virtuales (VT), este valor se ignora y MDM usará el nombre correcto del dispositivo asociado con el VT. Si no se está usando VT, entonces MDM usará el valor especificado por este parámetro opcional. Si el parámetro del dispositivo no está definido, entonces MDM usará el valor predeterminado para pantallas locales que está definido en la sección de configuración <filename>UtmpLineAttached</filename>. Para la pantalla principal (generalmente DISPLAY <filename>:0</filename>), <filename>/dev/console</filename> es un valor razonable. Para otras pantallas es probablemente mejjor idea no incluir éste parámetro a no ser que sepa exactamente el dispositivo asociado con la DISPLAY. El valor del dispositivo puede contener «%d» que se traduce como el valor de DISPLAY o «%h» que se traduce como el nombre del equipo.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
    </sect2>

    <sect2 id="userconfig">
      <title>Configuración por usuario</title>

      <para>Hay algunos ajustes de configuración por usuario que controlan cómo se comporta MDM. MDM es bastante estricto con el propietario y los permisos de los archivos de usuario a los que accede, e ignorará los archivos si no pertenecen al usuario o tienen permiso de escritura para el grupo o para todos. Ignorará el usuario si la carpeta personal del usuario ($HOME) no pertenece al usuario o si la carpeta $HOME tiene permiso de escritura para el grupo o para todos. Los archivos deben ser además más pequeños que el valor <filename>UserMaxFile</filename> tal como se define en la configuración de MDM. Si parece que MDM no está accediendo apropiadamente a los ajustes de configuración del usuario, el problema se debe la mayoría de las veces a que una de estas comprobaciones falla.</para>

      <para>Primero está el archivo <filename>~/.dmrc</filename>. En teoría este archivo debería ser compartido entre MDM y KDM, así que los usuarios sólo tienen que configurar las cosas una vez. Esto es un archivo de configuración de estilo <filename>.ini</filename> estándar. Tiene una sección llamada <filename>[Desktop]</filename> que tiene dos claves: <filename>Session</filename> y <filename>Language</filename>.</para>

      <para>La clave <filename>Session</filename> especifica el nombre base del archivo <filename>.desktop</filename> de sesión que el usuario quiere usar normalmente (sin la extensión <filename>.desktop</filename>, en otras palabras). La clave <filename>Language</filename> especifica el idioma que el usuario quiere usar por omisión. Si cualquiera de estas dos claves falta, se usa el predeterminado del sistema. El archivo normalmente tiene la apariencia siguiente:</para>

<screen>
[Desktop]
Session=gnome
Language=es_ES.UTF-8
</screen>

      <para>Normalmente MDM escribirá este archivo cuando el usuario entre por primera vez, y lo reescribirá si el usuario escoge cambiar su valor predeterminado en una entrada subsiguiente.</para>

      <para>Si está activado el visor de rostros, entonces se accede al archivo <filename>$HOME/.face</filename>. Este archivo debería ser una imagen estándar que GTK+ pueda leer, como PNG o JPEG. Además debería ser más pequeña que los valores <filename>MaxIconWidth</filename> y <filename>MaxIconHeight</filename> definidos en la configuración de MDM o será ignorada. Los usuarios pueden ejecutar el comando <command>mdmphotosetup</command> para especificar una imagen para el rostro y se copiará el archivo al lugar <filename>$HOME/.face</filename> escalándose para que su dimensión no sea mayor que los valores <filename>MaxIconWidth</filename> o <filename>MaxIconHeight</filename>. <command>mdmphotosetup</command> tiene cuidado de no cambiar las proporciones de la imagen.</para>

      <para>Las imágenes de rostros pueden colocarse en el directorio global de rostros, que se especifica por la opción de configuración <filename>GlobalFaceDir</filename> (normalmente <filename>&lt;share&gt;/pixmaps/faces/</filename>) y el nombre del archivo debería ser el nombre del usuario, opcionalmente con un <filename>.png</filename>, etc. agregado.</para>
    </sect2>
  </sect1>

  <sect1 id="controlling">
    <title>Controlar MDM</title>

    <para>Puede controlar el comportamiento de MDM durante la ejecución de varias formas diferentes. Puede o ejecutar ciertos comandos, o puede hablar con MDM usando un protocolo de sockets UNIX, o un protocolo FIFO.</para>

    <sect2 id="commands">
      <title>Comandos</title>

      <para>Para parar MDM, puede o bien enviar la señal TERM al demonio principal o ejecutar el comando <command>mdm-stop</command> que está en el directorio <filename>/sbin</filename>. Para reiniciar MDM, puede o bien enviar la señal HUP al demonio principal o ejecutar el comando <command>mdm-restart</command> que también está en el directorio <filename>/sbin</filename>. Para reiniciar MDM paro sólo después de que todos los usuarios hayan salido de su sesión puede o bien enviar la señal USR1 al demonio principal o ejecutar el comando <command>mdm-safe-restart</command> que está en el directorio <filename>/sbin</filename> también.</para>

      <para>El comando <command>mdmflexiserver</command> se puede usar para iniciar una plantalla flexible (por demanda) si su sistema soporta terminales virtuales. Este comando bloquea normalmente la sesión actual con un salvapantallas así que el usuario puede ausentarse con seguridad del equipo y dejar a alguien más entrar. Si se inician más de dos pantallas flexibles <command>mdmflexiserver</command> mostrará un diálogo emergente permitiendo al usuario sleccionar qué sesión continuar. Al salir de la sesión el sistema retornará al terminal virtual anterior. Ejecute <command>mdmflexiserver --help</command> para obtener un listado de opciones posibles.</para>
    </sect2>

    <sect2 id="fifoprot">
      <title>El protocolo FIFO</title>

      <para>MDM también proporciona un FIFO llamado <filename>.mdmfifo</filename> en el directorio <filename>ServAuthDir</filename> (generalmente <filename>&lt;var&gt;/mdm/.mdmfifo</filename>). Debe ser superusuario para usar este protocolo y se usa, sobre todo, para comunicación interna de MDM. Es un protocolo muy simple donde simplemente se hace el eco de un comando en una sola línea en este archivo. Se puede usar para pasarle comandos a MDM para que se reinicie, suspenda el equipo o reinicie todos los servidores X la próxima vez que tenga una oportunidad (lo que es útil para una aplicación de configuración de las X).</para>

      <para>En el archivo <filename>daemon/mdm.h</filename> del árbol de los fuentes de MDM se puede encontrar documentación completa y actualizada acerca de los comandos y su uso. Consulte las definiciones que comiencen por <filename>MDM_SOP_</filename>. Los comandos que necesiten el PID del esclavo como parámetro son los que realmente se usan para la comunicación interna entre el esclavo y el maestro y no se deberían usar.</para>
    </sect2>

    <sect2 id="socketprot">
      <title>El protocolo socket</title>

      <para>MDM proporciona un socket de dominio unix para comunicación en <filename>/tmp/.mdm_socket</filename>. Usando éste puede comprobar si MDM se está ejecutando, la versión del demonio, las pantallas actuales que se están ejecutando y quién ha entrado en ellas, y si MDM soporta en su sistema operativo, además los terminales virtuales de todas las entradas por consola. El comando <command>mdmflexiserver</command> usa este protocole, por ejemplo, para lanzar pantallas flexibles (por demanda).</para>

      <para>mdmflexiserver acepta los comandos siguientes con la opción --command:</para>

<screen>
ADD_DYNAMIC_DISPLAY
ALL_SERVERS
ATTACHED_SERVERS
AUTH_LOCAL
CLOSE
FLEXI_XNEST
FLEXI_XNEST_USER
FLEXI_XSERVER
FLEXI_XSERVER_USER
GET_CONFIG
GET_CONFIG_FILE
GET_CUSTOM_CONFIG_FILE
GET_SERVER_LIST
GET_SERVER_DETAILS
GREETERPIDS
QUERY_LOGOUT_ACTION
QUERY_CUSTOM_CMD_LABELS
QUERY_CUSTOM_CMD_NO_RESTART_STATUS
QUERY_VT
RELEASE_DYNAMIC_DISPLAYS
REMOVE_DYNAMIC_DISPLAY
SERVER_BUSY
SET_LOGOUT_ACTION
SET_SAFE_LOGOUT_ACTION
SET_VT
UPDATE_CONFIG
VERSION
</screen>

      <para>Estos se describen en detalle debajo, incluyendo los argumentos requeridos, formato de respuesta, y códigos de retorno.</para>

      <sect3 id="adddynamic">
      <title>ADD_DYNAMIC_DISPLAY</title>
<screen>
ADD_DYNAMIC_DISPLAY:  Crea una nueva definición de servidor que
           se ejecutará en el visor especificado,
           dejándolo en estado DISPLAY_CONFIG.
Suportado desde: 2.8.0.0
Argumentos: &lt;visor en el que ejecutar&gt;=&lt;servidor&gt;
 Donde &lt;servidor&gt; es o una configuración nombrada en
 la configuración de MDM o un nombre de comando literal.
Respuestas:
 OK &lt;visor&gt;
 ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
   0 = No implementado
   2 = Visor existente
   3 = Falta la cadena del servidor
   4 = Fallo al iniciar el visor
   100 = No autenticado
   200 = No se permiten las pantallas dinámicas
   999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="allservers">
      <title>ALL_SERVERS</title>
<screen>
ALL_SERVERS:  Lista todas las pantallas, incluyendo la consola, las remotas y xnest.
             Esto puede ser útil para, por ejemplo, averiguar si
             la pantalla en la que se encuentra está gestionada por el demonio de mdm,
             viendo si está en la lista. Es algo como el comando
             «w» pero para las sesiones gráficas.
Soportado desde: 2.4.2.96
Argumentos: Ninguno
Respuestas:
  OK &lt;servidor&gt;;&lt;servidor&gt;;...

  &lt;servidor&gt; is &lt;pantalla&gt;,&lt;sesión del usuario iniciada&gt;

  &lt;sesión del usuario iniciada&gt; puede estar vacío si aún no se ha iniciado una sesión

  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="attachedservers">
      <title>ATTACHED_SERVERS</title>
<screen>
ATTACHED_SERVERS:  Lista todas las pantallas locales. No lista las pantallas XDMCP
                  y xnest no locales.
Nota:             Este comando solía llamarse CONSOLE_SERVERS,
                  que aún se reconoce para compatibilidad hacia
                  atrás. El patrón del argumento está 
                  soportado desde la versión 2.8.0.0.
Soportado desde: 2.2.4.0
Argumentos: &lt;patrón&gt; (opcional)
  Sin argumento se devuelven todas las pantallas locales. El &lt;patrón&gt;
  opcional es una cadena que puede contener los caracteres globales «*», «?»
  y «[]». Sólo se devolverán las pantallas que coincidan con el patrón.
Respuestas:
  OK &lt;servidor&gt;;&lt;servidor&gt;;...

  &lt;servidor&gt; is &lt;pantalla&gt;,&lt;sesión de usuario iniciada&gt;,&lt;pantalla tv o 
  xnest&gt;

  &lt;sesión de usuario iniciada&gt; puede estar vacío si aún no se ha iniciado una sesión
  y &lt;tv&gt; puede ser -1 si es desconocido o no
  está soportado (sistemas no Linux, por ejemplo). Si la pantalla
  es xnest y está en una consola (esto es, es una xnest
  dentro de otra pantalla de consola) se lista en lugar de 
  tv, lista la pantalla padre de la forma estándar.

  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>
     
      <sect3 id="authlocal">
      <title>AUTH_LOCAL</title>
<screen>
AUTH_LOCAL:  Establece esta conexión como autenticada para
            FLEXI_SERVER. Debido a que todas las pantallas
            anidadas sólo las pueden iniciar usuarios
            que hayan iniciado sesión en pantallas locales, y aquí MDM
            asume sólo usuarios que hayan iniciado sesión desde MDM, deben
            pasar xauth MIT-MAGIC-COOKIE-1 que se les pasó
            antes de que la conexión se autenticara.
Nota:       El comando AUTH LOCAL requiere la
            opción --authenticate, aunque sólo
            FLEXI XSERVER la usa actualmente.
Nota:       Desde 2.6.0.6 también puede usar
            &lt;ServAuthDir&gt;/.cookie global, que funciona para todas
            las autenticaciones excepto para SET_LOGOUT_ACTION, 
            QUERY_LOGOUT_ACTION y SET_SAFE_LOGOUT_ACTION
            que requieren una pantalla de inicio de sesión.
Soportado desde: 2.2.4.0
Argumentos: &lt;cookie xauth&gt;
  &lt;cookie xauth&gt; está en formato hexadecimal sin prefijo 0x
Respuestas:
  OK
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     100 = No autenticado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="close">
      <title>CLOSE</title>
<screen>
CLOSE: Cierra la conexión de sockets
Supportado desde: 2.2.4.0
Argumentos: Ninguno
Responde: Ninguno
</screen>
      </sect3>

      <sect3 id="flexixnest">
      <title>FLEXI_XNEST</title>
<screen>
FLEXI_XNEXT:  Inicia una pantalla anidada flexible.
Nota:        Soportado desde la versión 2.2.4.0, posteriormente
             en 2.2.4.2, pero desde 2.3.90.4 debe proporcionar 4
             argumentos o devovlerá ERROR 100. Esto
             iniciará el comando del servidor X anidado usando
             el archivo XAUTHORITY proporcionado y con un uid
             igual al del propietario del archivo (el mismo que
             proporcionó). También debe proporcionar la cookie como
             tercer argumento para esta pantalla, para demostrar que
             es este usuario. Además éste archivo
             debe ser de sólo lectura para éste usuario, esto es
             tener un modo 0600. Si no se cumple todo esto,
             se devolverá un ERROR 100.
Nota:        La cookie debería ser MIT-MAGIC-COOKIE-1,
             la primera que MDM pueda encontrar en el archivo
             XAUTHORITY para esta pantalla. Si ésta no es la que
             usa, debería generar una primero. La cookie
             debería estar en formato hexadecimal.
Soportado desde: 2.3.90.4
Argumentos: &lt;pantalla que ejecutar&gt; &lt;uid del usuario que lo pidió&gt;
           &lt;cookie xauth para la pantalla&gt; &lt;archivo xauth&gt;
Respuestas:
  OK &lt;pantalla&gt;
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     1 = No hay más servidores flexibles
     2 = Errores de inicio
     3 = Fallaron las X
     4 = X demasiado ocupadas
     5 = Xnest no puede conectar
     6 = No existe el binario del servidor
     100 = No autenticado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="flexixnestuser">
      <title>FLEXI_XNEST_USER</title>
<screen>
FLEXI_XNEST_USER:  Inicia una nueva pantalla flexible e inicializa
           la interfaz de entrada con el usuario proporcionado.
Nota:       Esta es una variante del comando FLEXI_XNETS.
Nota:       La cookie debería ser MIT-MAGIC-COOKIE-1,
         la primera que MDM puede encontrar en el archivo
         XAUTHORITY para esta pantalla. Si eso no es lo que
         usa, debería fenerar una primero. La cookie
         debería estar en formato hexadecimal.
Suportado desde: 2.17.7 
Argumentos: &lt;nombre de usuario&gt; &lt;pantalla en la que ejecutarse&gt;
&lt;uid del usuario que realizó la petición&gt; &lt;cookiexauth para la pantalla&gt;
&lt;archivo xauth&gt;
Respuestas:
 OK &lt;pantalla&gt;
 ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
   0 = No implementado
   1 = No hay más servidores flexibles
   2 = Errores de inicio
   3 = Fallo en las X
   4 = X demasiado ocupadas
   5 = Xnest no se pudo conectar
   6 = No existe el binario del servidor
   100 = No autenticado
   200 = Demasiados mensajes
   999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="flexixserver">
      <title>FLEXI_XSERVER</title>
<screen>
FLEXI_XSERVER:  Inicia un nuevo servidor X flexible. Sólo soportado en
               una conexión que haya pasado AUTH_LOCAL
Soportado desde: 2.2.4.0
Argumentos: &lt;tipo de xserver&gt;
  Si no hay argumentos, se inicia el servidor X estándar
Respuestas:
  OK &lt;pantalla&gt;
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     1 = No hay más servidores flexibles
     2 = Errores de inicio
     3 = Fallo en las X
     4 = X demasiado ocupadas
     6 = No existe el binario del servidor
     100 = No autenticado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="flexixserveruser">
      <title>FLEXI_XSERVER_USER</title>
<screen>
FLEXI_XSERVER_USER:  Inicia una nueva pantalla flexible e inicializa
           la interfaz de entrada con el usuario proporcionado.
           Sólo soportado para conexiones a través de AUTH_LOCAL
Suportado desde: 2.17.7 
Argumentos: &lt;nombre de usuario&gt;=&lt;tipo de servidor x&gt;
 Si no se especifica un tipo de servidor, se iniciará el servidor X estándar
Respuestas:
 OK &lt;pantalla&gt;
 ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
   0 = No implementado
   1 = No hay más servidores flexibles
   2 = Errores de inicio
   3 = Fallo en las X
   4 = X demasiado ocupadas
   100 = No autenticado
   200 = Demasiados mensajes
   999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="getconfig">
      <title>GET_CONFIG</title> 
<screen>
GET_CONFIG:  Obtiene el valor de configuración para la clave. Útil para
             que otras aplicaciones puedan pedir esa información
             a MDM. Cualquier clave definida como MDM_KEY_*
             en mdm-daemon-config-keys.h está soportada. Comenzando desde la
             versión 2.13.0.2, las claves traducidas (tales como
             "greeter/MdmWelcome[es]") están soportadas a través de GET_CONFIG.
             También desde la versión 2.13.0.2 no es necesario
             incluir el valor predeterminado (es decir, puede usar la clave
             "greeter/IncludeAll" en lugar de tener que usar
             "greeter/IncludeAll=false".  
Soportado desde: 2.6.0.9
Argumentos: &lt;clave&gt;
Respuestas:
  OK &lt;valor&gt;
 ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     50 = Clave no soportada
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="getconfigfile">
      <title>GET_CONFIG_FILE</title> 
<screen>
GET_CONFIG_FILE:  Obtiene la ubicación del archivo de configuración que usa
                  el demonio. Si el demonio de MDM se inició
                  con la opción --config, devolverá el
                  valor pasado a través del argumento.
Soportado desde: 2.8.0.2
Argumentos: Ninguno
Respuestas:
  OK &lt;ruta completa al archivo de configuración de MDM&gt;
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="getcustomconfigfile">
      <title>GET_CUSTOM_CONFIG_FILE</title> 
<screen>
GET_CUSTOM_CONFIG_FILE:  Obtiene la ubicación del archivo de configuración
                        personalizado usado por el demonio.
Soportado desde: 2.14.0.0
Argumentos: Ninguno
Respuestas:
  OK &lt;ruta completa al archivo de configuración personalizado de MDM&gt;
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     1 = Archivo no encontrado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="getserverdetails">
      <title>GET_SERVER_DETAILS</title>
<screen>
GET_SERVER_DETAILS:  Obtiene los detalles de información para un servidor específico.
Soportado desde: 2.13.0.4
Argumentos: &lt;servidor&gt; &lt;clave&gt;
  Los valores de la clave incluen:
    NAME      - Devuelve el nombre del servidor
    COMMAND   - Devuelve el comando del servidor
    FLEXIBLE  - Devuelve "true" si es flexible, "false"
                de otra forma
    CHOOSABLE - Devuelve "true" si es seleccionable, "false"
                de otra forma
    HANDLED   - Devuelve "true" si está gestionado, "false"
                de otra forma
    CHOOSER   - Devuelve "true" si es selector, "false"
                de otra forma
    PRIORITY  - Devuelve la prioridad del proceso
Respuestas:
  OK &lt;valor&gt;
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     1 = No se encontró el servidor
     2 = Clave no válida
     50 = Clave no soportada
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="getserverlist">
      <title>GET_SERVER_LIST</title>
<screen>
GET_SERVER_LIST:  Obtiene una lista de las secciones del servidor desde
                  el archivo de configuración.
Soportado desde: 2.13.0.4
Argumentos: Ninguno
Respuestas:
  OK &lt;valor&gt;;&lt;valor&gt;;...
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     1 = No se encontró el servidor
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="greeterpids">
      <title>GREETERPIDS</title>
<screen>
GREETERPIDS:  Lista todos los pids de las interfaces de ebtrada para que se puedan
             enviar HUP a ellas para configura la lectura. Debe ser superusuario
             para poderlo hacer.
Soportado desde: 2.3.90.2
Argumentos: Ninguno
Respuestas:
  OK &lt;pid&gt;;&lt;pid&gt;;...
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="querylogoutaction">
      <title>QUERY_LOGOUT_ACTION</title>
<screen>
QUERY_LOGOUT_ACTION:  Consulta qué acciones de salida son posibles
                     Sólo soportado en conexiones que hayan pasado
                     AUTH_LOCAL.
Soportado desde: 2.5.90.0
Respuestas:
  OK &lt;acción&gt;;&lt;acción&gt;;...
     Donde la acción es una de HALT, REBOOT, SUSPEND o CUSTOM_CMD[0-9].
     Se puede devolver una lista vacía si no hay acciones posibles.
     Se añade «!» a una acción si ya se estableció con
     SET_LOGOUT_ACTION o SET_SAFE_LOGOUT_ACTION. Note que
     SET_LOGOUT_ACTION tiene precedencia sobre
     SET_SAFE_LOGOUT_ACTION.
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     100 = No autenticado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="querycustomcmdlabels">
        <title>QUERY_CUSTOM_CMD_LABELS</title>
<screen>
 QUERY_CUSTOM_CMD_LABELS: Consulta etiquetas que pertenezcan a los comandos
                          exportados personalizados. Sólo se soporta en las conexiones que
                          hayan pasado AUTH_LOCAL.
 Soportado desde: 2.5.90.0
 Respuestas:
   OK &lt;etiqueta1&gt;;&lt;etiqueta2&gt;;...
      Donde etiquetaX es una de las etiquetas que pertenecen a CUSTOM_CMDX
      (donde X en [0,MDM_CUSTOM_COMMAND_MAX)). Se puede devolver una
      lista vacía si no se exportó ninguno de los comandos personalizados fuera
      del gestor de entrada (no hay ninguna opción CustomCommandIsPersistent
      establecida a «true»).
   ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
      0 = No implementado
      100 = No autenticado
      200 = Demasiados mensajes
      999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="querycustomcmdnorestartstatus">
        <title>QUERY_CUSTOM_CMD_NO_RESTART_STATUS</title>
<screen>
QUERY_CUSTOM_CMD_NO_RESTART_STATUS: Consulta las opciones de configuración
                                    NoRestart para cada comando personalizado. Sólo se soporta
                                    en las conexiones que hayan pasado
                                    AUTH_LOCAL.
Soportado desde: 2.5.90.0
Respuestas:
  OK &lt;estado&gt;
     Donde cada bit del estado representa un valor NoRestart para
     cada uno de los comandos personalizados.
     bit activado (1):  NoRestart = true, 
     bit desactivado (0): NoRestart = false.
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     100 = No autenticado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="queryvt">
      <title>QUERY_VT</title>
<screen>
QUERY_VT:  Pregunta al demonio acerca de qué VT está actualmente en ejecución.
           Ésto es útil para sesiones que no son propietarias de
           /dev/console pero aún así son inicios de sesión de consola. Actualmente
           sólo está soportado en Linux, en otros sistemas simplemente
           se obtendrá ERROR 8. Ésta también es la forma de consultar
           si el soporte de VT está disponible en el demonio.
           Sólo se soporta en las conexiones que hayan
           pasado AUTH_LOCAL.
Soportado desde: 2.5.90.0
Argumentos: Ninguno
Respuestas:
  OK &lt;número de VT&gt;
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     8 = No se soportan los terminales virtuales
     100 = No autenticado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="releasedynamic">
      <title>RELEASE_DYNAMIC_DISPLAYS</title>
<screen>
RELEASE_DYNAMIC_DISPLAYS: Lanza las pantallas dinámicas actualmente en estado
                          DISPLAY_CONFIG
Soportado desde: 2.8.0.0
Argumentos: &lt;pantalla que lanzar&gt;
Respuestas:
  OK &lt;pantalla&gt;
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     1 = Número de pantalla erróneo
     100 = No autenticado
     200 = No se permiten las pantallas dinámicas
     999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="removedynamic">
      <title>REMOVE_DYNAMIC_DISPLAY</title>
<screen>
REMOVE_DYNAMIC_DISPLAY: Elimina una pantalla dinámica, matando el servidor
                        y purgando la configuración de la pantalla
Soportado desde: 2.8.0.0
Argumentos: &lt;pantalla que eliminar&gt;
Respuestas:
  OK &lt;pantalla&gt;
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     1 = Número de pantalla erróneo
     100 = No autenticado
     200 = No se permiten las pantallas dinámicas
     999 = Error desconocido
</screen>
      </sect3>

      <sect3 id="serverbusy">
      <title>SERVER_BUSY</title>
<screen>
SERVER_BUSY:  Devuelve «true» si la mitad o más de los socket de los demonios
              están ocupados, de otra manera devuelve «false». Lo usan los programas
              esclavos que quieren asegurarse de que no saturan al servidor.
Soportado desde: 2.13.0.8
Argumentos: Ninguno
Respuestas:
  OK &lt;valor&gt;
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     200 = No se permiten las pantallas dinámicas
     999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="setlogoutaction">
      <title>SET_LOGOUT_ACTION</title>
<screen>
SET_LOGOUT_ACTION:  Le dice al demonio que halt/restart/suspend después de
                   que el proceso esclavo finalice. Sólo se soporta en las conexiones
                   que hayan pasado AUTH_LOCAL.
Soportado desde: 2.5.90.0
Argumentos: &lt;acción&gt;
  NONE               Establece la acción de salida a «niguna»
  HALT               Establece la acción de salida a «parar»
  REBOOT             Establece la acción de salida a «reiniciar»
  SUSPEND            Establece la acción de salida a «suspender»
  CUSTOM_CMD[0-9]    Establece la acción de salida a «comando personalizado [0-9]»
Respuestas:
  OK
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     7 = Acción de salida desconocida o no disponible
     100 = No autenticado
     200 = No se permiten las pantallas dinámicas
     999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="setsafelogoutaction">
      <title>SET_SAFE_LOGOUT_ACTION</title>
<screen>
SET_SAFE_LOGOUT_ACTION:  Le dice al demonio que halt/restart/suspend
                         después de que todo el mundo haya salido de su sesión. Si sólo
                         sale una persona, entonces esto es lo mismo que
                         SET_LOGOUT_ACTION. Note que
                         SET_LOGOUT_ACTION tiene precedencia
                         sobre SET_SAFE_LOGOUT_ACTION si está establecida
                         a cualquier cosa distinta de NONE. Si no hay nadie
                         con una sesión abierta, entonces la acción suecede
                         inmediatamente. Sólo se soporta en conexiones que
                         hayan pasado AUTH_LOCAL.
Soportado desde: 2.5.90.0
Argumentos: &lt;acción&gt;
  NONE               Establece la acción de salida a «niguna»
  HALT               Establece la acción de salida a «parar»
  REBOOT             Establece la acción de salida a «reiniciar»
  SUSPEND            Establece la acción de salida a «suspender»
  CUSTOM_CMD[0-9]    Establece la acción de salida a «comando personalizado [0-9]»
Respuestas:
  OK
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     7 = Acción de salida desconocida o no disponible
     100 = No autenticado
     200 = No se permiten las pantallas dinámicas
     999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="setvt">
      <title>SET_VT</title>
<screen>
SET_VT:  Cambia al terminal virtual especificado.
         Ésto es útil para inicios de sesión que no sean propietarias de /dev/console
         pero aún así son inicios de sesión de consola. Actualmente sólo está soportado
         en Linux, en otros sistemas simplemente se obtendrá ERROR 8.
         Sólo se soporta en las conexiones que hayan pasado AUTH_LOCAL.
Soportado desde: 2.5.90.0
Argumentos: &lt;terminal virtual&gt;
Respuestas:
  OK
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     8 = No se soportan los terminales virtuales
     9 = Número de terminal virtual inválido
     100 = No autenticado
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="updateconfig">
      <title>UPDATE_CONFIG</title> 
<screen>
UPDATE_CONFIG:  Le dice al demonio que vuelva a leer una clave del
               archivo de configuración de MDM. Cualquier usuario puede pedir
               que los valores se relean pero el demonio sólo
               lo hará si el archivo se ha modificado desde que
               MDM leyó el archivo por primera vez. Sólo los usuarios
               que puedan cambiar el archivo de configuración de MDM
               (generalmente sólo es escribible por el superusuario) pueden
               modificar la configuración de MDM. Éste comando
               es útil para hacer que MDM se actualice
               para reconocer un cambio realizado sobre el archivo
               de configuración de MDM por el superusuario.

               Comenzando desde la versión 2.13.0.0, se soportan
               todas las claves MDM excepto las siguientes:

                      daemon/PidFile
                      daemon/ConsoleNotify
                      daemon/User
                      daemon/Group
                      daemon/LogDir
                      daemon/ServAuthDir
                      daemon/UserAuthDir
                      daemon/UserAuthFile
                      daemon/UserAuthFBDir

               MDM también soporta las siguientes pseudoclaves:

               xdmcp/PARAMETERS (2.3.90.2) actualiza lo siguiente:
                      xdmcp/MaxPending
                      xdmcp/MaxSessions
                      xdmcp/MaxWait
                      xdmcp/DisplaysPerHost
                      xdmcp/HonorIndirect
                      xdmcp/MaxPendingIndirect
                      xdmcp/MaxWaitIndirect
                      xdmcp/PingIntervalSeconds (sólo afecta a las conexiones nuevas)

                xservers/PARAMETERS (2.13.0.4) actualiza lo siguiente:
                      todas las secciones [server-foo].

                Claves soportadas para versiones anteriores de MDM:

                      security/AllowRoot (2.3.90.2)
                      security/AllowRemoteRoot (2.3.90.2)
                      security/AllowRemoteAutoLogin (2.3.90.2)
                      security/RetryDelay (2.3.90.2)
                      security/DisallowTCP (2.4.2.0)
                      daemon/Greeter (2.3.90.2)
                      daemon/RemoteGreeter (2.3.90.2)
                      xdmcp/Enable (2.3.90.2)
                      xdmcp/Port (2.3.90.2)
                      daemon/TimedLogin (2.3.90.3)
                      daemon/TimedLoginEnable (2.3.90.3)
                      daemon/TimedLoginDelay (2.3.90.3)
                      greeter/SystemMenu (2.3.90.3)
                      greeter/ConfigAvailable (2.3.90.3)
                      greeter/ChooserButton (2.4.2.0)
                      greeter/SoundOnLoginFile (2.5.90.0)
                      daemon/AddGtkModules (2.5.90.0)
                      daemon/GtkModulesList (2.5.90.0)
Soportado desde: 2.3.90.2
Argumentos: &lt;clave&gt;
  &lt;clave&gt; es simplemente la parte base de una clave tal como
  "security/AllowRemoteRoot"
Respuestas:
  OK
  ERROR &lt;número de error&gt; &lt;descripción del error en inglés&gt;
     0 = No implementado
     50 = Clave no soportada
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>
      
      <sect3 id="queryversion">
      <title>VERSION</title>
<screen>
VERSION: Preguntar la versión de MDM
Soportado desde: 2.2.4.0
Argumentos: Ninguno
Respuestas:
  MDM &lt;versión de mdm&gt;
  ERROR &lt;número del error&gt; &lt;descripción del error en inglés&gt;
     200 = Demasiados mensajes
     999 = Error desconocido
</screen>
      </sect3>
    </sect2>
  </sect1>

  <!-- ============= MDM Commands ============================= -->

  <sect1 id="binaries">
    <title>Comandos de MDM</title>

    <sect2 id="bindir_binaries">
      <title>Comandos de usuario de MDM</title>

      <para>El paquete MDM proporciona los siguiente comandos diferentes en <filename>bindir</filename> con la intención de que sean usados por el usuario final:</para>

      <sect3 id="mdmxnestchoosercommandline">
        <title>Opciones de línea de comandos de <command>mdmXnestchooser</command> y <command>mdmXnest</command></title>

        <para>El comando <command>mdmXnestchooser</command> obtiene automáticamente la el número de pantalla correcto, configura el acceso y ejecuta un comando de servidor X anidado con el parámetro "-indirect localhost". Esto proporciona un programa selector XDMCP. También puede proporcionar el nombre del equipo en el que se mostrará el selector como argumento, de tal forma que <command>mdmXnestchooser somehost</command> ejecutará el selector XDMCP desde el equipo <command>equipo</command> dentro de una sesión de servidor X anidado. Puede hacer que este comando haga consultas directas pasando la opción <command>-d</command>. Además de las siguientes opciones, este comando también soporta las opciones estándar de GNOME.</para>

        <variablelist>
        <title>Opciones de línea de comandos de <command>mdmXnestchooser</command></title>

          <varlistentry>
            <term>-x, --xnest=STRING</term>
            <listitem>
              <para>Comando para el servidor X anidado, el predeterminado está definido por la opción de configuración <filename>Xnest</filename>.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-o, --xnest-extra-options=OPCIONES</term>
            <listitem>
              <para>Opciones extra para el servidor X anidado, lo predeterminado es sin opciones.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-n, --no-query</term>
            <listitem>
              <para>Tan sólo ejecutar el servidor X anidado, sin consulta (sin selector)</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-d, --direct</term>
            <listitem>
              <para>Hace una consulta directa en lugar de indirecta (selector)</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-B, --broadcast</term>
            <listitem>
              <para>Ejecutar en difusión en vez de indirecto (selector)</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-b, --background</term>
            <listitem>
              <para>Ejecutar en segundo plano</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--no-mdm-check</term>
            <listitem>
              <para>No comprueba si hay un MDM funcionando</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="mdmflexichoosercommandline">
        <title>Opciones de línea de comandos de <command>mdmflexichooser</command></title>

        <para>El comando <command>mdmflexiserver</command> proporciona tres características. Se puede usar para ejecutar pantallas X flexibles (bajo demanda), para ejecutar una pantalla flexible a través de un servidor X anidado y para enviar comandos al demonio de MDM.</para>

        <para>Generalmente iniciar una pantalla flexible bloqueará la sesión actual con un salvapantallas y volverá a mostrar la pantalla de inicio de sesión de MDM de tal forma que un segundo usuario puede iniciar sesión. Ésta característica sólo está disponible en sistemas que soporten terminales virtuales y estén activados. Ésta característica es útil si ha iniciado sesión con el usuario A y el usuario B quiere inciar sesión rápidamente pero A no desea salir de la sesión. El servidor X cuida de que el terminal virtual cambie para que funcione de forma transparente. Si hay más de una pantalla definida en ejecución con flexible=true, entonces se muestra al usuario un diálogo que muestra las sesiones actualmente en ejecución. El usuario entonces puede seleccionar qué sesión quiere continuar y tendrá que introducir su contraseña para desbloquear la pantalla.</para>

        <para>Las pantallas anidadas funcionan en sistemas que no soportan terminales virtuales. Esta opción inicia una pantalla flexible en una ventana de la sesión actual. Esto no bloquea la sesión actual, de tal forma que no es un servidor flexible iniciado a través de terminales virtuales.</para>

        <para>La opción <command>mdmflexiserver --command</command> proporciona una forma de enviar comandos al demonio de MDM y se puede usar para depurar problemas o para cambiar la configuración de MDM.</para>

        <para>Además de las siguientes opciones, <command>mdmflexiserver</command> también soporta las opciones estándar de GNOME.</para>

        <variablelist>
        <title>Opciones de línea de comandos de <command>mdmflexichooser</command></title>

          <varlistentry>
            <term>-c, --command=COMANDO</term>
            <listitem>
              <para>Enviar el comando de protocolo especificado a MDM</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-n, --xnest</term>
            <listitem>
              <para>Inicia una pantalla flexible X en modo anidado</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-l, --no-lock</term>
            <listitem>
              <para>No bloquear la pantalla actual</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-d, --debug</term>
            <listitem>
              <para>Activar salida de depuración para enviarla a syslog. Lo mismo que cuadno se activa la depuración en el archivo de configuración.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-a, --authenticate</term>
            <listitem>
              <para>Autenticar antes de ejecutar --command</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-s, --startnew</term>
            <listitem>
              <para>Inicia un servidor flexible nuevo sin mostrar un diálogo preguntando al usuario si quiere continuar cualquier sesión existente.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="mdmdynamiccommandline">
        <title>Opciones de línea de comandos de <command>mdmdynamic</command></title>

        <para><command>mdmdynamic</command> permite la gestión de pantallas de una forma dinámica. Generalmente se usa en entornos donde no es posible listar las pantallas disponibles en los archivos de configuración de MDM. El comando <command>mdmdynamic</command> se puede usar para crear una nueva pantalla en un número de pantalla en particular, ejecutar todas las pantallas creadas recientemente o quitar una pantalla. El comando <command>mdmdynamic</command> también se puede usar para listar todas las pantallas locales o sólo aquellas pantallas locales que coincidan con un patrón. La opción -a se usa para añadir una pantalla, la opción -r se usa para ejecutar (o lanzar) una pantalla, la opción -d se usa para borrar una pantalla y la opción -l lista las pantallas existente. Sólo se puede especificar una de esas cuatro opciones cada vez, de tal forma que en el ciclo de vida de una pantalla en particular, el comando se usará una vez para añadir, una vez para lanzar (ejecutar) la pantalla y finalmente una vez para borrarla cuando termine la sesión.</para>

        <para>Este programa está diseñado para gestionar múltiples peticiones simultáneas e intenta evitar la inundación del demonio con las peticiones. Si la conexión del socket está ocupada, se dormirá y lo reintentará cierto número de veces que se pueden gestionar con las opciones -s y -t.</para>

        <variablelist>
          <title>Opciones de línea de comandos de <command>mdmdynamic</command></title>

          <varlistentry>
            <term>-a display=server</term>
            <listitem>
              <para>Añadir una nueva configuración de pantalla, dejándola en estado DISPLAY_CONFIG. Por ejemplo,  <command>"-a 2=StandardServerTwo"</command><command>"-a 3=/usr/X11R6/bin/X -dev /dev/fb2"</command></para>
              <para>La pantalla no se iniciará hasta que la pantalla se liberé llamando a <command>mdmdynamic</command> de nuevo con la opción -r.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-r</term>
            <listitem>
              <para>Lanzar (ejecutar) todas las pantallas en estado DISPLAY_CONFIG y en espera.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-d display</term>
            <listitem>
              <para>Borrar una pantalla, matando el servidor X y purgando la configuración de  la pantalla. Por ejemplo, "-d 3".</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-l [patrón]</term>
            <listitem>
              <para>Listar las pantallas a través del comando ATTACHED_SERVERS <command>mdmflexiserver</command>. Se listan todas las pantallas locales si no hay un patrón. Con un patrón se pueden obtener coincidencias usando los caracteres globales «*», «?» y «[]». Por ejemplo: <command>"-l Standard*"</command><command>"-l *Xorg*"</command></para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-v</term>
            <listitem>
              <para>Modo detallado. Imprime los mensajes de diagnóstico de MDM.</para>
            </listitem>
          </varlistentry>
        
          <varlistentry>
            <term>-b</term>
            <listitem>
              <para>Modo en segundo plano. Bifurcar un hijo para hacer el trabajo y volver inmediatamente.</para>
            </listitem>
          </varlistentry>
        
          <varlistentry>
            <term>-t RETRY</term>
            <listitem>
              <para>Si el socket del demonio está ocupado, <command>mdmdynamic</command> reintentará abrir la conexión el número de veces RETRY especificado. El valor predeterminado es 15.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>-s SLEEP</term>
            <listitem>
              <para>Si el socket del demonio está ocupado, <command>mdmdynamic</command> se dormirá cierto tiempo antes de los reintentos. Se añade un número aleatorio de segundos (0-5) para el valor SLEEP y para asegurarse de que las múltiples llamadas a mdmdynamic no tratan todas de reiniciarse al mismo tiempo. Un valor SLEEP cero hace que el tiempo de descanso sea de 1 segundo. El valor predeterminado es 8 segundos.</para>
            </listitem>
          </varlistentry>
        
        </variablelist>
      </sect3>

      <sect3 id="mdmphotosetupcommandline">
        <title>Opciones de línea de comandos de <command>mdmphotosetup</command></title>

        <para>Permite al usuario seleccionar una imagen que se usará como la foto del usuario para el visor de rostros de MDM, si éste está activado en MDM. El archivo seleccionado se almacena como <filename>~/.face</filename>. Este comando acepta las opciones estándar de GNOME.</para>
      </sect3>

      <sect3 id="mdmthemetestercommandline">
        <title>Opciones de línea de comandos de <command>mdmthemetester</command></title>

        <para><command>mdmthemetester</command> toma dos parámetros . El primero especifica el entorno y el segundo parámetro especifica el nombre de la ruta o el nombre de un tema para ver. Esta es una herramienta para ver un tema fuera de MDM. Es útil para probar o ver temas. <command>mdmthemetester</command> requiere que el sistema soporte <command>mdmXnest</command>. Note que los temas se pueden mostrar de forma diferente dependiendo del «modo de visualización» del tema . <command>mdmthemetester</command> permite ver los temas en diferentes modos por por medio de la opción de entorno. Los valores de entorno y su significado siguen: <screen>
console    - En modo consola.
console-timed - En modo consola no flexible.
flexi     - En modo flexible.
xdmcp     - En modo remoto (XDMCP).
remote-flexi - En modo remoto (XDMCP) y modo flexible.
</screen></para>
      </sect3>
    </sect2>

    <sect2 id="sbindir_binaries">
      <title>Comandos del administrador de MDM</title>

      <para>El paquete MDM proporciona los siguientes comandos diferentes en <filename>sbindir</filename> con la intención de que los use el usario root:</para>

      <sect3 id="mdmcommandline">
        <title>Opciones de línea de comandos de <command>mdm</command> y <command>mdm-binary</command></title>

        <para>El comando <command>mdm</command> es realmente sólo un script que ejecuta el <command>mdm-binary</command>, pasando cualquier opción. Anted de lanzar <command>mdm-binary</command>, el script de envoltura de mdm incluirá el archivo <filename>&lt;etc&gt;/profile</filename> para establecer las variables de entorno estándar. Para soportar mejor la internacionalización, establecerá la variable de entorno LC_MESSAGES a LANG si cualquiera de LC_MESSAGES o LC_ALL está establecida. Si realmente necesita establecer algún entorno adicional antes de lanzar MDM, puede hacer eso en este script.</para>

        <variablelist>
          <title>Opciones de línea de comandos de <command>mdm</command> y <command>mdm-binary</command></title>

          <varlistentry>
            <term>--help</term>
            <listitem>
              <para>Da un breve resumen de las opciones de línea de comandos.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--nodaemon</term>
            <listitem>
              <para>Si se especifica esta opción, entonces MDM no se bifurca a un segundo plano cuando se ejecuta. Note que ya no puede usar la opción de un guión simple "-nodaemon" para compatibilidad con otros gestores de pantallas.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--no-console</term>
            <listitem>
              <para>Indica al demonio que no debería ejecutar nada en la consola. Esto significa que ninguno de los servidores locales de la sección <filename>[servers]</filename> se iniciará, y que la consola no se usará para comunicar errores al usuario. Una sección <filename>[servers]</filename> vacía automáticamente implica esta opción.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--config=CONFIGFILE</term>
            <listitem>
              <para>Especificar un archivo de configuración alternativo.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--preserve-ld-vars</term>
            <listitem>
              <para>Al limpiar internamente el entorno, preservar todas las variables empezando con LD_. Esto es principalmente para propósitos de depuración.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--version</term>
            <listitem>
              <para>Imprime la versión del demonio MDM.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--wait-for-go</term>
            <listitem>
              <para>Si se inicia con esta opción, MDM se inicializará, pero sólo iniciará la primera pantalla local y después esperará un mensaje GO en el protocolo FIFO. No se mostrará ninguna interfaz de entrada hasta que se envíe el mensaje GO. Además las peticiones flexiserver se denegarán y no se iniciará XDMCP hasta que se proporcione el GO. Esto es útil para los scripts de inicialización que quieren iniciar las X pronto pero no se quiere que el usuario inicie sesión aún. De tal forma que el script enviará el GO al protocolo FIFO una vez que esté listo y entonces MDM continuará. Esta funcionalidad se añadió en la versión 2.5.90.0.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="mdmsetupcommandline">
        <title>Opciones de línea de comandos de <command>mdmsetup</command></title>

        <para><command>mdmsetup</command> ejecuta una aplicación gráfica para modificar el archivo de configuración de MDM. Normalmente en sistemas que soportan el ayudante de usuario PAM, esto es para configurar que cuando ejecute <command>mdmsetup</command> como un usuario ordinario, le pida primero su contraseña de root antes de inciar. De otro modo esta aplicación sólo podría ser ejecutada como root. Esta aplicación soporta las opciones estándar de GNOME.</para>
      </sect3>

      <sect3 id="mdmrestartcommandline">
        <title>Opciones de línea de comandos de <command>mdm-restart</command></title>

        <para><command>mdm-restart</command> para y reinicia MDM enviando al demonio de MDM una señal HUP. Este comando inmediatamente terminará todas las sesiones y echará fuera a los usuarios que hayan entrado con MDM.</para>
      </sect3>

      <sect3 id="mdmsaferestartcommandline">
        <title>Opciones de línea de comandos de <command>mdm-safe-restart</command></title>
  
        <para><command>mdm-safe-restart</command> para y reinicia MDM enviando al demonio MDM una señal USR1. MDM re reiniciará tan pronto como todos los usuarios salgan.</para>
      </sect3>

      <sect3 id="mdmstopcommandline">
        <title>Opciones de línea de comandos de <command>mdm-stop</command></title>

        <para><command>mdm-stop</command> para MDM enviando al demonio MDM una señal TERM.</para>
      </sect3>
    </sect2>

    <sect2 id="libexecdir_binaries">
      <title>Comandos internos de MDM</title>

      <para>El paquete de MDM proporciona los siguientes comandos en <filename>libexecdir</filename> con intención de que sean usados por el proceso del demonio mdm.</para>

      <sect3 id="mdmgreeterlogincommandline">
        <title>Opciones de línea de comandos de <command>mdmchooser</command> y <command>mdmlogin</command></title>

        <para><command>mdmgreeter</command> y <command>mdmlogin</command> son dos aplicaciones de inicio de sesión diferentes, MDM puede usar cualquiera de las dos. <command>mdmgreeter</command> es configurable con temas para MDM mientras que <command>mdmlogin</command> es configurable con temas GTK+. Generalmente el demonio MDM ejecuta estas aplicaciones. Ambos comandos soportan las opciones estándar de GNOME.</para>
      </sect3>

      <sect3 id="mdmchoosercommandline">
        <title>Opciones de línea de comandos de <command>mdmchooser</command></title>

        <para><command>mdmchooser</command> es la aplicación selectora XDMCP. Normalmente el demonio de MDM ejecuta <command>mdmchooser</command>. Soporta las siguientes opciones para compatibilidad con XDM. Este comando soporta las opciones estándar de GNOME.</para>

        <variablelist>
          <title>Opciones de línea de comandos de <command>mdmchooser</command></title>

          <varlistentry>
            <term>--xdmaddress=SOCKET</term>
            <listitem>
             <para>Socket para comunicación XDM.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--clientaddress=DIRECCIÓN</term>
            <listitem>
             <para>La dirección del cliente que devolver en respuesta a XDM. Esta opción es para ejecutar mdmchooser con XDM y no se usa con MDM.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>--connectionType=TIPO</term>
            <listitem>
             <para>Tipo de conexión que devolver en respuesta a XDM. Esta opción es para ejecutar mdmchooser con XDM, no se usa dentro de MDM.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>

      <sect3 id="mdm-ssh-session">
        <title><command>mdm-ssh-session</command></title>

        <para>Normalmente el demonio de MDM ejecuta <command>mdm-ssh-session</command> al iniciar una conexión remota segura a través de SSH. No toma ninguna opción.</para>
      </sect3>
    </sect2>
  </sect1>

  <!-- ============= Theme manual ============================= -->

  <sect1 id="thememanual">
    <title>Interfaz con temas</title>

    <para>Esta sección describe la creación de temas para el Interfaz con temas. Para los ejemplos incluidos en las capturas, vea los temas estándar instalados y los temas del <ulink type="http" url="http://art.gnome.org/themes/mdm_greeter/">sitio web de temas</ulink>.</para>

    <sect2 id="themeover">
      <title>Descripción de los temas</title>

      <para>Los temas MDM se pueden hacer creando un archivo XML que siga la especificación en gui/greeter/greeter.dtd. Los archivos de temas se almacenan en el directorio <filename>&lt;share&gt;/mdm/themes/&lt;theme_name&gt;</filename>. Usualmente esto debería estar bajo <filename>/usr/share</filename>. El directorio del tema debería contener un archivo llamado <filename>MdmGreeterTheme.desktop</filename> que tiene un formato similar a otros archivos .desktop como la siguiente:</para>

<screen>
[MdmGreeterTheme]
Encoding=UTF-8
Greeter=circles.xml
Name=Circles
Description=Theme with blue circles
Author=Bond, James Bond
Copyright=(c) 2002 Bond, James Bond
Screenshot=screenshot.png
</screen>

      <para>Los campos del nombre, descripción, autor y copyright pueden traducirse como otros archivos <filename>.desktop</filename>. Todos los archivos que se mencionan deberían estar en el propio directorio de temas. El campo Screenshot apunta a un archivo que debería ser una captura de 200x150 del tema en acción (está bien no tener una, pero lo hace más agradable al usuario). El campo Greeter apunta a un archivo xml que contiene descripciones del tema. La descripción se dará más tarde.</para>

      <para>Una vez que se instala un tema, se puede probar con el programa <command>mdmthemetester</command>. Este programa asume que el servidor X soporta el comando de servidor anidado. Este comando toma dos parámetros, el primero es el entorno que se debe usar. El entorno puede ser uno de los siguientes valores: onsole, console-timed, flexi, remote-flexi, o xdmcp. La opción "console" comprueba el tema tal y como se mostraría en una pantalla local. La opción "console-timed" comprueba el tema tal y como se mostraría en una pantalla local con inicio de sesión temporizado. La opción "flexi" comprueba el tema tal y como se mostraría en una pantalla local flexible (como iniciarlo a través de Xnest). Finalmente la opción "xdmcp" comprueba el tema tal y como se mostraría para pantallas XDMCP rempotas. El segundo parámetros es el nombre del tema. Por ejemplo, para comprobar cómo se vería el tema de círculos en un modo XDMCP remoto, debería ejecutar el siguiente comando:</para>

<screen>
<command>mdmthemetester xdmcp circles</command>
</screen>

      <para>Asegúrese de probar todos los entornos con su tema, y asegúrese de probar cómo se muestran las advertencias de pulsación de bloqueo mayúsculas. Ejecutar <command>mdmthemetester</command> también es una buena manera de tomar capturas de pantallas. Tan sólo tomar una captura de la ventana de Xnest. Esto se puede hacer en GNOME enfocando la pantalla de Xnest y pulsando Alt-ImprPant.</para>

      <para>Una vez que haya probado el tema completamente, haga un «tarball» que contgenga el directorio tal y como se instalaría en el directorio <filename>&lt;share&gt;/mdm/themes</filename>. Este es el formato estándar para distribuir temas de MDM.</para>
    </sect2>

    <sect2 id="descofthemeformat">
      <title>Descripción detallada del formato XML de temas</title>

      <sect3 id="greetertag">
        <title>etiqueta greeter</title>

          <para>El formato de temas de MDM está especificado en XML contenido dentro de una etiqueta &lt;greeter&gt;. Puede especificar un tema GTK+ para usarlo con este tema usando el elemento gtk-theme en la etiqueta greeter tal como el siguiente ejemplo.</para>

<screen>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE greeter SYSTEM "greeter.dtd"&gt;
&lt;greeter gtk-theme="Crux"&gt;
[…]
&lt;/greeter&gt;
</screen>

          <para>Contenidos dentro de la etiqueta greeter pueden estar los nodos descritos en las siguientes secciones de este documento. Algunos de estos nodos son contenedores (nodos caja, nodos de elemento rectangular) que se pueden usar para organizar cómo mostrar los nodos con los que el usuario ve e interactura (como nodos de botón, mapa de píxeles y entrada de texto).</para>
      </sect3>

      <sect3 id="boxnodes">
        <title>Nodos caja</title>

        <para>Los nodos caja son nodos contenedores para nodos de elementos. Los nodos caja se especifican como sigue: <screen>
&lt;box orientation="alignment" min-width="num"
xpadding="num" ypadding="num" spacing="num"
homogeneous="bool"&gt;
</screen> Donde "num" significa número y bool significa o "true" o "false". El valor de alineación puede ser tanto "horizontal" como "vertical". Si deja cualquier propiedad desactivada, se establecerá a cero de forma predeterminada o a "false" en caso de "homogeneous" y "vertical" para la orientación.</para>

        <para>Si la caja es homogénea entonces los hijos se les reserva la misma cantidad de espacio.</para>

        <para>El "min-width" debe especificarse en píxeles. Obviamente hay además una propiedad correspondiente "min-height".</para>
      </sect3>

      <sect3 id="fixednodes">
        <title>Nodos fijos</title>

        <para>Los nodos fijos son unos contenedores que tienen sus hijos dispersos en unas coordenadas precisas. El tamaño de este contenedor es el mayor rectángulo que contiene todos los hijos. Los fijos no tienen propiedades adicionales así que simplemente use: <screen>
&lt;fixed&gt;
</screen> Y después ponga otros elementos con nodos de posición apropiados dentro de éste.</para>

        <para>El nodo "toplevel" es realmente como un nodo fijo.</para>
      </sect3>

      <sect3 id="itemnodes">
        <title>Nodos de elemento</title>

        <para>Un tema MDM se crea especificando una jerarquía de nodos de elementos y cajas. Los nodos de elementos pueden tener el siguiente valor para el tipo:</para>

        <variablelist>
          <varlistentry>
            <term>button</term>
            <listitem>
              <para>Un campo de botón. Este campo usa un botón GTK+. También es posible hacer un elemento "rect" que actúe como un botón estableciendo su elemento button a true. Sin embargo es mejor usar los botones GTK+ en los temas MDM debido a que éstos son accesibles a los usuarios discapacitados. Además, los botones GTK pueden tener tema. Esta característica está soportada en MDM 2.14.6 y posteriores.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>entry</term>
            <listitem>
              <para>Campo de entrada de texto.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>label</term>
            <listitem>
              <para>Una etiqueta de texto. Debe tener un nodo "text" para especificar el texto.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>list</term>
            <listitem>
              <para>Un widget de visor de rostros. Sólo es útil si el visor de rostros está activado en la configuración.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>pixmap</term>
            <listitem>
              <para>Una imagen pixmap en un formato que gdk-pixbuf soporte como PNG, JPEG, Tiff, etc…)</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>rect</term>
            <listitem>
              <para>Rectángulo.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>svg</term>
            <listitem>
              <para>Imagen Scaled Vector Graphic.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>Por ejemplo: los elementos <screen>
&lt;item type="label"&gt;
</screen> pueden especificar valores ID que les proporcionan un aspecto o formato específico. Además puede personalizar el proceso de inicio de sesión añadiendo widgets personalizados con ID personalizados para algunos elementos (actualmente sólo el elemento lista)</para>

        <para>Los elementos de entradas pueden tener valores id como siguen:</para>

        <variablelist>
          <varlistentry>
            <term>user-pw-entry</term>
            <listitem>
              <para>Campo de entrada para ID del usuario y la contraseña. Este es el campo usado para las respuestas a las preguntas de PAM/MDM (nombre de usuario, contraseña, etc...).</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>De forma predeterminada la lista de elementos muestra una lista, pero se puede usar el atributo combo="true" para especificar un estilo de caja combinada (el estilo combo se soporta desde MDM 2.16.2). Algunas listas predefinidas pueden estar incluidas en un tema usando los siguientes valores ID. También se pueden definir listas personalizables, que se esplican debajo.</para>

        <variablelist>
          <varlistentry>
            <term>session</term>
            <listitem>
              <para>Una lista de las sesiones disponibles que permite al usuario elegir la sesión que usar. Soportado desde MDM 2.16.2.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <variablelist>
          <varlistentry>
            <term>language</term>
            <listitem>
              <para>Una lista de los idiomas disponibles que permite al usuario elegir el idioma que usar. Soportado desde MDM 2.16.2.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <variablelist>
          <varlistentry>
            <term>userlist</term>
            <listitem>
              <para>Una lista del visor de rostros que permite al usuario elegir su nombre de usuario pulsando en ella en lugar de escribiendo. Obviamente esto expone los nombres de los usuarios a todo aquél que vea la pantalla de inicio, y no se recomienda para usuarios que piensen que ésto reduce la seguridad. El visor de rosotros no soporta el estilo de caja combinada.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <variablelist>
          <varlistentry>
            <term>userlist-rect</term>
            <listitem>
              <para>Éste ID se puede especificar para el obejto &lt;rect&gt; que contiene la lista de usuarios y si la lista de usuarios está vacía, entonces éste rectángulo no se mostrará. Esto permite que el tema defina algo como un área con un color diferente y/o transparencia alrededor de la lista de usuarios, pero sólo si hay usuarios para mostrar. Soportado desde 2.16.2.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>Además puyede tener un ID arbitrario (se recomienda iniciar el ID con 'custom' para evitar conflictos con futuras mejoras en esta especificación) y preguntar información adicional al usuario. Consulte la sección «Widgets personalizados».</para>

        <para>Los elementos de etiquetas pueden tener valores id como siguen:</para>

        <variablelist>
          <varlistentry>
            <term>clock</term>
            <listitem>
              <para>Etiqueta que muesta la fecha y la hora.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>pam-prompt</term>
            <listitem>
              <para>Etiqueta que muestra la línea de comandos PAM. Ésta es la línea de comandos que usa PAM para preguntar por el nombre de usuario, la contraseña, etc...</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>pam-error</term>
            <listitem>
              <para>Etiqueta que muestra mensajes de error de PAM/MDM. Como cuando el usuario no puede iniciar sesión.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>pam-error-logo</term>
            <listitem>
              <para>Una imagen que se mostrará sólo cuando un mensaje pam-error se muestre. Esto es útil para mostrar un icono «Atención», por ejemplo. Esta característica está soportada en MDM 2.14.6 y posteriores.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>pam-message</term>
            <listitem>
              <para>Etiqueta que muestra el mensaje PAM. Éstos son mensajes que PAM/MDM da acerca del estado de la cuenta, ayuda acerca de los prompts y otra información.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>timed-label</term>
            <listitem>
              <para>Etiqueta que muestra la información de la entrada temporizada.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>Los rectángulos pueden tener valores id como los siguientes:</para>

        <variablelist>
          <varlistentry>
            <term>caps-lock-warning</term>
            <listitem>
              <para>Muestra un icono que muestra si la tecla BLOQ MAYÚS se pulsa. Éste rectángulo se ocultará/mostrará apropiadamente</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>Si un elemento es de tipo «rect», el elemento puede ser un botón. Los botones deben incluir un valor "button" tal y como sigue:<screen>
&lt;item type="rect" id="disconnect_button" button="true"&gt;.
</screen></para>

        <para>Los valores posibles para los ids de los botones son los siguientes.</para>

        <variablelist>
          <varlistentry>
            <term>chooser_button</term>
            <listitem>
              <para>Ejecuta el selector XDMCP.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>config_button</term>
            <listitem>
              <para>Ejecuta la aplicación de configuración de MDM.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>custom_cmd_button[0-9]</term>
            <listitem>
              <para>Ejecuta el <filename>enésimo</filename> comando personalizado.</para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>disconnect_button</term>
            <listitem>
              <para>Desconecta de una sesión remota.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>language_button</term>
            <listitem>
              <para>Muestra el diálogo de selección del idioma.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>halt_button</term>
            <listitem>
              <para>Detiene (apaga) el sistema.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>reboot_button</term>
            <listitem>
              <para>Reinicia el sistema.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>session_button</term>
            <listitem>
              <para>Lista y selecciona las sesiones disponibles.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>suspend_button</term>
            <listitem>
              <para>Suspender el sistema.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>system_button</term>
            <listitem>
              <para>Realiza las opciones detener/reiniciar/suspender/etc (si están permitidas por la configuración de GSM). Además permite al usuario ejecutar el configurador si el usuario introduce la contraseña de root (otra vez si lo permite la configuración de MDM). Esto está normalmente ahora etiquetado como Acciones, y referido como el menú de Acciones.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>De forma predeterminada, la pantalla de inicio de MDM desaparecerá después de la autenticación. Esto puede resultar en un parpadeo entre la pantalla de inicio y la sesión. La propiedad "background" permite a los usuarios especificar qué elementos del tema forman la imagen de fondo. Cuando se usa, hará que MDM elimine todos los elementos de la pantalla que no sean del fondo y renderizará los restantes elementos "background" en la ventana principal. Esto se puede usar para crear una transición suave entre la pantalla de inicio y la sesión. Por ejemplo, si el tema MDM y la sesiónusan el mismo fondo, entonces esto hará que la transición sea suave.</para>
          
        <para>Los nodos de los elementos pueden especificar uan propiedad "background" que se puede establecer a "true" o "false" (no establecer esta propiedad es equivalente a "false") tal y como sigue:</para>

<screen>
&lt;item type="rect" background="true"&gt;
    &lt;normal file="fondo_de_pantalla.svg"/&gt;
    &lt;pos x="0" y="0" width="100%" height="-75"/&gt;
&lt;/item&gt;
</screen>

        <para>Si no existe un elemento con la propiedad "background" establecida, entonces el fondo no se modifica cuando el interfaz de inicio de sesión termina.</para>

        <para>Para usar un fondo diferente al usado por la interfaz de inicio para la transición entre la entrada y la sesión, el tema debe especificar dos elementos nodo (que pueden contener pixmapx o imágenes svg, por ejemplo). El elemento que corresponde al fondo de pantalla de la interfaz no debería tener la propiedad "background" mientras que el elemento que corresponde al fondo de pantalla de transición sí debería tener la propiedad "background". Por ejemplo:</para>
<screen>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE greeter SYSTEM "greeter.dtd"&gt;
 &lt;greeter&gt;

  &lt;item type="rect" background="true"&gt;
    &lt;normal file="fondo_para_la_transicion.svg"/&gt;
    &lt;pos x="0" y="0" width="100%" height="100%"/&gt;
  &lt;/item&gt;
  &lt;item type="rect"&gt;
    &lt;normal file="background_for_greeter.svg"/&gt;
    &lt;pos x="0" y="0" width="100%" height="100%"/&gt;
  &lt;/item&gt;
[...]
&lt;/greeter&gt;
</screen>
      </sect3>

      <sect3 id="positionnodes">
        <title>Nodo de posición</title>

        <para>Cada elemento puede especificar su posición y tamaño por medio del nodo "pos". Por ejemplo <screen>
&lt;pos x="0" y="4" width="100%" height="100%"/&gt;
</screen></para>

        <para>Tanto la posición como el tamaño pueden darse en porcentaje y se tomará como el porcentaje del tamaño del contenedor actual. Para los elementos de nivel superior su porcentaje es respecto de la pantalla completa.</para>

        <para>Para x e y también puede especificar una posición negativa que significa que la posición es relativa a la parte derecha o inferior. Pero ésto sólo se aplica con coordenadas absolutas. Con porcentajes puede especificar posiciones negativas y aún serán desde el mismo borde.</para>

        <para>La posición también especifica el anclaje del elemento, esto puede ser "n", "ne", "e", "se", "s", "sw", "w", y "nw" o "center" que son los puntos cardinales (en inglés) y representan los diferentes bordes o esquinas o el centro para "center". Por ejemplo: <screen>
&lt;pos x="10%" y="50%" anchor="w" width="80%" height="95"/&gt;
</screen></para>

        <para>Si el elemento contiene una caja, puede especificar el ancho y el alto para que sean la altura y la anchura del elemento "box", siendo los elementos de la caja además de los márgenes.</para>

        <para>Si el elemento contiene una imagen SVG, puede especificar la anchura y la altura para escalarlos ("scale") lo que significa que la imagen se debería escalar para ajustarse al área solicitada.</para>

        <para>También puede especificar una propiedad "expand" para expandir la imagen y su valor puede ser "true" o "false". Si es "true" entonces el hijo se expandirá en la caja tanto como sea posible (esto es, se le dará más espacio si está disponible).</para>

        <para>Existen dos propiedades adiciones que puede especificar (desde 2.4.4.3) para etiquetas (y sólo etiquetas). El primero es "max-width" que especifica el tamaño máximo en píxeles de la etiqueta. El segundo es "max-screen-percent-width" que especifica el porcentaje máximo de la pantalla que la etiqueta puede ocupar. De forma predetemrminada ninguna etiqueta ocupará más del 90% de la pantalla con su anchura. Un ejemplo sería: <screen>
&lt;item type="label"&gt;
&lt;pos x="10%" max-screen-percent-width="50%"/&gt;
</screen></para>
      </sect3>

      <sect3 id="shownodes">
        <title>Mostrar nodo</title>

        <para>Puede que algunos elementos sólo se muestren en ciertos modos, como en pantallas remotas. Se pueden especificar valores múltiples y se deben separar por comas. Están permitidos los siguientes valores:</para>

        <para><filename>console</filename> - En modo consola.</para>
        <para><filename>console-fixed</filename> - En modo consola no-flexible.</para>
        <para><filename>console-flexi</filename> - En modo consola y modo flexible.</para>
        <para><filename>flexi</filename> - En modo flexible.</para>
        <para><filename>remote</filename> - En modo remoto.</para>
        <para><filename>remote-flexi</filename> - En modo remoto y flexible.</para>

        <para>Por ejemplo: <screen>
&lt;show modes="console" type="system"/&gt;
</screen></para>

        <para>También puede especificar el valor "type" para indicar que ciertos elementos sólo se deben mostrar si el tipo es cierto. Los valores válidos incluyen:</para>

        <para><filename>chooser</filename>, si ChooserButton está puesto a «true» en la configuración de MDM.</para>
        <para><filename>configurar</filename>, si ConfigAvailable está puesto a «true» en la configuración de MDM.</para>
        <para><filename>comando_personalizado[0-9]</filename>, si el <filename>enésimo</filename> comando personalizado está especificado en la configuración de MDM.</para>
        <para><filename>halt</filename>, si HaltDaemon está especificado en la configuración de MDM.</para>
        <para><filename>reiniciar</filename>, si RebootCommand está especificado en la configuración de MDM.</para>
        <para><filename>suspend</filename>, si SuspendCommand está especificado en la configuración de MDM.</para>
        <para><filename>system</filename>, si SystemMenu está especificado en la configuración de MDM.</para>
        <para><filename>timed</filename>, si TimedLoginEnabled está puesto a "true" en la configuración de MDM.</para>

        <para>Por ejemplo: <screen>
&lt;show modes="console" type="system"/&gt;
</screen></para>

        <para>Alternativamente puede especificar un valor "min-screen-width" o "min-screen-height" para indicar que ciertos elementos sólo se deberían mostrar si la resolución de la pantalla es al menos la dada por el tamaño requerido.</para>

        <para>Por ejemplo: <screen>
&lt;show min-screen-height="768"/&gt;
</screen></para>

        <para>Note que si SystemMeny está desactivado, entonces no se mostrarán las opciones de configuración parada, reinicio o suspensión del selector, así que esto es un conmutador global para todas ellas. Observe algunos de los temas estándar para ver cómo se usan los modos de mostrado.</para>
      </sect3>

      <sect3 id="noractprenodes">
        <title>Nodos normal/activo/prelight</title>

        <para>Dependiendo del tipo de elemento (excepto para la lista de usuarios; consulte el color del nodo debajo), se puede especificar el color, tipografía o la imagen a través de las siguientes etiquetas:</para>

        <para><filename>normal</filename> - estado normal.</para>
        <para><filename>activo</filename> - cuando el elemento tiene foco activo.</para>
        <para><filename>prelight</filename> - cuando el ratón está sobre el elemento.</para>

        <para>Cuando un elemento es "rect" (se puede omitir alpha y se toma 0.0): <screen>
&lt;normal color="#ffffff" alpha="0.0"&gt;
</screen></para>

        <para>Cuando el elemento es "label" <screen>
&lt;normal color="#ffffff" font="Sans 14"/&gt;
</screen></para>

        <para>Cuando el tipo del elemento es "pixmap" o "SVG", entonces las etiquetas normal, activo y prelight especifican las imágenes para usar como sigue: <screen>
&lt;normal file="imagen.png" tint="#dddddd"/&gt;
</screen></para>

        <para>Note que se asumen nombres de ruta relativos para estar en el mismo directorio que el archivo <filename>.xml</filename> del tema en <filename>&lt;share&gt;/mdm/themes/&lt;theme_name&gt;</filename>.</para>

        <para>Note que se puede especificar un archivo de imagen alternativo usando la propiedad altfile[n]. MDM usará el último archivo de imagen especificado que sea válido. Por ejemplo: <screen>
&lt;normal file="imagen.png" altfile1="imagen_de_disrtribucion.png" altfile2="imagen_de_distribucion_2.png"/&gt;
</screen> Si <filename>imagen_de_distribucion_2.png</filename> es un archivo de imagen válido, entonces se usará. De otra manera se usará imagen_de_distribucion.png, si es válido. Esta característica se soporta desde 2.16.3.</para>

      </sect3>

      <sect3 id="listcoloronodes">
        <title>Icono del visor de rostros/Etiquetas de nodos de color</title>

        <para>Si el tipo de elemento es «userlist», entonces el color de fondo para el icono y la etiqueta se pueden establecer separadamente a través de la siguiente etiqueta:</para>

        <para>
<screen>
&lt;color iconcolor="#dddddd" labelcolor="#ffffff"/&gt;
</screen>
        </para>
      </sect3>

      <sect3 id="textnodes">
        <title>Nodo de texto</title>

        <para>Las etiquetas usan las etiquetas de texto. Se pueden usar para mostrar texto localizado tal y como sigue (si se omite el atributo «xml:lang», se asume la configuración regional C). <screen>
&lt;text xml:lang="es"&gt;Option&lt;/text&gt;
</screen></para>

        <para>Puede incluir marcado pango para las etiquetas en los nodos de texto, no obstante debe codificarlo. Así, por ejemplo, para tener la etiqueta «foo&lt;sup&gt;bar&lt;/sup&gt;», debe escribir: <screen>
&lt;text&gt;«foo&lt;sup&gt;bar&lt;/sup&gt;»&lt;/text&gt;
</screen></para>

        <para>Los nodos de texto pueden contener las siguientes secuencias de caracteres especiales que se traducirán como sigue:</para>

        <para>%% - Un carácter literal %</para>
        <para>%c - Hora del reloj. Sólo las etiquetas con el id "clock" se actualizarán automáticamente cada segundo. Las demás etiquetas contendrán un sello temporal estático.</para>
        <para>%d - Nombre de la pantalla (variable de entorno DISPLAY)</para>
        <para>%h - Nombre del host (salida de gethostname)</para>
        <para>%m - Nombre de la máquina (salida de uname.machine)</para>
        <para>%n - Nombre del nodo (salida de uname.nodename)</para>
        <para>%o - Nombre del dominio (salida de getdomainname)</para>
        <para>%r - Nombre del lanzamiento (salida de uname.release)</para>
        <para>%s - Nombre del sistema (salida de uname.sysname)</para>
        <para>%t - Valor del retraso actual desde el archivo de configuración (0 si está desactivado) seguido de la palabra "seconds" si el valor es mayor de 1 o la palabra "second" si el valor es 1. Ésta secuencia de caracteres está pensada sólo para ser usada internamente para mostrar el mensaje "timed-label", que se actualiza automáticamente cada segundo.</para>
        <para>%u - Valor temporizado del nombre de usuario desde el archivo de configuración (vacío si está desactivado). Ésta secuencia de caracteres está pensada sólo para ser usada internamente para mostrar el mensaje "timed-label", que se actualiza automáticamente cada segundo.</para>
        <para>\n - Retorno de carro</para>
        <para>_ - Un guión bajo hace que el siguiente carácter sea subrayado. Si precede a una secuencia de carácter %, la cadena que reemplace la secuencia de caracteres se subraya.</para>
      </sect3>

      <sect3 id="stocklabels">
        <title>Nodo predeterminado</title>

        <para>Ciertas etiquetas comunes localizadas pueden especificarse por medio de las etiquetas de fábrica. La etiqueta "text" se ignora si se usa la etiqueta "stock". Debería usar las etiquetas de fábrica en vez de poner todas las traducciones en los temas. Esto da tiempos de carga más rápidos y mejores traducciones. Los valores siguientes son válidos:</para>

        <para><filename>cancel</filename>, _("_Cancelar"</para>
        <para><filename>caps-lock-warning</filename>, _("La tecla BloqMayús está activada."</para>
        <para><filename>chooser</filename>, _("Entrada remota via _XDMCP"</para>
        <para><filename>config</filename>, _("_Configurar"</para>
        <para><filename>custom_cmd[0-9]</filename>, obtener etiqueta del archivo de configuración</para>
        <para><filename>disconnect</filename>, _("D_esconectar"</para>
        <para><filename>halt</filename>, _("_Apagar")</para>
        <para><filename>language</filename>, _("_Idioma"</para>
        <para><filename>ok</filename>, _("_Aceptar"</para>
        <para><filename>options</filename>, _("_Opciones"</para>
        <para><filename>quit</filename>, _("_Salir"</para>
        <para><filename>reboot</filename>, _("_Reiniciar"</para>
        <para><filename>session</filename>, _("_Sesión"</para>
        <para><filename>startagain</filename>, _("_Empezar de nuevo"</para>
        <para><filename>suspend</filename>, _("Sus_pender"</para>
        <para><filename>system</filename>, _("_Acciones" (Anteriormente "S_istema"</para>
        <para><filename>timed-label</filename>, _("El usuario %u entrará en %t"</para>
        <para><filename>username-label</filename>, _("Usuario:"</para>
        <para><filename>welcome-label</filename>, _("Bienvenido a %n"</para>

        <para>Por ejemplo: <screen>
&lt;stock type="welcome-label"&gt;
</screen></para>
      </sect3>

      <sect3 id="customwidgetry">
        <title>Widgets personalizados</title>

        <para>Actualmente hay un elemento que es personalizable y este es el elemento de la lista. Si necesita preguntar al usuario cosas adicionales, como para escoger de una lista o lugares desde donde entrar, o establecer un conjunto de sesiones de entrada personalizadas puede configurar el elemento de la lista y añadir hijos del elemento de la lista que describan las selecciones. Cada elemento de la lista debe tener un id y un texto hijo. La elección será grabada en el archivo <filename>&lt;ServAuthDir&gt;/&lt;display&gt;.GreeterInfo</filename> como <filename>&lt;list id&gt;=&lt;listitem id&gt;</filename>.</para>

        <para>Por ejemplo suponga que estamos en la pantalla 0, <filename>ServAuthDir</filename> es <filename>&lt;var&gt;/lib/mdm</filename> y tenemos lo siguiente en el tema:</para>

<screen>
&lt;item type="list" id="custom-config"&gt;
&lt;pos anchor="nw" x="1" y="1" height="200" width="100"/&gt;
&lt;listitem id="foo"&gt;
&lt;text&gt;Foo&lt;/text&gt;
&lt;/listitem&gt;
&lt;listitem id="bar"&gt;
&lt;text&gt;Bar&lt;/text&gt;
&lt;/listitem&gt;
&lt;/item&gt;
</screen>

        <para>El archivo se crea en formato INI al usar MDM 2.20. El valor del grupo es "GReeterInfo" y la clave "custom-config" especificará el id del «listitem» elegido. Por ejemplo, si el usuario elije «Foo» (que tiene un valor id "foo") entonces <filename>&lt;var&gt;/lib/mdm/:0.GreeterInfo</filename> contendrá: <screen>
[GreeterInfo]
custom-config=foo
</screen></para>
        <para>El archivo no se guarda en formato INI si se usa MDM 2.18 y anteriores, así que el grupo "GreeterInfo" no estará en el archivo. En otras palabras, el archivo sólo contendrá lo siguiente: <screen>
custom-config=foo
</screen></para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 id="accessibility">
    <title>Accesibilidad</title>
      <para>MDM soporta «Inicio de sesión accesible» permitiendo que los usuarios inicien sesión en su escritorio incluso si no pueden usar fácilmente la pantalla, el ratón o el teclado de la forma usual. Los programas de tecnología de asistencia (TA) tales como <command>GOK</command> (teclado en pantalla) y <command>orca</command> (maginificador y texto a voz) están soportados. La «Interfaz de entrada GTK+» soporta mejor la accesibilidad, de tal forma que se recomienda. La «Interfaz de entrada con temas» soporta algunas características de accesibilidad y algunos usuarios pueden usarla. Pero algunos programas de TA, como <command>GOK</command>, aún no funcionan bien con la «Interfaz de entrada con temas».</para>

      <para>Se activa la accesibilidad especificando la «Interfaz de entrada GTK+» en la solapa «Local» para pantallas locales y especificando la «Interfaz de entrada GTK+» en la solapa «Remota» para pantallas remotas. También puede modificar las opciones de configuración <filename>Greeter</filename> y <filename>RemoteGreeter</filename> del archivo de configuración <command>/usr/lib/mdmlogin</command>.</para>

      <para>La interfaz estándar soporta la capacidad de lanzar tecnologías de asistencia en el momento de la entrada a través de «gestos» configurables. Estos gestos se pueden definir para que sean teclas rápidas de un teclado estándar, un dispositivo conmutador o eventos de movimiento del ratón. Al usar «GTK+ Greeter», el usuario también puede cambiar la apariencia visual de la IU de entrada, por ejemplo para usar un esquema de color de alto contraste para una mejor visibilidad.</para>

      <para>Note que <command>mdmsetup</command> aún no trabaja con accesibilidad, de tal forma que los usuarios que requieran programas de tecnologías de asistencia sólo deberían configurar MDM editando los archivos ASCII directamente.</para>

       <sect2 id="accessibilityconfig">
          <title>Configuración de accesibilidad</title>

          <para>Para activar el inicio de sesión accesible, el administrador del sistema debe hacer algunos cambios en la configuración predeterminada del inicio de sesión, modificando manualmente tres archivos de configuración «legibles por humanos», almacenados en el archivo de configuración personalizada de MDM, el archivo AccessKeyMouseEvents y el archivo AccessDwellMouseEvents. Los archivos AccessKeyMouseEvents y AccessDwellMouseEvents contienen gestos predeterminados razonables para lanzar <command>GOK</command> y <command>orca</command>, pero algunos usuarios pueden querer configurar estos gestos para ajustarse mejor a sus necesidades. Por ejemplo, una duración más larga o corta de la pulsación de una tecla o botón puede mejorar la experiencia de usabilidad de algunos usuarios. Además, si fuesese necesario, se pueden añadir programas de TA adicionales al archivo de configuración.</para>

          <sect3 id="accessibilitytheming">
            <title>Temas de accesibilidad</title>

            <para>Si se está usando la «Interfaz de entrada GTK+» los usuarios pueden cambiar rápidamente el esquema de color y contraste del diálogo. Para ello, asegúrese de que el parámetro <filename>AllowGtkThemeChange</filename> en la configuración de MDM es "true". Éste debería ser su valor predeterminado. Cuando es cierto, el «Interfaz de entrada estándar» contiene un menú que permite al usuario cambiar a un tema GTK+ diferente. La opción de configuración <filename>GtkThemesToAllow</filename> también se puede usar para limitar las opciones disponibles si así se desea. Por ejemplo:</para>

<screen>
GtkThemesToAllow=HighContrast,HighContrastInverse
</screen>

            <para>Si se está usando la «Interfaz de entrada con temas» puede que haya temas MDM disponibles que proporcionen los esquemas de color y contraste necesarios, pero aún no se empaquetan con el programa MDM. Algunas distribuciones pueden incluir dichos temas. Aún no existe ningún mecanismo para cambiar entre los temas en la «Interfaz de entrada con temas», de tal forma que si el usuario necesita un tema accesible, entonces todos los usuarios deberán usar el mismo tema.</para>
          </sect3>

          <sect3 id="accessibilityatprograms">
            <title>Soporte de programas de tecnologías de asistencia</title>

            <para>Para activar el uso de tecnologías de asistencia como <command>GOK</command> u <command>orca</command>, el parámetro <filename>AddGtkModules</filename> en la configuración de MDM debe establecerse a «true». Además el parámetro <filename>GtkModulesList</filename> debe descomentarse y establecerse como sigue:</para>

<screen>
GtkModulesList=gail:atk-bridge:/usr/lib/gtk-2.0/modules/libdwellmouselistener:/usr/lib/gtk-2.0/modules/libkeymouselistener
</screen>

            <para>Esto hace que todos los programas de IGU de MDM se ejecuten con los módulos GTK apropieados para lanzar programas de TA. El uso de tecnologías de asistencia y del módulo atk-bridge requere que el demonio del registro, <command>at-spi-registryd</command>, se esté ejecutando. Esto se gestiona desde el IGU de MDM desde la versión 2.17.</para>

            <para>Los administradores del sistema pueden querer cargar el mínimo conjunto de módulos requerido para soportar a su base de usuarios. "libkeymouselistener" proporciona teclas rápidas y soporte de gestos mientras que "libdwellmouselistener" proporciona soporte para los gestos del ratón. Si su base de usuarios sólo requiere uno o el otro, sólo será necesario incluir la escucha de gestos necesaria. Además, algunos programas de TA pueden no requerir gail o atk-bridge. Si encuentra que los programas de TA que necesita funcionan bien sin incluir estos, entonces se pueden omitir. Note que algunos programas de TA funcionan con un conjunto reducido de características si gail y/o atk-bridge no están presentes. No obstante, para un uso general de la accesibilidad, es necesario incluir los cuatro.</para>

            <para>Una vez que "keymouselistener" y/o "dwellmouselistener" se han añadido a <filename>AddGtkModules</filename> cargados por MDM, entonces puede necesitar modificar la configuración de gestos para satisfacer las necesidades de sus usuarios. Se proporcionan gestos predeterminados para lanzar <command>GOK</command> y <command>orca</command>, pero se recomienda modificarlos para un mejor uso con su base de usuarios. Estas asociaciones de gestos están contenidas en los archivos <filename>AccessKeyMouseEvents</filename> y <filename>AccessDwellMouseEvents</filename> respectivamente. Ambos archivos están ubicados en el directorio <filename>&lt;etc&gt;/mdm/modules</filename>. El formato de la configuración de los gestos está descrito en la sección de comentarios de los dos archivos de configuración.</para>

            <para>El archivo  AccessKeyMouseEvents controla la escucha de gestos del teclado (keymouselistener) y se usa para definir pulsaciones de teclas, botones del ratón o secuencias de entrada de dispositivos XInput que puedan lanzar aplicaciones necesarias para la accesibilidad. Para poder reducir la probabilidad de lanzamientos no intencionados, estos «gestos» se pueden asociar con múltiples pulsaciones y/o duraciones mínimas. Note que la extensión XKB es necesaria para que los gestos funcionen, así que deberá añadir +xkb al comando de línea de su servidor X para que los gestos funcionen correctamente. El comando de línea del servidor X está especificado en el archivo de configuración de MDM en las secciones <filename>server-foo</filename>.</para>

            <para>El archivo DwellKeyMouseEvents controla la escucha de gestos del ratón (dwellmouselistner) y soporta los gestos que involucran el movimiento de un dispositivo apuntador tal como el ratón del sistema o un dispositivo apuntador alternativo como un apuntador de cabeza o «trackball». Los gestos de movimiento se definen como "crossing events" dentro y fuera del diálogo de la ventana de inicio de sesión. Si la escucha del gesto "dwellmouselistener" está cargada, entonces los dispositivos apuntadores alternativos están temporalmente bloqueados al apuntador primario, así que tal movimiento de los dispositivos alternativos resulta en un movimiento del puntero en pantalla. Todos los gestos están especificados con la misma sintaxis; esto es, no hay distinciones entre un gesto del ratón principal o un movimiento de un dispositivo de entrada alternativo.</para>

            <para>En algunos sistemas operativos es necesario asegurarse de que el usuario de MDM es un miembro del grupo "audio" para los programas de accesibilidad que necesiten salida de sonido (tal como texto-a-voz) para su funcionamiento.</para>

            <para>Actualmente MDM no recuerda qué programas de tecnologías de asistencia se han iniciado al cambiar de aplicaciones. De tal forma que si el usuario cambia entre el programa de inicio de sesión y el selector, por ejemplo, entonces es necesario que el usuario rehaga el gesto. Los usuarios también pueden necesitar configurar sus sesiones predeterminadas para que las tecnologías de asistencia requeridas se inicien automáticamente (o tener unas combinaciones de teclas apropiadas definidas para iniciarlas) después de iniciar la sesión del usuario.</para>
          </sect3>

          <sect3 id="accessibilitytroubleshooting">
            <title>Resolución de problemas de las tecnologías de asistencia</title>

            <para>Hay algunas cuestiones comunes que provocan que los usuarios tengan problemas al hacer funcionar los oyentes de gestos. Es recomendable que se use la versión 2.18.0 o posterior de MDM para obtener los mejores resultados.</para>

            <para>Algunos servidores X antiguos tienen un error que hace que «detectable autorepeat» falle cuando XEVIE está activado (que ocurre cuando atk-bridge está incluido como un módulo GTK). Este error hace que los gestos de teclado de duración mayor a 0 siempre fallen. Una solución es simplemente redefinir todos los gestos de teclado para que tengan una duración cero, o actualizar su servidor X.</para>

            <para>Algunas versiones de <command>GOK</command> y <command>orca</command> no se lanzarán a menos que el usuario «mdm» tenga un directorio personal escribible. Esto se solucionó en GNOME 2.18 pero si usa una versión anterior de GNOME, entonces asegúrese de que el usuario MDM tiene un directorio personal escribible para que estos programas funcionen.</para>

            <para>Si ve un cursor con un reloj de arena cuando complete un gesto pero el programa no se inicia, entonces esto indica que el gesto se recibió pero que hubo un problema al iniciar el programa. Probablemente el problema sea que no se puede escribir en el directorio personal del usuario mdm.</para>

            <para>Note que algunos dispositivos de entrada requieren una configuración del servidor X antes de que MDM los pueda reconocer.</para>
          </sect3>

          <sect3 id="accessibilitysound">
            <title>Configuración de sonido de accesibilidad en la entrada</title>

            <para>De forma predeterminada MDM requiere que una aplicación multimedia, tal como «play», esté presente para reproducir sonidos para los inicios de sesión fallidos o satisfactorios. La ubicación predeterminada de esta aplicación para MDM es <filename>&lt;bin&gt;/play</filename> (o <filename>&lt;bin&gt;/audioplay</filename> en Solaris). Esto se puede cambiar a través de la opción de configuración de MDM <filename>SoundProgram</filename>. Generalmente la mayoría de programas de texto-a-voz (tales como <command>orca</command>) usan un mecanismo separado para reproducir sonido, de tal forma que no necesitan este ajuste de la configuración para funcionar.</para>
          </sect3>
       </sect2>
  </sect1>

  <sect1 id="solaris">
    <title>Características específicas de Solaris</title>

       <sect2 id="solarisusing">
          <title>Usar MDM en Solaris</title>

          <para>MDM aún no es el programa de inicio de sesión predeterminado en Solaris. Si desea cambiar y usar MDM, entonces necesita desactivar el inicio de sesión con CDE e iniciar el servicio MDM. Note que desactivar el inicio de sesión con CDE causará que cualquier sesión que se esté ejecutando se cierre inmediatamente y cualquier dato no guardado se perderá. Ejecute estos comandos sólo si está seguro de que no hay datos sin guardar en sus sesiones en ejecución. Lo mejor sería ejecutar estos comandos desde una consola o un terminal a prueba de fallos en lugar de hacerlo desde una sesión IGU en ejecución. El primer paso es ejecutar el siguiente comando para ver si el inicio de sesión con CDE se está ejecutando como un servicio SMF.</para>

<screen>
svcs cde-login
</screen>

          <para>Si el comando <command>svcs</command> responde que este servicio está activado, entonces ejecute este comando para desactivar la entrada de CDE:</para>

<screen>
svcadm disable cde-login
</screen>

          <para>Si el comando <command>svcs</command> responde que este patrón no coincide con ninguna instancia, entonces ejecute esos comandos para parar la entrada en CDE:</para>

<screen>
/usr/dt/config/dtconfig -d
Reinicie o mate cualquier proceso que esté ejecutando dtlogin.
</screen>

          <para>En este punto se le presentará una consola de nuevo. Inicie sesión como «root » y ejecute el siguiente comando. Si está en Solaris 10 el nombre del servicio es "mdm2-login", si está en Solaris Nevada el nombre del servicio es "mdm".</para>

<screen>
svcadm enable servicename
</screen>
       </sect2>

       <sect2 id="solarisconfiguration">
          <title>Configuración de Solaris</title>
             <para>En Solaris, la siguiente configuración está recomendada. Esto activa IPv6 y también activa PreFetch para mejorar el rendimiento. <screen>
./autogen.sh --prefix=/usr --sysconfdir=/etc/X11 --localstatedir=/var
  --libexecdir=/usr/lib --enable-ipv6=yes --with-at-bindir=/usr/sfw/bin
  --with-prefetch --with-post-path=/usr/openwin/bin --with-pam-prefix=/etc
  --with-lang-file=/etc/default/init
</screen></para>

             <para>Configurar MDM con "--with-post-path=/usr/openwin/bin" en Solaris está recomendado para acceder a programas del servidor X.</para>
       </sect2>

       <sect2 id="solarislogindevperm">
          <title>Solaris /etc/logindevperm</title>
             <para>MDM soporta /etc/logindevperm, pero sólo en Solaris 10 y superiores. Vea la página man logindevperm.4 para más información.</para>

             <para>Para hacer funcionar /etc/logindevperm en Solaris 9 o anteriores, deberá haquear los scripts de MDM PreSession y PostSession para hacer un chmod a los permisos del dispositivo directamente. En otras palabras, si /etc/logindevperm se lista como esto:</para>

<screen>
/dev/console  0600  /dev/sound/*      # audio devices
</screen>
     
             <para>El script de PreSession debería tener que modificarse para que haga chown sobre /dev/console al usuario:grupo de quien esté entrando en la consola y asegurarse cualesquiera de los permisos estén especificados en /etc/logindevperm (0600 para la línea de arriba). Después en el script PostSession volver a hacer un chmod del dispositivo a root:root y asegurarse de que los permisos son 0600 esta vez (no usar el valor sobre el archivo /etc/logindevperm). Linux usa un mecanismo diferente para gestionar los permisos de dispositivos, así que este script adicional no es necesario.</para>
       </sect2>

       <sect2 id="solarisautomaticlogin">
          <title>Inicio de sesión automático en Solaris</title>
             <para>El inicio de sesión automático no funciona en Solaris 10 y anteriores porque PAM no está configurado para soportar esta característica de forma predeterminada. El inicio de sesión automático es una característica de MDM que no está activada de forma predeterminada, de tal forma que sólo notará este problema si intenta usarla. Activar esta característica hará que se inicie sesión con un usuario especificado en su equipo, sin preguntar por el usuario y la contraseña. Esta es una forma insegura de configurar su equipo.</para>

             <para>Si está usando Solaris 10 o inferior, entonces necesita compilar el código pam_allow.c proporcionado con la distribución de MDM e instalarlo en /usr/lib/security (o proporcionar la ruta completa en /etc/pam.conf) y asegurarse de que el propietario tiene un uid 0 y sin grupo o que sea editable por todo usuario.</para>

             <para>Los siguientes son valores razonables para pam.conf para activar la entrada automática en MDM. Asegúrese de leer la documentación de PAM (ej. página man de pam.d/pam.conf) y conocer las implicaciones de seguridad que cualquier cambio que intente hacer a la configuración.</para>

<screen>
    mdm-autologin auth required  pam_unix_cred.so.1
    mdm-autologin auth sufficient pam_allow.so.1
    mdm-autologin account sufficient pam_allow.so.1
    mdm-autologin session sufficient pam_allow.so.1
    mdm-autologin password sufficient pam_allow.so.1
</screen>

             <para>La configuración anterior hará que no se genere información de «lastlog». Si se desea una entrada de «lastlog», use lo siguiente para la sesión:</para>

<screen>
    mdm-autologin session required pam_unix_session.so.1
</screen>
       </sect2>

       <sect2 id="solarisrbac">
          <title>Soporte RBAC en Solaris para apagar, reiniciar y suspender</title>

             <para>Desde la versión MDM 2.19, MDM soporta RBAC (Role Based Access Control) para activar los comandos del sistema apagar, reiniciar, suspender, etc (shutdown, reboot, suspend, etc.) que aparecen en el menú gráfico y a través de los comandos QUERY_LOGOUT_ACTION, SET_LOGOUT_ACTION, y SET_SAFE_LOGOUT_ACTION de <command>mdmflexiserver</command>.</para>

             <para>En Solaris, MDM tiene el siguiente valor especificado para la opción de configuración <filename>RBACSystemCommandKeys</filename>.</para>

<screen>
HALT:solaris.system.shutdown;REBOOT:solaris.system.shutdown
</screen>

             <para>Esto hará que las características APAGAR y REINICIAR sólo estén activadas para usuarios con autoridad RBAC. En otras palabras, aquellos usuarios que tienen la autorización "solaris.system.shutdown" específica. La interfaz de entrada de MDM sólo mostrará esas opciones si el usuario de MDM (especificado en la opción de configuración <filename>User</filename>, "mdm" de forma predeterminada) tiene esos permisos RBAC.</para>

             <para>Por ello, añada la autorización "solaris.system.shutdown" al archivo <filename>/etc/user_attr</filename> para todos los usuarios que deben tener autoridad para apagar y reiniciar el sistema. Si quiere que estas opciones aparezcan en el programa de interfaz de entrada de MDM, añada también esta autorización al usuario "mdm". Si no quiere usar RBAC, entonces debe deshabilitar la clave de configuración de MDM <filename>RBACSystemCommandKeys</filename> y esto hará que los comandos del sistema estén disponibles para todos los usuarios. Consulte la página man de <filename>user_attr</filename> para obtener más información acerca de los privilegios RBAC.</para>

             <para>Note que en Solaris hay dos programas que se pueden usar para apagar el sistema. Estos son MDM y <command>gnome-sys-suspend</command>. <command>gnome-sys-suspend</command> es un IGU «front-end» para <command>sys-suspend</command>.</para>
             
             <para>Si se está usando MDM como el programa de inicio de sesión y el usuario tiene permisos RBAC para apagar la máquina (o el soporte para RBAC está desactivado en MDM), entonces la opción «Apagar...» del panel de GNOME usará MDM para apagar, reiniciar y suspender la máquina. Es algo más bonito que usar <command>gnome-sys-suspend</command> ya que MDM esperará hasta que la sesión haya finalizado (incluyendo el script PostSession, etc.) antes de iniciar el comando de apagado, reinicio o suspensión. Además el comando <command>gnome-sys-suspend</command> es menos funcional ya que no soporta la opción de reinicio, sólo apagado y suspensión.</para>

             <para>Si MDM no se está usando para gestionar el apagado, reinicio y la suspensión; entonces el panel de GNOME usa <command>gnome-sys-suspend</command> cuando selecciona la opción «Apagar...» del menú Sistema. Si el menú emergente que aparece cuando selecciona esta opción sólo muestra las opciones de suspender y apagar, entonces seguramente esté usando <command>gnome-sys-suspend</command>. Si está usando esto, entonces consulte la página man de <command>sys-suspend</command> para obtener información acerca de cómo configurarlo. O considere usar MDM y configurarlo para proporcionar estas opciones.</para>
       </sect2>

       <sect2 id="solarisother">
          <title>Otras características de Solaris</title>
             <para>MDM soporta unas pocas características específicas a Solaris, como las siguientes:</para>

             <para>MDM soporta Solaris Auditing si se ejecuta sobre Solaris 10 o superior. MDM no debería usarse si se necesita auditoría y se está ejecutando Solaris 9 o anterior.</para>

            <para>MDM tiene una característica de seguridad que hace que el servidor X funcione como el usuario en lugar del usuario root. MDM debe estar usando PAM para que esta característica esté activada, lo cual es el caso normal en Solaris. Esta segunda característica tiene el efecto colateral de hacer que el servidor X siempre se reinicie entre las sesiones, lo cual desactiva la opción de configuración AlwaysRestartServer.</para>

            <para>Solaris ssoporta el interfaz <filename>/etc/default/login</filename>,que afecta las opciones <filename>DefaultPath</filename>, <filename>RootPath</filename>, <filename>PasswordRequired</filename>, y <filename>AllowRemoteRoot</filename> tal como se describen en la sección«Configuración» .</para>
       </sect2>
  </sect1>

  <sect1 id="exampleconf">
    <title>Configuraciones de ejemplo</title>

    <sect2 id="customcommand">
      <title>Definir comandos personalizados</title>
      
      <para>Suponga que quiere añadir un comando personalizado al menú de MDM que le permitirá arrancar el equipo en otro sistema operativo como Windoza. Simplemente alada las siguientes opciones en la sección <filename>[customcommand]</filename> del archivo de configuración de MDM. <screen>
          [customcommand]
          CustomCommand0=/sbin/rebootwindoze;/usr/local/sbin/rebootwindoze
          CustomCommandLabel0=_Windoza
          CustomCommandLRLabel0=Reiniciar en _Windoza
          CustomCommandText0=¿Está seguro de que quiere reiniciar el equipo en Windoza?
          CustomCommandTooltip0=Reinicia el equipo en Windoza
          CustomCommandIsPersistent0=true
        </screen> El comando personalizado 0 (CustomCommand0) especifica dos comandos separados por un punto y coma: <filename>/sbin/rebootwindoze</filename> y <filename>/usr/local/sbin/rebootwindoze</filename>. MDM usará el primer comando válido en la lista. Esto permite diferentes comandos para incluir diferentes sistemas operativos.</para>
      <para>Note que, además de poder personalizar esta opción para reiniciar en distintos sistemas operativos, también puede definir sus propios comportamientos personalizados que quiere ejecutar desde el menú de MDM. Suponga que quiere proporcionar a los usuarios la oportunidad de ejecutar scripts de actualización del sistema desde la pantalla de inicio de sesión. Añada las siguientes opciones en la sección <filename>[customcommand]</filename> de su archivo de configuración de MDM. <screen>
          [customcommand]
          CustomCommand0=/sbin/updatesystem;/usr/local/sbin/updatesystem
          CustomCommandLabel0=_Actualízame
          CustomCommandLRLabel0=Actualizar el sistema
          CustomCommandText0=¿Está seguro de que quiere actualizar el software del sistema?
          CustomCommandTooltip0=Actualiza el sistema
          CustomCommandNoRestart0=true
        </screen></para>
      
      <para>Ambos comandos personalizados se pueden definir tal y como sigue. <screen>
          [customcommand]
          CustomCommand0=/sbin/rebootwindoze;/usr/local/sbin/rebootwindoze
          CustomCommandLabel0=_Windoza
          CustomCommandLRLabel0=Reiniciar en _Windoza
          CustomCommandText0=¿Está seguro de que quiere reiniciar el equipo en Windoza?
          CustomCommandTooltip0=Reinicia el equipo en Windoza
          CustomCommandIsPersistent0=true
          
          CustomCommand1=/sbin/updatesystem;/usr/local/sbin/updatesystem
          CustomCommandLabel1=_Actualízame
          CustomCommandLRLabel1=Actualizar el sistema
          CustomCommandText1=¿Está seguro de que quiere actualizar el software del sistema?
          CustomCommandTooltip1=Actualiza el sistema
          CustomCommandNoRestart1=true
        </screen></para>
      
      <para>Puede haber hasta 10 comandos personalizados numerados del 0 al 9. <screen>
          [customcommand]
          CustomCommand0=/sbin/rebootwindoze;/usr/local/sbin/rebootwindoze
          CustomCommandLabel0=_Windoza
          CustomCommandLRLabel0=Reiniciar en _Windoza
          CustomCommandText0=¿Está seguro de que quiere reiniciar el equipo en Windoza?
          CustomCommandTooltip0=Reinicia el equipo en Windoza
          CustomCommandIsPersistent0=true
          
          CustomCommand1=/sbin/updatesystem;/usr/local/sbin/updatesystem
          CustomCommandLabel1=_Actualízame
          CustomCommandLRLabel1=Actualizar el sistema
          CustomCommandText1=¿Está seguro de que quiere actualizar el software del sistema?
          CustomCommandTooltip1=Actualiza el sistema
          CustomCommandNoRestart1=true
          
          CustomCommand3=/sbin/hacer_algo
          .
          .
          .
          .
          CustomCommand4=/sbin/hacer_algo_mas
          .
          .
          .
        </screen></para>
    </sect2>
  </sect1>

  <sect1 id="troubleshooting">
    <title>Resolución de problemas</title>

    <para>Esta sección hace acerca de consejos útiles para hacer funcionar MDM. En general, si tiene un problema al usar MDM, puede enviar un bug a la categoría «mdm» en <ulink type="http" url="http://bugzilla.gnome.org/">bugzilla.gnome.org</ulink> o enviar un correo-e a la lista de correo <address><email>mdm-list@gnome.org</email></address>.</para>

    <para>Si MDM comienza a no funcionar correctamente, siempre es buena idea incluir la información de depuración. Use el comando <command>mdmsetup</command> para activar la depuración (la casilla «Activar envío de mensajes de depuración al registro del sistema» en la solapa «Seguridad»), después use MDM hasta el punto donde falla, e incluya la salida de MDM que se envió a su registro del sistema (<filename>&lt;var&gt;/log/messages</filename> o <filename>&lt;var&gt;/adm/messages</filename> dependiendo de su sistema operativo). Ya que el registro del sistema puede ser muy grande, incluya sólo la información de depuración de MDM y no envíe el archivo entero. Si no ve ninguna salida de depuración de MDM, quizá necesite configurar el registro del sistema (consulte la página syslog.3c).</para>

    <para>No debería dejar la depuración activada después de obtener los datos. desordenará su archivo syslog y ralentizará el rendimiento del sistema.</para>

    <sect2 id="wontstart">
      <title>MDM no se inicia</title>

      <para>Puede haber muchos problemas que causen un fallo de MDM al inicio, pero esta sección discutirá algunos problemas comunes y cómo solucionar un problema de inicio de MDM. Algunos problemas provocarán que MDM responda con un mensaje de error o un diálogo cuando intenta iniciarse, pero puede ser difícil seguir un problema cuando MDM falla de forma silenciosa.</para>

      <para>Primero asegúrese de que el servidor X está configurado apropiadamente. El archivo de configuración de MDM contiene un comando en la sección [server-Standard] que se usa para iniciar el servidor X. Compruebe que este comando funciona en su sistema. Al ejecutar este comando se debería iniciar el servidor X desde la consola. Si falla, entonces el problema probablemente sea de la configuración de su servidor X. Consulte el registro de error de su servidor X para obtener una idea de cuál puede ser el problema. El problema también puede ser que su servidor X requiere diferentes opciones en la línea de comandos. Si es así, modifique el comando del servidor X en el archivo de configuración de MDM para que sea correcto en su sistema.</para>

      <para>Otro problema común es que la interfaz de entrada de MDM tenga problemas para iniciarse. Esto puede pasar, por ejemplo, si MDM no puede encontrar una biblioteca u otro recurso. Pruebe a iniciar el servidor X y una terminal de programa, establezca la variable de entorno DOING_MDM_DEVELOPMENT=1 y ejecute <command>&lt;lib&gt;/mdmlogin</command> o <command>&lt;lib&gt;/mdmgreeter</command>. Cualquier mensaje de error mostrado en la terminal probablemente resaltará el problema. También puede ayudar a encontrar el problema activar la depuración y comprobar la salida enviada al registro del sistema.</para>

      <para>Asegúrese de que el directorio <filename>/tmp</filename> tiene permisos y propiedad razonables, y que el sistema de archivos de la máquina no está lleno. Estos problemas harán que MDM falle al iniciar.</para>
    </sect2>

    <sect2 id="notaccessfile">
      <title>MDM no accede a los ajustes del usuario</title>

      <para>MDM guarda los ajustes del usuario, como su sesión predeterminada y el idioma, en el archivo <filename>~/.dmrc</filename>. Otros archivos, como el archivo <filename>~/.Xauthority</filename> también afectarán a la entrad. MDM, por omisión, es estricto acerca de cómo se intenta acceder a los archivos en el directorio personal del usuario e ignorará el archivo si no está de acuerdo con ciertas reglas. Puede usar la opción de configuración <filename>RelaxPermissions</filename> para hacer que MDM sea menos estricto acerca de cómo accede a los archivos en el directorio personal del usuario, o corregir los problemas de permisos que hacen que DGM ignore el archivo. Esto se trata en detalle en la sección «Acceso a archivos » en la «Vista general».</para>
    </sect2>
  </sect1>

  <!-- ============= Application License ============================= -->

  <sect1 id="license">
    <title>Licencia</title>
    <para>Este programa es software libre; puede redistribuirlo y/o modificarlo bajo los términos de la <ulink type="help" url="gnome-help:gpl"><citetitle>Licencia Pública General GNU</citetitle></ulink> tal como se publica por la Free Software Foundation; ya sea la versión 2 de la Licencia, o (a su elección) cualquier versión posterior.</para>
    <para>Este programa se distribuye con la esperanza de que le sea útil, pero SIN NINGUNA GARANTÍA; sin incluso la garantía implícita de MERCANTILIDAD o IDONEIDAD PARA UN PROPÓSITO PARTICULAR. Vea la <citetitle>Licencia Pública General GNU</citetitle> para más detalles.</para>
    <para>Se incluye una copia de la <citetitle>Licencia Pública General GNU</citetitle> como un apéndice a la <citetitle>Guía del usuario de GNOME</citetitle>. Quizá quiera obtener una copia de la <citetitle>Licencia Pública General GNU</citetitle> de la Free Software Foundation visitando <ulink type="http" url="http://www.fsf.org">su sitio web</ulink> o escribiendo a <address>Free Software Foundation, Inc. <street>51 Franklin Street, Fifth Floor</street><city>Boston</city>, <state>MA</state><postcode>02110-1301</postcode><country>USA</country></address></para>
  </sect1>
</article>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
